2022-11-04 17:25:39.289 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:25:39.712 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:25:39.712 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:25:39.718 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:25:39.718 +03:00 [INF] Hosting environment: Development
2022-11-04 17:25:39.718 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:27:12.016 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:27:12.073 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:12.081 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 68.7403ms
2022-11-04 17:27:12.087 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:27:12.089 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:12.102 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:27:12.136 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:27:14.223 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:27:14.686 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:27:14.813 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:27:14.871 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:27:14.876 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:27:14.878 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:27:15.050 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:27:15.219 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:27:15.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:27:15.288 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3143.5418ms
2022-11-04 17:27:15.290 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:27:15.317 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3229.6495ms
2022-11-04 17:27:41.348 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:27:41.353 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:41.353 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 5.8385ms
2022-11-04 17:27:41.355 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:27:41.378 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:41.510 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-04 17:27:41.528 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-04 17:27:41.532 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-04 17:27:41.550 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-04 17:27:41.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 401 0 - 195.8772ms
2022-11-04 17:27:41.561 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-04 17:27:41.562 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:41.572 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 10.4738ms
2022-11-04 17:27:41.575 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-04 17:27:41.575 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:27:41.577 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-04 17:27:41.591 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:27:41.653 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:27:41.670 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-04 17:27:41.682 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:27:41.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:27:41.693 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-04 17:27:41.695 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 104.1227ms
2022-11-04 17:27:41.695 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-04 17:27:41.696 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 120.9918ms
2022-11-04 17:28:23.147 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:28:23.159 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:23.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 13.9168ms
2022-11-04 17:28:23.163 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:28:23.163 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:23.164 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:23.166 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:28:23.222 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:28:23.253 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:23.263 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:23.269 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:23.274 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:23.274 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:28:23.284 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:28:23.293 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:28:23.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:28:23.302 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 135.7392ms
2022-11-04 17:28:23.303 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:23.303 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 140.1140ms
2022-11-04 17:28:29.118 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:28:29.118 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:29.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.5350ms
2022-11-04 17:28:29.124 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:28:29.124 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:29.124 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.5738ms
2022-11-04 17:28:29.128 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:28:29.128 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:29.128 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:29.129 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:28:29.148 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:28:29.149 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:29.149 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:29.149 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:28:29.154 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:28:29.156 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:28:29.165 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:29.165 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:29.181 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:29.187 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:29.188 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:29.192 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:29.193 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:28:29.193 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:28:29.196 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:28:29.196 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:28:29.197 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:28:29.200 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:28:29.201 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:28:29.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:28:29.205 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 53.9567ms
2022-11-04 17:28:29.205 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:29.205 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 56.5770ms
2022-11-04 17:28:29.207 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:28:29.223 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:28:29.223 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 93.7769ms
2022-11-04 17:28:29.223 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:28:29.223 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 95.3572ms
2022-11-04 17:28:33.155 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:28:33.155 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:33.155 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.6895ms
2022-11-04 17:28:33.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:28:33.156 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:28:33.180 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:28:33.184 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:28:33.203 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:28:33.266 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:28:33.270 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:28:33.288 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:28:33.289 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:28:33.303 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:28:33.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 129.3514ms
2022-11-04 17:28:33.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:28:33.315 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 158.8834ms
2022-11-04 17:33:08.152 +03:00 [INF] Application is shutting down...
2022-11-04 17:33:13.348 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:33:13.591 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:33:13.591 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:33:13.594 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:33:13.594 +03:00 [INF] Hosting environment: Development
2022-11-04 17:33:13.595 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:33:20.624 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:33:20.673 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:20.680 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 59.2714ms
2022-11-04 17:33:20.686 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:33:20.688 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:20.701 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:20.745 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:33:23.131 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:23.647 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:23.782 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:23.842 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:23.847 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:23.848 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:33:24.030 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:33:24.216 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:33:24.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:33:24.289 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3535.8832ms
2022-11-04 17:33:24.292 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.320 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3633.9821ms
2022-11-04 17:33:24.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:33:24.738 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.738 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.1718ms
2022-11-04 17:33:24.739 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:33:24.739 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.739 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.2970ms
2022-11-04 17:33:24.740 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:33:24.740 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.740 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.2560ms
2022-11-04 17:33:24.741 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:33:24.742 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.742 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.742 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:33:24.761 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:33:24.762 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.763 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.763 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:33:24.778 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:24.781 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.782 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:24.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.786 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.789 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:33:24.792 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:33:24.796 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:33:24.800 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:33:24.801 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 58.0353ms
2022-11-04 17:33:24.801 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.801 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 59.4271ms
2022-11-04 17:33:24.807 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:33:24.807 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:24.808 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.810 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:33:24.812 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:24.817 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.823 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.828 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.832 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.833 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:33:24.839 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:33:24.847 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:33:24.851 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:33:24.851 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 40.894ms
2022-11-04 17:33:24.852 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.852 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 44.6043ms
2022-11-04 17:33:24.862 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.866 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.869 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:33:24.872 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:33:24.872 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:33:24.875 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:33:24.879 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:33:24.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:33:24.882 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 118.4457ms
2022-11-04 17:33:24.882 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:33:24.882 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 120.6931ms
2022-11-04 17:33:28.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:33:28.030 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:28.030 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.4981ms
2022-11-04 17:33:28.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:33:28.040 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:28.138 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:33:28.142 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:33:28.160 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:28.199 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:33:28.203 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:33:28.218 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:33:28.219 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:33:28.234 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:33:28.244 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 101.4501ms
2022-11-04 17:33:28.244 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:33:28.245 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 214.0690ms
2022-11-04 17:33:30.814 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/c24a7638-ae2e-4bd9-8d70-5798234f9fce - -
2022-11-04 17:33:30.814 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:30.815 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/c24a7638-ae2e-4bd9-8d70-5798234f9fce - - - 204 - - 0.5289ms
2022-11-04 17:33:30.816 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7129/api/products/c24a7638-ae2e-4bd9-8d70-5798234f9fce - -
2022-11-04 17:33:30.819 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:30.822 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi)'
2022-11-04 17:33:30.829 +03:00 [INF] Route matched with {action = "Delete", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(ECommerce.Application.Features.Commands.Product.RemoveProduct.RemoveProductCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:33:30.845 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:30.862 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2022-11-04 17:33:30.940 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = @p0;
2022-11-04 17:33:30.949 +03:00 [INF] Ürün silindi...
2022-11-04 17:33:30.957 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-11-04 17:33:30.957 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi) in 127.6988ms
2022-11-04 17:33:30.957 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi)'
2022-11-04 17:33:30.957 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7129/api/products/c24a7638-ae2e-4bd9-8d70-5798234f9fce - - - 200 0 - 141.8647ms
2022-11-04 17:33:31.680 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:33:31.681 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:33:31.684 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:33:31.684 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:33:31.687 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:33:31.697 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:33:31.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:33:31.703 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:33:31.704 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 19.3261ms
2022-11-04 17:33:31.704 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:33:31.704 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 23.8936ms
2022-11-04 17:35:10.658 +03:00 [INF] Application is shutting down...
2022-11-04 17:37:17.622 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:37:17.796 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:37:17.796 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:37:17.798 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:37:17.798 +03:00 [INF] Hosting environment: Development
2022-11-04 17:37:17.798 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:37:33.736 +03:00 [INF] Application is shutting down...
2022-11-04 17:37:40.558 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:37:40.722 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:37:40.722 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:37:40.724 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:37:40.724 +03:00 [INF] Hosting environment: Development
2022-11-04 17:37:40.725 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:38:12.472 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:38:12.527 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:12.536 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 68.4064ms
2022-11-04 17:38:12.543 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:38:12.546 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:12.572 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:38:12.636 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:38:15.055 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:38:15.543 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:38:15.676 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:38:15.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:38:15.740 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:38:15.742 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:38:15.924 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:38:16.135 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:38:16.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:38:16.208 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3563.2032ms
2022-11-04 17:38:16.210 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:38:16.241 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3697.4852ms
2022-11-04 17:38:21.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:38:21.449 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:21.450 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 1.6330ms
2022-11-04 17:38:21.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:38:21.461 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:21.564 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:38:21.568 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:38:21.620 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:38:21.658 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:38:21.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:38:21.677 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:38:21.678 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:38:21.694 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:38:21.706 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 136.9915ms
2022-11-04 17:38:21.706 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:38:21.707 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 256.3832ms
2022-11-04 17:38:24.266 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/e5cfa48c-e1af-44e0-97af-1d8ddd6f6ea7 - -
2022-11-04 17:38:24.267 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:24.267 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/e5cfa48c-e1af-44e0-97af-1d8ddd6f6ea7 - - - 204 - - 0.5689ms
2022-11-04 17:38:24.268 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7129/api/products/e5cfa48c-e1af-44e0-97af-1d8ddd6f6ea7 - -
2022-11-04 17:38:24.270 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:24.274 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi)'
2022-11-04 17:38:24.281 +03:00 [INF] Route matched with {action = "Delete", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(ECommerce.Application.Features.Commands.Product.RemoveProduct.RemoveProductCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:38:24.309 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:38:24.326 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2022-11-04 17:38:24.404 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "Id" = @p0;
2022-11-04 17:38:24.414 +03:00 [INF] Ürün silindi...
2022-11-04 17:38:24.423 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-11-04 17:38:24.423 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi) in 142.0332ms
2022-11-04 17:38:24.423 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Delete (ECommerce.WebApi)'
2022-11-04 17:38:24.424 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7129/api/products/e5cfa48c-e1af-44e0-97af-1d8ddd6f6ea7 - - - 200 0 - 156.1795ms
2022-11-04 17:38:25.133 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:38:25.133 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:38:25.136 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:38:25.136 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:38:25.138 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:38:25.142 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:38:25.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:38:25.152 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:38:25.153 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.6595ms
2022-11-04 17:38:25.153 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:38:25.153 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 20.3769ms
2022-11-04 17:39:07.412 +03:00 [INF] Application is shutting down...
2022-11-04 17:39:13.655 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:39:13.899 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:39:13.900 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:39:13.906 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:39:13.906 +03:00 [INF] Hosting environment: Development
2022-11-04 17:39:13.906 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:46:42.210 +03:00 [INF] Application is shutting down...
2022-11-04 17:46:46.851 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 17:46:47.111 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 17:46:47.111 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 17:46:47.115 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 17:46:47.115 +03:00 [INF] Hosting environment: Development
2022-11-04 17:46:47.115 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 17:47:04.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 17:47:04.872 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:47:04.881 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 72.8754ms
2022-11-04 17:47:04.888 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 17:47:04.890 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:47:04.905 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:47:04.949 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 17:47:07.392 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:47:07.875 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:47:08.005 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:47:08.066 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 17:47:08.071 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 17:47:08.072 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 17:47:08.251 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 17:47:08.428 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 17:47:08.476 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 17:47:08.500 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3542.1628ms
2022-11-04 17:47:08.502 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 17:47:08.533 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3644.8011ms
2022-11-04 17:47:10.013 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:47:10.015 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:47:10.015 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.0297ms
2022-11-04 17:47:10.016 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 17:47:10.025 +03:00 [INF] CORS policy execution successful.
2022-11-04 17:47:10.134 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:47:10.140 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 17:47:10.198 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 17:47:10.246 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 17:47:10.250 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 17:47:10.266 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:47:10.267 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 17:47:10.282 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 17:47:10.297 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 157.2677ms
2022-11-04 17:47:10.297 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 17:47:10.299 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 282.4266ms
2022-11-04 18:17:02.459 +03:00 [INF] Application is shutting down...
2022-11-04 18:43:59.893 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:44:00.286 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:44:00.287 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:44:00.291 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:44:00.291 +03:00 [INF] Hosting environment: Development
2022-11-04 18:44:00.292 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:44:06.006 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:06.108 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:06.126 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 122.4709ms
2022-11-04 18:44:06.145 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:06.152 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:06.190 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:06.473 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:07.348 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 867.6709ms
2022-11-04 18:44:07.350 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:07.351 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:07.375 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:07.382 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 1237.4703ms
2022-11-04 18:44:13.107 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.109 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.110 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 3.2829ms
2022-11-04 18:44:13.128 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.128 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.128 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.9575ms
2022-11-04 18:44:13.132 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.132 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.132 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.5175ms
2022-11-04 18:44:13.137 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.137 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.137 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.137 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.137 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.2818ms
2022-11-04 18:44:13.137 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.3344ms
2022-11-04 18:44:13.139 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:44:13.139 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.139 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.1860ms
2022-11-04 18:44:13.139 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.139 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.140 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.140 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.151 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.151 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.153 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.154 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.157 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 16.7359ms
2022-11-04 18:44:13.157 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3.1637ms
2022-11-04 18:44:13.157 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.157 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.157 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.157 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.160 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.161 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.165 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.165 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.166 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.166 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 14.7257ms
2022-11-04 18:44:13.166 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 26.7196ms
2022-11-04 18:44:13.166 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.169 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.169 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.169 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.169 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.178 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.181 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.181 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.181 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.188 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 21.9292ms
2022-11-04 18:44:13.188 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 5.6327ms
2022-11-04 18:44:13.188 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.189 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 19.2749ms
2022-11-04 18:44:13.189 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.189 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.191 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.189 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.191 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 30.0522ms
2022-11-04 18:44:13.191 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.192 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.197 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.197 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:44:13.197 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.198 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:44:13.198 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 19.4405ms
2022-11-04 18:44:13.198 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.198 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:44:13.198 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 29.3528ms
2022-11-04 18:44:13.201 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 2.8703ms
2022-11-04 18:44:13.201 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:44:13.202 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:44:13.204 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:44:13.204 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 7.0846ms
2022-11-04 18:44:44.554 +03:00 [INF] Application is shutting down...
2022-11-04 18:44:48.728 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:44:49.025 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:44:49.025 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:44:49.030 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:44:49.030 +03:00 [INF] Hosting environment: Development
2022-11-04 18:44:49.030 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:45:19.821 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - -
2022-11-04 18:45:19.873 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:45:19.882 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - - - 204 - - 64.5590ms
2022-11-04 18:45:19.888 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834
2022-11-04 18:45:19.890 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:45:19.902 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:45:19.936 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:45:20.234 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:45:20.238 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:45:20.361 +03:00 [INF] Received HTTP response headers after 118.3442ms - 400
2022-11-04 18:45:20.362 +03:00 [INF] End processing HTTP request after 132.1617ms - 400
2022-11-04 18:45:20.403 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi) in 458.3206ms
2022-11-04 18:45:20.405 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:45:20.414 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at System.Net.Http.HttpClient.GetStringAsyncCore(HttpRequestMessage request, CancellationToken cancellationToken)
   at ECommerce.Persistence.Services.AuthService.FacebookLoginAsync(String authToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 74
   at ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandHandler.Handle(FacebookLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/FacebookLogin/FacebookLoginCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.FacebookLogin(FacebookLoginCommandRequest facebookLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:45:20.456 +03:00 [ERR] Response status code does not indicate success: 400 (Bad Request).
2022-11-04 18:45:20.557 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834 - 500 - application/json 669.4500ms
2022-11-04 18:45:44.762 +03:00 [INF] Application is shutting down...
2022-11-04 18:45:50.627 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:45:50.804 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:45:50.804 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:45:50.806 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:45:50.806 +03:00 [INF] Hosting environment: Development
2022-11-04 18:45:50.806 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:46:10.517 +03:00 [INF] Application is shutting down...
2022-11-04 18:46:13.717 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:46:13.889 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:46:13.889 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:46:13.892 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:46:13.892 +03:00 [INF] Hosting environment: Development
2022-11-04 18:46:13.892 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:46:36.758 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - -
2022-11-04 18:46:36.809 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:46:36.818 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - - - 204 - - 62.9520ms
2022-11-04 18:46:36.824 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834
2022-11-04 18:46:36.825 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:46:36.838 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:46:36.870 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:46:37.158 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:46:37.160 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:46:37.286 +03:00 [INF] Received HTTP response headers after 121.1896ms - 400
2022-11-04 18:46:37.287 +03:00 [INF] End processing HTTP request after 132.6165ms - 400
2022-11-04 18:46:37.326 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi) in 447.7087ms
2022-11-04 18:46:37.328 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:46:37.355 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at System.Net.Http.HttpClient.GetStringAsyncCore(HttpRequestMessage request, CancellationToken cancellationToken)
   at ECommerce.Persistence.Services.AuthService.FacebookLoginAsync(String authToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 74
   at ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandHandler.Handle(FacebookLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/FacebookLogin/FacebookLoginCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.FacebookLogin(FacebookLoginCommandRequest facebookLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 104
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:46:37.430 +03:00 [ERR] Response status code does not indicate success: 400 (Bad Request).
2022-11-04 18:46:37.457 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834 - 500 - application/json 633.0694ms
2022-11-04 18:47:10.016 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/login - -
2022-11-04 18:47:10.019 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:10.021 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/login - - - 204 - - 4.3715ms
2022-11-04 18:47:10.022 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/login application/json 57
2022-11-04 18:47:10.023 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:10.029 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.Login (ECommerce.WebApi)'
2022-11-04 18:47:10.034 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerce.Application.Features.Commands.User.LoginUser.LoginUserCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:47:12.240 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 18:47:12.990 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 18:47:13.609 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 18:47:13.859 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 18:47:13.891 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.LoginUser.LoginUserSuccessCommandResponse'.
2022-11-04 18:47:13.903 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.Login (ECommerce.WebApi) in 3868.4018ms
2022-11-04 18:47:13.903 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.Login (ECommerce.WebApi)'
2022-11-04 18:47:13.911 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/login application/json 57 - 200 - application/json;+charset=utf-8 3889.5957ms
2022-11-04 18:47:18.687 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - -
2022-11-04 18:47:18.688 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:18.688 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/facebook-login - - - 204 - - 0.9848ms
2022-11-04 18:47:18.689 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834
2022-11-04 18:47:18.689 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:18.694 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:47:18.695 +03:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:47:18.701 +03:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:47:18.701 +03:00 [INF] Sending HTTP request GET "https://graph.facebook.com/oauth/access_token?client_id=x&client_secret=x&grant_type=client_credentials"
2022-11-04 18:47:18.769 +03:00 [INF] Received HTTP response headers after 68.5156ms - 400
2022-11-04 18:47:18.770 +03:00 [INF] End processing HTTP request after 68.9772ms - 400
2022-11-04 18:47:18.772 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi) in 77.0444ms
2022-11-04 18:47:18.772 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.FacebookLogin (ECommerce.WebApi)'
2022-11-04 18:47:18.773 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at System.Net.Http.HttpClient.GetStringAsyncCore(HttpRequestMessage request, CancellationToken cancellationToken)
   at ECommerce.Persistence.Services.AuthService.FacebookLoginAsync(String authToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 74
   at ECommerce.Application.Features.Commands.User.FacebookLogin.FacebookLoginCommandHandler.Handle(FacebookLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/FacebookLogin/FacebookLoginCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.FacebookLogin(FacebookLoginCommandRequest facebookLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 104
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:47:18.777 +03:00 [ERR] Response status code does not indicate success: 400 (Bad Request).
2022-11-04 18:47:18.778 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/facebook-login application/json 834 - 500 - application/json 88.8150ms
2022-11-04 18:47:26.821 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:47:26.825 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:26.825 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 3.8422ms
2022-11-04 18:47:26.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:47:26.826 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:26.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.4092ms
2022-11-04 18:47:26.829 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:47:26.829 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:26.829 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:47:26.838 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:47:26.849 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:47:26.850 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:47:26.850 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:47:26.850 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:47:27.044 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 206.0022ms
2022-11-04 18:47:27.044 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 194.224ms
2022-11-04 18:47:27.044 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:47:27.044 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:47:27.044 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 104
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:47:27.044 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 104
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:47:27.046 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:47:27.047 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:47:27.047 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 218.5055ms
2022-11-04 18:47:27.047 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 197.9332ms
2022-11-04 18:48:11.663 +03:00 [INF] Application is shutting down...
2022-11-04 18:48:23.687 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:48:24.493 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:48:24.519 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:48:24.523 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:48:24.525 +03:00 [INF] Hosting environment: Development
2022-11-04 18:48:24.525 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:48:26.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:48:26.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:48:26.734 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:48:26.734 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:48:26.768 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 124.7536ms
2022-11-04 18:48:26.768 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 120.1840ms
2022-11-04 18:48:26.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:48:26.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:48:26.791 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:48:26.791 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:48:26.822 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:48:26.822 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:48:26.888 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:48:26.888 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:49:09.373 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 42481.1972ms
2022-11-04 18:49:09.373 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 42481.1149ms
2022-11-04 18:49:09.376 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:49:09.376 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:49:09.425 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:49:09.425 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ECommerce.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 110
   at ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/GoogleLogin/GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:49:09.457 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:49:09.457 +03:00 [ERR] JWT contains untrusted 'aud' claim.
2022-11-04 18:49:09.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 42678.3783ms
2022-11-04 18:49:09.464 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 500 - application/json 42678.3749ms
2022-11-04 18:49:13.663 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:49:13.663 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:49:13.665 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:49:13.665 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:49:13.666 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 2.5419ms
2022-11-04 18:49:13.666 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 2.5567ms
2022-11-04 18:49:13.694 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:49:13.694 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:49:13.695 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:49:13.695 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:49:13.698 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:49:13.698 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:49:13.699 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:49:13.699 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:51:34.380 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 18:51:34.586 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 18:51:34.587 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 18:51:34.590 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 18:51:34.590 +03:00 [INF] Hosting environment: Development
2022-11-04 18:51:34.590 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 18:51:41.739 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:51:41.739 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 18:51:41.797 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:41.797 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:41.805 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 68.5248ms
2022-11-04 18:51:41.805 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 68.5461ms
2022-11-04 18:51:41.811 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:51:41.811 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 18:51:41.814 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:41.814 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:41.828 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:51:41.828 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:51:41.864 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:51:41.864 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 18:51:44.007 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 18:51:44.007 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 18:51:44.459 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 18:51:44.462 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 18:51:44.600 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 18:51:44.600 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 18:51:44.660 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 18:51:44.660 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 18:51:44.668 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 18:51:44.668 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 18:51:44.670 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 18:51:44.670 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 18:51:44.870 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 18:51:44.870 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 18:51:45.053 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 18:51:45.065 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 18:51:45.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 18:51:45.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 18:51:45.129 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3255.5775ms
2022-11-04 18:51:45.129 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3255.6205ms
2022-11-04 18:51:45.131 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:51:45.131 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 18:51:45.161 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3350.5662ms
2022-11-04 18:51:45.161 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3350.5657ms
2022-11-04 18:51:48.565 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 18:51:48.565 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:48.565 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.8370ms
2022-11-04 18:51:48.566 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 18:51:48.577 +03:00 [INF] CORS policy execution successful.
2022-11-04 18:51:48.680 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 18:51:48.684 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 18:51:48.741 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 18:51:48.798 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 18:51:48.814 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 129.4278ms
2022-11-04 18:51:48.814 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 18:51:48.815 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Hata Alındı
   at ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Queries/Product/GetAllProduct/GetAllProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/ProductsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 105
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 18:51:48.841 +03:00 [ERR] Hata Alındı
2022-11-04 18:51:48.843 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 500 - application/json 277.0748ms
2022-11-04 19:46:33.057 +03:00 [INF] Application is shutting down...
2022-11-04 21:07:26.688 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 21:07:26.803 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 21:07:26.803 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 21:07:26.804 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 21:07:26.804 +03:00 [INF] Hosting environment: Development
2022-11-04 21:07:26.804 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 21:08:45.967 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 21:08:46.002 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:46.009 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 44.2789ms
2022-11-04 21:08:46.013 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:08:46.014 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:46.022 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:08:46.042 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:08:47.299 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:08:47.574 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:08:47.648 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:08:47.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:08:47.688 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:08:47.689 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:08:47.787 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:08:47.888 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:08:47.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:08:47.929 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 1881.8001ms
2022-11-04 21:08:47.930 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:08:47.947 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 1934.0192ms
2022-11-04 21:08:50.403 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:50.405 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:50.405 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.2413ms
2022-11-04 21:08:50.406 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:50.407 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:50.407 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4295ms
2022-11-04 21:08:52.428 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:52.429 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:52.429 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:52.429 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:52.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6462ms
2022-11-04 21:08:52.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4708ms
2022-11-04 21:08:54.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:54.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:54.448 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:54.448 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:54.448 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4707ms
2022-11-04 21:08:54.448 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5650ms
2022-11-04 21:08:56.463 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:56.463 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:56.464 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:56.464 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:56.464 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.3007ms
2022-11-04 21:08:56.464 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.3025ms
2022-11-04 21:08:58.479 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:58.479 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:08:58.480 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:58.480 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:08:58.480 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.9932ms
2022-11-04 21:08:58.480 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.9275ms
2022-11-04 21:09:00.494 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:00.494 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:00.495 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:00.495 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:00.496 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.0352ms
2022-11-04 21:09:00.496 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.0701ms
2022-11-04 21:09:03.017 +03:00 [INF] Application is shutting down...
2022-11-04 21:09:34.332 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 21:09:34.470 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 21:09:34.471 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 21:09:34.473 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 21:09:34.473 +03:00 [INF] Hosting environment: Development
2022-11-04 21:09:34.473 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 21:09:36.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:36.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:36.571 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.571 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.577 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 41.9231ms
2022-11-04 21:09:36.577 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 41.9250ms
2022-11-04 21:09:36.626 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:36.626 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:36.627 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.627 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.636 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:36.636 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:36.645 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:36.645 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:36.645 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 18.7270ms
2022-11-04 21:09:36.645 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 18.7574ms
2022-11-04 21:09:36.676 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=HHb5xpvQ6VYJh2ihY5I-2g - -
2022-11-04 21:09:36.679 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.681 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:09:36.721 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=2AlBXeB-GdNCIXKfzX2xVQ - -
2022-11-04 21:09:36.721 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:36.721 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:09:40.330 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:09:40.330 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:09:40.338 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=2AlBXeB-GdNCIXKfzX2xVQ - - - 101 - - 3617.2718ms
2022-11-04 21:09:40.338 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=HHb5xpvQ6VYJh2ihY5I-2g - - - 101 - - 3662.4742ms
2022-11-04 21:09:48.734 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 21:09:48.735 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:48.736 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.9028ms
2022-11-04 21:09:48.737 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:09:48.741 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:48.743 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:09:48.789 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:09:50.059 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:09:50.318 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:09:50.395 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:09:50.432 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:09:50.437 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:09:50.438 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:09:50.537 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:09:50.633 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:09:50.659 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:09:50.670 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 1877.1339ms
2022-11-04 21:09:50.671 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:09:50.679 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 1942.3553ms
2022-11-04 21:09:51.372 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:09:51.372 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:51.372 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:09:51.373 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:09:51.436 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:09:51.441 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:09:51.444 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:09:51.446 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:09:51.449 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:09:51.449 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:09:51.452 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:09:51.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:09:51.458 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:09:51.458 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 85.3611ms
2022-11-04 21:09:51.458 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:09:51.459 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 86.8411ms
2022-11-04 21:09:56.247 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:56.247 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.248 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.5249ms
2022-11-04 21:09:56.249 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:56.250 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.250 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:56.250 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:56.250 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.250 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3104ms
2022-11-04 21:09:56.251 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:56.251 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.8525ms
2022-11-04 21:09:56.251 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:56.252 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.252 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:56.252 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:56.252 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8567ms
2022-11-04 21:09:56.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=YEpXu2_Kc62avVUUiRXktw - -
2022-11-04 21:09:56.309 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.309 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:09:56.345 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=O-55Jd0L1CJ0-iYEC9wqQw - -
2022-11-04 21:09:56.345 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:56.345 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:09:58.888 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:58.889 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.889 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.0716ms
2022-11-04 21:09:58.891 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:09:58.891 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:58.891 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.891 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.891 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5065ms
2022-11-04 21:09:58.891 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:58.892 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:58.892 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.4237ms
2022-11-04 21:09:58.893 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:09:58.893 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.894 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:09:58.894 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:09:58.894 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0635ms
2022-11-04 21:09:58.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=rPMVjwbL0mVFDDpRcfp_lQ - -
2022-11-04 21:09:58.940 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.940 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:09:58.976 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=N4eNx2AGQKU9X9j3QeypUg - -
2022-11-04 21:09:58.976 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:09:58.976 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:11:16.798 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:16.798 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:16.803 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:16.808 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=O-55Jd0L1CJ0-iYEC9wqQw - - - 101 - - 80464.7035ms
2022-11-04 21:11:16.810 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=YEpXu2_Kc62avVUUiRXktw - - - 101 - - 80500.9613ms
2022-11-04 21:11:16.813 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=N4eNx2AGQKU9X9j3QeypUg - - - 101 - - 77833.1461ms
2022-11-04 21:11:16.819 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:16.819 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=rPMVjwbL0mVFDDpRcfp_lQ - - - 101 - - 77883.0997ms
2022-11-04 21:11:23.296 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 21:11:23.300 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:23.301 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 4.7175ms
2022-11-04 21:11:23.302 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:11:23.302 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:23.306 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:23.314 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:11:23.371 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:11:23.391 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:23.397 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:23.406 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:23.408 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:23.408 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:11:23.412 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:11:23.419 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:11:23.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:11:23.423 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 108.2687ms
2022-11-04 21:11:23.423 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:23.423 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 120.9960ms
2022-11-04 21:11:26.584 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:11:26.585 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:26.585 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:26.585 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:11:26.588 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:11:26.597 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:26.608 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:26.614 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:26.619 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:26.620 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:11:26.624 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:11:26.629 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:11:26.632 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:11:26.632 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 46.6761ms
2022-11-04 21:11:26.632 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:26.632 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 48.0209ms
2022-11-04 21:11:30.135 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:11:30.135 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:30.136 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6612ms
2022-11-04 21:11:30.137 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:11:30.137 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:30.137 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:11:30.138 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:11:30.139 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.7389ms
2022-11-04 21:11:30.209 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=nc8pRffE7Q-CVPs11ZSJWw - -
2022-11-04 21:11:30.212 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:30.213 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:11:31.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:11:31.546 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:31.546 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5714ms
2022-11-04 21:11:31.547 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:11:31.547 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:31.615 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:11:31.621 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:11:31.630 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:11:31.669 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 21:11:31.678 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 56.9451ms
2022-11-04 21:11:31.678 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:11:31.679 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Hata Alındı
   at ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Queries/Product/GetAllProduct/GetAllProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/ProductsController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-04 21:11:31.701 +03:00 [ERR] Hata Alındı
2022-11-04 21:11:31.703 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 500 - application/json 156.8534ms
2022-11-04 21:11:44.730 +03:00 [INF] Application is shutting down...
2022-11-04 21:11:44.740 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:44.741 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=nc8pRffE7Q-CVPs11ZSJWw - - - 101 - - 14531.5432ms
2022-11-04 21:11:47.109 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 21:11:47.238 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 21:11:47.239 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 21:11:47.240 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 21:11:47.240 +03:00 [INF] Hosting environment: Development
2022-11-04 21:11:47.240 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 21:11:47.496 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:11:47.526 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:47.531 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 37.0121ms
2022-11-04 21:11:47.558 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:11:47.559 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:47.566 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:11:47.574 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:11:47.574 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 16.2130ms
2022-11-04 21:11:47.605 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=XVc0h43L9986l-zo1Alj-Q - -
2022-11-04 21:11:47.609 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:47.609 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:11:55.562 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:11:55.571 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=XVc0h43L9986l-zo1Alj-Q - - - 101 - - 7966.4797ms
2022-11-04 21:11:57.038 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 21:11:57.039 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:57.039 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.8302ms
2022-11-04 21:11:57.041 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:11:57.045 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:57.050 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:57.089 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:11:58.356 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:11:58.626 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:58.701 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:58.737 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:58.740 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:58.741 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:11:58.843 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:11:58.940 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:11:58.967 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:11:58.980 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 1886.1969ms
2022-11-04 21:11:58.980 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:58.989 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 1948.9812ms
2022-11-04 21:11:59.609 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:11:59.610 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:11:59.610 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:59.610 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:11:59.642 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:11:59.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:59.648 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:59.651 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:11:59.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:11:59.653 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:11:59.656 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:11:59.659 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:11:59.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:11:59.662 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 51.4084ms
2022-11-04 21:11:59.662 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:11:59.662 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 52.6104ms
2022-11-04 21:12:02.377 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:12:02.377 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:02.377 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5952ms
2022-11-04 21:12:02.378 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:12:02.378 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:02.378 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:12:02.379 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:12:02.379 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0741ms
2022-11-04 21:12:02.443 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=MoZF1_pN-ZjOsjlRzNRqDg - -
2022-11-04 21:12:02.444 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:02.444 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:12:05.228 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:12:05.229 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:05.229 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5015ms
2022-11-04 21:12:05.230 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:12:05.230 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:05.230 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:12:05.230 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:12:05.230 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7859ms
2022-11-04 21:12:05.270 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=nLLC9UVZLBWPPGaLGf-gSw - -
2022-11-04 21:12:05.270 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:05.271 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:12:07.998 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:12:07.998 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:07.998 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.4666ms
2022-11-04 21:12:07.999 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:12:07.999 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:12:08.090 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:12:08.095 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:12:08.108 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:12:08.134 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 21:12:08.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 21:12:08.145 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 21:12:08.146 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 21:12:08.164 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 21:12:08.171 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 76.0388ms
2022-11-04 21:12:08.171 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:12:08.172 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 172.8332ms
2022-11-04 21:15:02.449 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:15:02.452 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:15:02.456 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=MoZF1_pN-ZjOsjlRzNRqDg - - - 101 - - 180020.2103ms
2022-11-04 21:15:02.457 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=nLLC9UVZLBWPPGaLGf-gSw - - - 101 - - 177194.5178ms
2022-11-04 21:15:08.337 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-04 21:15:08.339 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:08.340 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 2.8134ms
2022-11-04 21:15:08.342 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:15:08.343 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:08.344 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:15:08.347 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:15:08.382 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:15:08.401 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:15:08.408 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:15:08.412 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:15:08.415 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:15:08.416 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:15:08.428 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:15:08.436 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:15:08.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:15:08.441 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 93.7975ms
2022-11-04 21:15:08.441 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:15:08.441 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 98.9594ms
2022-11-04 21:15:10.902 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-04 21:15:10.902 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:10.902 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:15:10.903 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:15:10.906 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:15:10.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:15:10.923 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:15:10.928 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-04 21:15:10.933 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-04 21:15:10.934 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-04 21:15:10.939 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:15:10.944 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:15:10.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-04 21:15:10.949 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 46.3919ms
2022-11-04 21:15:10.950 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-04 21:15:10.950 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 48.1070ms
2022-11-04 21:15:13.008 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:15:13.009 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:13.009 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4925ms
2022-11-04 21:15:13.032 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:15:13.033 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:13.033 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:15:13.033 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:15:13.034 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1797ms
2022-11-04 21:15:13.062 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=IUzAq0iQe-EHUxK_Lr0Xbw - -
2022-11-04 21:15:13.063 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:13.063 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:15:15.384 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:15:15.386 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:15.387 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.8256ms
2022-11-04 21:15:15.388 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:15:15.388 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:15.388 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:15:15.389 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:15:15.389 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9031ms
2022-11-04 21:15:15.441 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=FCF2ww-Nn0cOLPWByavbPg - -
2022-11-04 21:15:15.442 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:15.443 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:15:21.103 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:15:21.103 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:21.103 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.7429ms
2022-11-04 21:15:21.104 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:15:21.104 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:21.107 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:15:21.107 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:15:21.112 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:15:21.118 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 21:15:21.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 21:15:21.131 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 21:15:21.132 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 23.0941ms
2022-11-04 21:15:21.132 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:15:21.132 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 28.2512ms
2022-11-04 21:15:30.035 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products - -
2022-11-04 21:15:30.035 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:30.036 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products - - - 204 - - 0.9550ms
2022-11-04 21:15:30.037 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products application/json 42
2022-11-04 21:15:30.037 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:30.046 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-04 21:15:30.066 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-04 21:15:30.067 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-04 21:15:30.075 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-04 21:15:30.076 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products application/json 42 - 401 0 - 39.2880ms
2022-11-04 21:15:30.081 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-04 21:15:30.081 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:30.081 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4120ms
2022-11-04 21:15:30.082 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-04 21:15:30.088 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:15:30.088 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-04 21:15:30.092 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-04 21:15:30.103 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:15:30.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-04 21:15:30.120 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-04 21:15:30.125 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-04 21:15:30.130 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-04 21:15:30.131 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 38.7642ms
2022-11-04 21:15:30.131 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-04 21:15:30.131 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 49.1504ms
2022-11-04 21:16:16.141 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products - -
2022-11-04 21:16:16.143 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:16.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products - - - 204 - - 3.1094ms
2022-11-04 21:16:16.145 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products application/json 42
2022-11-04 21:16:16.146 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:16.166 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-04 21:16:16.172 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ECommerce.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:16:16.262 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:16:16.349 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-04 21:16:16.362 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2022-11-04 21:16:16.362 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi) in 189.8244ms
2022-11-04 21:16:16.362 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-04 21:16:16.362 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products application/json 42 - 201 0 - 217.0967ms
2022-11-04 21:16:16.368 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:16:16.369 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:16.369 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.2810ms
2022-11-04 21:16:16.370 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:16:16.371 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:16.371 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:16:16.371 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:16:16.374 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:16:16.377 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 21:16:16.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 21:16:16.380 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 21:16:16.381 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.1785ms
2022-11-04 21:16:16.381 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:16:16.381 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 10.4200ms
2022-11-04 21:16:47.895 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products - -
2022-11-04 21:16:47.896 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:47.897 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products - - - 204 - - 1.6685ms
2022-11-04 21:16:47.898 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products application/json 42
2022-11-04 21:16:47.898 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:47.900 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-04 21:16:47.900 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ECommerce.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:16:47.904 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:16:48.009 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-04 21:16:48.013 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2022-11-04 21:16:48.013 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi) in 112.061ms
2022-11-04 21:16:48.013 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-04 21:16:48.013 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products application/json 42 - 201 0 - 115.3201ms
2022-11-04 21:16:48.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:16:48.017 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:48.018 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3893ms
2022-11-04 21:16:48.018 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 21:16:48.018 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:16:48.019 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:16:48.019 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 21:16:48.021 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 21:16:48.024 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 21:16:48.024 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 21:16:48.027 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 21:16:48.027 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.4867ms
2022-11-04 21:16:48.027 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 21:16:48.027 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 8.8075ms
2022-11-04 21:17:31.315 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:17:31.315 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=IUzAq0iQe-EHUxK_Lr0Xbw - - - 101 - - 138258.5981ms
2022-11-04 21:17:31.315 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:17:31.316 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=FCF2ww-Nn0cOLPWByavbPg - - - 101 - - 135880.8511ms
2022-11-04 21:17:31.365 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:17:31.365 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.365 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4897ms
2022-11-04 21:17:31.366 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:17:31.367 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.367 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.0926ms
2022-11-04 21:17:31.445 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:17:31.445 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:17:31.449 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.449 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.449 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:17:31.449 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:17:31.450 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:17:31.450 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:17:31.450 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 5.4842ms
2022-11-04 21:17:31.450 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 5.2522ms
2022-11-04 21:17:31.483 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=BQCp9rjHRN9y_lrgDYyQvQ - -
2022-11-04 21:17:31.484 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.484 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:17:31.528 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=qvdj3vmBSksABHCNzSdstw - -
2022-11-04 21:17:31.528 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:17:31.528 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:20:24.240 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:20:24.240 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:20:24.241 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=BQCp9rjHRN9y_lrgDYyQvQ - - - 101 - - 12658.8806ms
2022-11-04 21:20:24.241 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=qvdj3vmBSksABHCNzSdstw - - - 101 - - 12614.3018ms
2022-11-04 21:20:24.323 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:20:24.323 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:20:24.324 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.324 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.324 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6485ms
2022-11-04 21:20:24.324 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7019ms
2022-11-04 21:20:24.382 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:20:24.382 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:20:24.382 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.382 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.383 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:20:24.383 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:20:24.383 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:20:24.383 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:20:24.384 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.4251ms
2022-11-04 21:20:24.384 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.5449ms
2022-11-04 21:20:24.413 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=hn8WyAhOyHnExjgF98yxoQ - -
2022-11-04 21:20:24.413 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.413 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:20:24.447 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=GUaH3Wf96oFfMQyl9pUaRw - -
2022-11-04 21:20:24.447 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:20:24.448 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:21:40.064 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:21:40.064 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:21:40.065 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=hn8WyAhOyHnExjgF98yxoQ - - - 101 - - 47111.0123ms
2022-11-04 21:21:40.065 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=GUaH3Wf96oFfMQyl9pUaRw - - - 101 - - 47076.7804ms
2022-11-04 21:21:40.156 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:21:40.157 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.157 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.8664ms
2022-11-04 21:21:40.157 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:21:40.157 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.158 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6197ms
2022-11-04 21:21:40.212 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:21:40.212 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.213 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:21:40.213 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:21:40.213 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.5097ms
2022-11-04 21:21:40.217 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:21:40.217 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.217 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:21:40.218 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:21:40.218 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9205ms
2022-11-04 21:21:40.258 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Ifem9yZFRL_BX209H-urPw - -
2022-11-04 21:21:40.259 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.259 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:21:40.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=61ds9S63idN55T-B7TCesw - -
2022-11-04 21:21:40.301 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:21:40.301 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:22:55.124 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:22:55.124 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:22:55.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=61ds9S63idN55T-B7TCesw - - - 101 - - 46426.1801ms
2022-11-04 21:22:55.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Ifem9yZFRL_BX209H-urPw - - - 101 - - 46467.6514ms
2022-11-04 21:22:55.212 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:22:55.212 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.212 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6577ms
2022-11-04 21:22:55.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:22:55.214 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.214 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.1621ms
2022-11-04 21:22:55.267 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:22:55.267 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.268 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:22:55.268 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:22:55.268 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.268 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:22:55.269 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:22:55.269 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:22:55.269 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.3285ms
2022-11-04 21:22:55.270 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1875ms
2022-11-04 21:22:55.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=X4IjJrk6BCiqFMIMGCOGrw - -
2022-11-04 21:22:55.305 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.305 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:22:55.340 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=qfaBIZfc2M538MVten-r8A - -
2022-11-04 21:22:55.341 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:22:55.341 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:24:11.142 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:24:11.142 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:24:11.144 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=X4IjJrk6BCiqFMIMGCOGrw - - - 101 - - 47401.8172ms
2022-11-04 21:24:11.144 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=qfaBIZfc2M538MVten-r8A - - - 101 - - 47365.5418ms
2022-11-04 21:24:11.235 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:24:11.236 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.237 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.1057ms
2022-11-04 21:24:11.246 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:24:11.247 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.247 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2180ms
2022-11-04 21:24:11.277 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:24:11.277 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.278 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:24:11.278 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:24:11.278 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8653ms
2022-11-04 21:24:11.288 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:24:11.288 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.289 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:24:11.290 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:24:11.290 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.7168ms
2022-11-04 21:24:11.314 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=RD1pMTlug919c0O297oGyg - -
2022-11-04 21:24:11.314 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.315 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:24:11.355 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=xeHQe7gw0AXY1il14S-P2A - -
2022-11-04 21:24:11.355 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:24:11.355 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:25:26.218 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:25:26.223 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=RD1pMTlug919c0O297oGyg - - - 101 - - 46447.6575ms
2022-11-04 21:25:26.224 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:25:26.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=xeHQe7gw0AXY1il14S-P2A - - - 101 - - 46409.5200ms
2022-11-04 21:25:26.342 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:25:26.342 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.342 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7407ms
2022-11-04 21:25:26.352 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:25:26.352 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.352 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4170ms
2022-11-04 21:25:26.411 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:25:26.411 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:25:26.411 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.411 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.412 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:25:26.412 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:25:26.412 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:25:26.412 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:25:26.412 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.4645ms
2022-11-04 21:25:26.412 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3305ms
2022-11-04 21:25:26.444 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=bFMCBuPM95qLhrX3P5zlhg - -
2022-11-04 21:25:26.444 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.445 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:25:26.490 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=x0oQXTinVJtLOKg9GJwN_g - -
2022-11-04 21:25:26.490 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:25:26.491 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:26:42.497 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:26:42.497 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:26:42.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=x0oQXTinVJtLOKg9GJwN_g - - - 101 - - 47427.3558ms
2022-11-04 21:26:42.498 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=bFMCBuPM95qLhrX3P5zlhg - - - 101 - - 47473.6439ms
2022-11-04 21:26:42.574 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:26:42.575 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.575 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7532ms
2022-11-04 21:26:42.576 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:26:42.576 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.576 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.1572ms
2022-11-04 21:26:42.655 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:26:42.656 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:26:42.656 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.657 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:26:42.656 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.657 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:26:42.657 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:26:42.658 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:26:42.658 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.2290ms
2022-11-04 21:26:42.658 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.1202ms
2022-11-04 21:26:42.696 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=09bHArULxTPyL6y3OOZQrg - -
2022-11-04 21:26:42.697 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.697 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:26:42.739 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=o8NTL1u5YPXJJjOi0MI86A - -
2022-11-04 21:26:42.739 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:26:42.739 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:27:57.554 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:27:57.554 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:27:57.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=09bHArULxTPyL6y3OOZQrg - - - 101 - - 46449.2545ms
2022-11-04 21:27:57.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=o8NTL1u5YPXJJjOi0MI86A - - - 101 - - 46406.4652ms
2022-11-04 21:27:57.600 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:27:57.601 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.601 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.9310ms
2022-11-04 21:27:57.608 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:27:57.608 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.608 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6798ms
2022-11-04 21:27:57.685 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:27:57.685 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:27:57.685 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.685 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.685 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:27:57.685 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:27:57.686 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:27:57.686 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.5746ms
2022-11-04 21:27:57.686 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:27:57.686 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.5863ms
2022-11-04 21:27:57.718 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=3ud0LPFvJoUyed4dp3rfEA - -
2022-11-04 21:27:57.719 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.719 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:27:57.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=lUeE0rl1ts8QxBd7DZC9qQ - -
2022-11-04 21:27:57.764 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:27:57.764 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:28:46.032 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:28:46.034 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=lUeE0rl1ts8QxBd7DZC9qQ - - - 101 - - 46216.5537ms
2022-11-04 21:28:46.040 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:28:46.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=3ud0LPFvJoUyed4dp3rfEA - - - 101 - - 46271.7333ms
2022-11-04 21:28:46.117 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:28:46.118 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.118 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6291ms
2022-11-04 21:28:46.119 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:28:46.119 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2040ms
2022-11-04 21:28:46.145 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:28:46.145 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.145 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:28:46.145 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:28:46.145 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8419ms
2022-11-04 21:28:46.146 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:28:46.146 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.146 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:28:46.147 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:28:46.147 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5850ms
2022-11-04 21:28:46.183 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=ym2Wvcc1Pyxg1mLxiioulw - -
2022-11-04 21:28:46.184 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.184 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:28:46.221 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=1oMheaqPOBAsZiVRAv4FKA - -
2022-11-04 21:28:46.221 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:28:46.221 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:30:02.140 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:30:02.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=1oMheaqPOBAsZiVRAv4FKA - - - 101 - - 47503.8389ms
2022-11-04 21:30:02.174 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:30:02.174 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=ym2Wvcc1Pyxg1mLxiioulw - - - 101 - - 47574.0497ms
2022-11-04 21:30:02.212 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:30:02.212 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.212 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5495ms
2022-11-04 21:30:02.213 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:30:02.214 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.214 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4226ms
2022-11-04 21:30:02.249 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:30:02.249 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.249 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:30:02.250 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:30:02.250 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6674ms
2022-11-04 21:30:02.250 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:30:02.250 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.250 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:30:02.250 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:30:02.250 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.2432ms
2022-11-04 21:30:02.320 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=PH0PJ1RkpO2P5K7eWSxTcA - -
2022-11-04 21:30:02.321 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.321 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:30:02.358 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=guPMpFBOZY8my3B_pCc8RQ - -
2022-11-04 21:30:02.358 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:30:02.358 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:31:17.241 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:31:17.241 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:31:17.248 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=guPMpFBOZY8my3B_pCc8RQ - - - 101 - - 46533.4390ms
2022-11-04 21:31:17.248 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=PH0PJ1RkpO2P5K7eWSxTcA - - - 101 - - 46571.3388ms
2022-11-04 21:31:17.336 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:31:17.336 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:31:17.336 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.336 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.336 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7310ms
2022-11-04 21:31:17.336 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7557ms
2022-11-04 21:31:17.387 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:31:17.387 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.387 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:31:17.387 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.387 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:31:17.387 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:31:17.387 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:31:17.388 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:31:17.388 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5592ms
2022-11-04 21:31:17.388 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9158ms
2022-11-04 21:31:17.419 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=CeP7LC8z6HmUMBPodufVwQ - -
2022-11-04 21:31:17.419 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.419 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:31:17.459 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=ZC_uxaVhWOGZgyrzlhgrLg - -
2022-11-04 21:31:17.459 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:31:17.459 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:32:32.365 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:32:32.367 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:32:32.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=ZC_uxaVhWOGZgyrzlhgrLg - - - 101 - - 46460.7032ms
2022-11-04 21:32:32.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=CeP7LC8z6HmUMBPodufVwQ - - - 101 - - 46499.7696ms
2022-11-04 21:32:32.450 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:32:32.451 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.451 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5281ms
2022-11-04 21:32:32.458 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:32:32.459 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.459 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3885ms
2022-11-04 21:32:32.525 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:32:32.525 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.526 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:32:32.526 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:32:32.526 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1528ms
2022-11-04 21:32:32.526 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:32:32.527 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.527 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:32:32.527 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:32:32.527 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5541ms
2022-11-04 21:32:32.555 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=nuwAbL_aaPdqOP66W1o7SQ - -
2022-11-04 21:32:32.555 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.555 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:32:32.598 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=ZUe6SsoyadCcdpc8iX-CtA - -
2022-11-04 21:32:32.599 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:32:32.599 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:33:48.496 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:33:48.496 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:33:48.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=ZUe6SsoyadCcdpc8iX-CtA - - - 101 - - 47441.4763ms
2022-11-04 21:33:48.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=nuwAbL_aaPdqOP66W1o7SQ - - - 101 - - 47484.7977ms
2022-11-04 21:33:48.572 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:33:48.573 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.573 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6281ms
2022-11-04 21:33:48.576 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:33:48.576 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.576 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2366ms
2022-11-04 21:33:48.611 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:33:48.611 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.611 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:33:48.612 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:33:48.612 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9595ms
2022-11-04 21:33:48.617 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:33:48.617 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.617 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:33:48.617 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:33:48.617 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5459ms
2022-11-04 21:33:48.649 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=JwkcfHLd7-z64W7FyW6wqg - -
2022-11-04 21:33:48.649 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.649 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:33:48.684 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=5IQwD2nUEAckzY9Gvlzabg - -
2022-11-04 21:33:48.685 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:33:48.685 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:35:03.527 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:35:03.526 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:35:03.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=JwkcfHLd7-z64W7FyW6wqg - - - 101 - - 46431.5600ms
2022-11-04 21:35:03.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=5IQwD2nUEAckzY9Gvlzabg - - - 101 - - 46396.7039ms
2022-11-04 21:35:03.593 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:35:03.593 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:35:03.593 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.593 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.594 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7111ms
2022-11-04 21:35:03.594 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7137ms
2022-11-04 21:35:03.644 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:35:03.644 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.644 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:35:03.644 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:35:03.644 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.645 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:35:03.645 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:35:03.645 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0300ms
2022-11-04 21:35:03.645 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:35:03.645 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8764ms
2022-11-04 21:35:03.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=QV14tPamjIjYD_UveGcBdw - -
2022-11-04 21:35:03.683 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.683 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:35:03.724 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=jFe-bceZvRQcYtBmyCMCdg - -
2022-11-04 21:35:03.724 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:35:03.724 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:36:18.731 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:36:18.732 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:36:18.732 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=jFe-bceZvRQcYtBmyCMCdg - - - 101 - - 46413.8787ms
2022-11-04 21:36:18.732 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=QV14tPamjIjYD_UveGcBdw - - - 101 - - 46455.2730ms
2022-11-04 21:36:18.801 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:36:18.801 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.801 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3702ms
2022-11-04 21:36:18.806 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:36:18.806 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.806 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3201ms
2022-11-04 21:36:18.842 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:36:18.843 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.843 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:36:18.844 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:36:18.844 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.6271ms
2022-11-04 21:36:18.849 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:36:18.849 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.849 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:36:18.849 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:36:18.849 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7293ms
2022-11-04 21:36:18.883 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=0wJVhalsPSFrDI7n26iZSA - -
2022-11-04 21:36:18.883 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.883 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:36:18.918 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=GEOJSfs9Ww_Vg3XNrmHIfA - -
2022-11-04 21:36:18.918 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:36:18.918 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:37:34.760 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:37:34.760 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:37:34.763 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=GEOJSfs9Ww_Vg3XNrmHIfA - - - 101 - - 47484.9734ms
2022-11-04 21:37:34.766 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=0wJVhalsPSFrDI7n26iZSA - - - 101 - - 47521.6270ms
2022-11-04 21:37:34.827 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:37:34.827 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:34.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4894ms
2022-11-04 21:37:34.828 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:37:34.828 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:34.828 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2438ms
2022-11-04 21:37:34.852 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:37:34.852 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:34.852 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:37:34.853 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:37:34.853 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9761ms
2022-11-04 21:37:34.855 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:37:34.855 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:34.855 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:37:34.856 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:37:34.856 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6762ms
2022-11-04 21:37:34.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=3oEjjzeIGuwdQPjwHyDyDA - -
2022-11-04 21:37:34.965 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:34.966 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:37:35.006 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=M3gPIPRC9DX4P7acqYJyKQ - -
2022-11-04 21:37:35.006 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:37:35.007 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:38:49.878 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:38:49.879 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=M3gPIPRC9DX4P7acqYJyKQ - - - 101 - - 46393.4108ms
2022-11-04 21:38:49.881 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:38:49.882 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=3oEjjzeIGuwdQPjwHyDyDA - - - 101 - - 46438.0269ms
2022-11-04 21:38:49.945 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:38:49.945 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:49.946 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7536ms
2022-11-04 21:38:49.947 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:38:49.947 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:49.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3036ms
2022-11-04 21:38:49.997 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:38:49.997 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:49.999 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:38:49.999 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:38:50.000 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.9920ms
2022-11-04 21:38:50.007 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:38:50.007 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:50.007 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:38:50.008 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:38:50.008 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8937ms
2022-11-04 21:38:50.043 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=6QWydIpUnK3usrFHJ96UXg - -
2022-11-04 21:38:50.044 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:50.044 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:38:50.086 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=le8YwboTs93YpnhB78uGbQ - -
2022-11-04 21:38:50.086 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:38:50.086 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:40:05.999 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:40:06.000 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=6QWydIpUnK3usrFHJ96UXg - - - 101 - - 47492.2900ms
2022-11-04 21:40:06.012 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:40:06.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=le8YwboTs93YpnhB78uGbQ - - - 101 - - 47462.1442ms
2022-11-04 21:40:06.051 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:40:06.053 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.053 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.9839ms
2022-11-04 21:40:06.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:40:06.060 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.060 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3266ms
2022-11-04 21:40:06.082 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:40:06.082 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.083 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:40:06.083 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:40:06.083 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.2342ms
2022-11-04 21:40:06.086 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:40:06.086 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.086 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:40:06.086 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:40:06.086 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8015ms
2022-11-04 21:40:06.152 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=j1ne7QllhEWqrNIhq6crFA - -
2022-11-04 21:40:06.152 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.152 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:40:06.190 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=v4HwY3m7qAedc_NkcXMLHQ - -
2022-11-04 21:40:06.190 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:40:06.190 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:41:22.074 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:41:22.074 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:41:22.080 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=j1ne7QllhEWqrNIhq6crFA - - - 101 - - 47492.0937ms
2022-11-04 21:41:22.080 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=v4HwY3m7qAedc_NkcXMLHQ - - - 101 - - 47454.1857ms
2022-11-04 21:41:22.161 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:41:22.162 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.162 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4566ms
2022-11-04 21:41:22.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:41:22.168 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.168 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2247ms
2022-11-04 21:41:22.224 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:41:22.224 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.224 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:41:22.225 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:41:22.225 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0519ms
2022-11-04 21:41:22.225 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:41:22.226 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.226 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:41:22.226 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:41:22.226 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8429ms
2022-11-04 21:41:22.259 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=ko5asK8Y5smI7y87u3pmjg - -
2022-11-04 21:41:22.259 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.259 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:41:22.300 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=2kY77a0KRpYnUn8lwUo7ZQ - -
2022-11-04 21:41:22.300 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:41:22.300 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:42:37.247 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:42:37.248 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=2kY77a0KRpYnUn8lwUo7ZQ - - - 101 - - 46471.1410ms
2022-11-04 21:42:37.247 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:42:37.249 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=ko5asK8Y5smI7y87u3pmjg - - - 101 - - 46512.9131ms
2022-11-04 21:42:37.325 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:42:37.326 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.327 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.9045ms
2022-11-04 21:42:37.331 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:42:37.331 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.332 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3380ms
2022-11-04 21:42:37.372 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:42:37.372 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.372 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:42:37.373 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:42:37.374 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9781ms
2022-11-04 21:42:37.379 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:42:37.379 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.379 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:42:37.379 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:42:37.379 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.4351ms
2022-11-04 21:42:37.412 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=JFbZfVTnuncGEGCHr8aMRQ - -
2022-11-04 21:42:37.412 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.412 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:42:37.455 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Mv1oT5ovky1RWekffUvvDg - -
2022-11-04 21:42:37.455 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:42:37.455 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:43:53.384 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:43:53.384 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:43:53.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=JFbZfVTnuncGEGCHr8aMRQ - - - 101 - - 47515.1155ms
2022-11-04 21:43:53.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Mv1oT5ovky1RWekffUvvDg - - - 101 - - 47472.0086ms
2022-11-04 21:43:53.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:43:53.470 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6085ms
2022-11-04 21:43:53.472 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:43:53.473 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.473 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7750ms
2022-11-04 21:43:53.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:43:53.515 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.516 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:43:53.518 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:43:53.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 3.6689ms
2022-11-04 21:43:53.522 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:43:53.522 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.522 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:43:53.522 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:43:53.522 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9127ms
2022-11-04 21:43:53.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=EmE9zzu19UuOiqGRmh7gOQ - -
2022-11-04 21:43:53.553 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.553 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:43:53.592 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=37YosejZepDgOXkk01PaHg - -
2022-11-04 21:43:53.592 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:43:53.592 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:45:04.679 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:45:04.677 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:45:04.686 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=EmE9zzu19UuOiqGRmh7gOQ - - - 101 - - 42725.3387ms
2022-11-04 21:45:04.686 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=37YosejZepDgOXkk01PaHg - - - 101 - - 42685.5512ms
2022-11-04 21:45:04.780 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:45:04.780 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.780 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5048ms
2022-11-04 21:45:04.786 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:45:04.786 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.786 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2490ms
2022-11-04 21:45:04.832 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:45:04.832 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.832 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:45:04.832 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.832 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:45:04.832 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:45:04.833 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:45:04.833 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:45:04.833 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6536ms
2022-11-04 21:45:04.833 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.4372ms
2022-11-04 21:45:04.863 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=6xvuoTZdWhotjSEvckrWbw - -
2022-11-04 21:45:04.864 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.865 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:45:04.903 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=fp1k1ZBbexruEMeHzXvNDw - -
2022-11-04 21:45:04.904 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:45:04.904 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:46:23.638 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:46:23.638 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:46:23.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=6xvuoTZdWhotjSEvckrWbw - - - 101 - - 50444.7152ms
2022-11-04 21:46:23.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=fp1k1ZBbexruEMeHzXvNDw - - - 101 - - 50404.6498ms
2022-11-04 21:46:23.710 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:46:23.710 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.710 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6002ms
2022-11-04 21:46:23.713 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:46:23.713 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.713 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2484ms
2022-11-04 21:46:23.764 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:46:23.765 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.765 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:46:23.765 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:46:23.765 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.765 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:46:23.765 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:46:23.765 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0514ms
2022-11-04 21:46:23.766 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:46:23.766 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8870ms
2022-11-04 21:46:23.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=w5Hk3D7fnInpuYof3Y1O0g - -
2022-11-04 21:46:23.808 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.808 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:46:23.846 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=qtI7NmESoq4mVScaItf8Gw - -
2022-11-04 21:46:23.846 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:46:23.846 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:47:38.707 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:47:38.707 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:47:38.708 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=qtI7NmESoq4mVScaItf8Gw - - - 101 - - 46454.1907ms
2022-11-04 21:47:38.708 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=w5Hk3D7fnInpuYof3Y1O0g - - - 101 - - 46492.3469ms
2022-11-04 21:47:38.773 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:47:38.773 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.773 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5986ms
2022-11-04 21:47:38.781 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:47:38.781 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.781 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3904ms
2022-11-04 21:47:38.856 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:47:38.856 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.856 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:47:38.856 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.856 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:47:38.856 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:47:38.857 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:47:38.857 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:47:38.857 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3890ms
2022-11-04 21:47:38.857 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0671ms
2022-11-04 21:47:38.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=r1m2jHflYqElDUtRst7abg - -
2022-11-04 21:47:38.885 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.885 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:47:38.928 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Wy-T2sNNfQinYym2ipWSTg - -
2022-11-04 21:47:38.928 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:47:38.928 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:48:54.717 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:48:54.719 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=r1m2jHflYqElDUtRst7abg - - - 101 - - 47436.1070ms
2022-11-04 21:48:54.749 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:48:54.749 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Wy-T2sNNfQinYym2ipWSTg - - - 101 - - 47422.8037ms
2022-11-04 21:48:54.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:48:54.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:48:54.813 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.813 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.813 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5583ms
2022-11-04 21:48:54.813 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5601ms
2022-11-04 21:48:54.863 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:48:54.863 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.863 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:48:54.863 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.864 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:48:54.864 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:48:54.864 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:48:54.864 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:48:54.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.4352ms
2022-11-04 21:48:54.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7114ms
2022-11-04 21:48:54.892 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=CEmxq8jkxVwWFZKxGapD9Q - -
2022-11-04 21:48:54.892 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.892 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:48:54.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=lywOWLTUAWZmqZeUZUb8pA - -
2022-11-04 21:48:54.931 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:48:54.931 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:50:09.734 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:50:09.735 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=CEmxq8jkxVwWFZKxGapD9Q - - - 101 - - 46410.4141ms
2022-11-04 21:50:09.734 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:50:09.735 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=lywOWLTUAWZmqZeUZUb8pA - - - 101 - - 46372.6742ms
2022-11-04 21:50:09.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:50:09.826 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:50:09.826 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.826 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7732ms
2022-11-04 21:50:09.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5349ms
2022-11-04 21:50:09.863 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:50:09.863 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.864 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:50:09.864 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:50:09.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8038ms
2022-11-04 21:50:09.873 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:50:09.874 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.874 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:50:09.874 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:50:09.874 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9689ms
2022-11-04 21:50:09.901 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=rzBx6uJ0nfuXpJqHLYPkHQ - -
2022-11-04 21:50:09.902 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.902 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:50:09.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=DeCJkSrXnah8tLp76U8WIw - -
2022-11-04 21:50:09.940 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:50:09.940 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:51:24.599 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:51:24.599 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:51:24.601 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=rzBx6uJ0nfuXpJqHLYPkHQ - - - 101 - - 46247.0209ms
2022-11-04 21:51:24.600 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=DeCJkSrXnah8tLp76U8WIw - - - 101 - - 46208.4292ms
2022-11-04 21:51:24.691 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:51:24.692 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:51:24.692 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.692 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.692 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4775ms
2022-11-04 21:51:24.692 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2728ms
2022-11-04 21:51:24.753 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:51:24.753 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.753 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:51:24.754 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.754 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:51:24.754 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:51:24.754 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:51:24.754 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:51:24.754 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8695ms
2022-11-04 21:51:24.754 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7554ms
2022-11-04 21:51:24.785 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=2Qhia08NfA_vgMlwDCc1gw - -
2022-11-04 21:51:24.785 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.786 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:51:24.826 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=SoYbySG9WyZwXGvDZPVK8w - -
2022-11-04 21:51:24.826 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:51:24.827 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:52:40.704 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:52:40.705 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=SoYbySG9WyZwXGvDZPVK8w - - - 101 - - 47357.6001ms
2022-11-04 21:52:40.724 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:52:40.724 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=2Qhia08NfA_vgMlwDCc1gw - - - 101 - - 47417.9935ms
2022-11-04 21:52:40.782 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:52:40.783 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.783 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5356ms
2022-11-04 21:52:40.792 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:52:40.794 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.794 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.8847ms
2022-11-04 21:52:40.843 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:52:40.843 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:52:40.843 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.843 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.844 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:52:40.844 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:52:40.844 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.2410ms
2022-11-04 21:52:40.845 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:52:40.845 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:52:40.845 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.0324ms
2022-11-04 21:52:40.881 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=BwAdY7--9c4ZsIwEbENReg - -
2022-11-04 21:52:40.882 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.882 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:52:40.920 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=blPFw4gtFNuQb4GE79Mnlg - -
2022-11-04 21:52:40.921 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:52:40.921 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:53:56.710 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:53:56.710 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:53:56.719 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=BwAdY7--9c4ZsIwEbENReg - - - 101 - - 47436.4090ms
2022-11-04 21:53:56.719 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=blPFw4gtFNuQb4GE79Mnlg - - - 101 - - 47397.3601ms
2022-11-04 21:53:56.794 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:53:56.794 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.794 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4525ms
2022-11-04 21:53:56.795 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:53:56.795 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.795 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2088ms
2022-11-04 21:53:56.849 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:53:56.849 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.850 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:53:56.850 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:53:56.850 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.8399ms
2022-11-04 21:53:56.864 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:53:56.864 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.864 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:53:56.864 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:53:56.864 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5315ms
2022-11-04 21:53:56.888 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=GiqK23qbZPTHde02RsQWJg - -
2022-11-04 21:53:56.889 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.889 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:53:56.931 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=_3kh8nW5vNRAmSD5sGhUPQ - -
2022-11-04 21:53:56.931 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:53:56.931 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:55:12.769 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:55:12.769 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:55:12.770 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=GiqK23qbZPTHde02RsQWJg - - - 101 - - 47448.7078ms
2022-11-04 21:55:12.771 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=_3kh8nW5vNRAmSD5sGhUPQ - - - 101 - - 47406.2696ms
2022-11-04 21:55:12.842 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:55:12.842 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.842 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5646ms
2022-11-04 21:55:12.845 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:55:12.846 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3877ms
2022-11-04 21:55:12.893 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:55:12.893 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.894 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:55:12.895 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:55:12.895 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.8965ms
2022-11-04 21:55:12.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:55:12.900 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.901 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:55:12.901 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:55:12.901 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.8710ms
2022-11-04 21:55:12.932 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=DVhWtFQVHUNEmD6qN1344g - -
2022-11-04 21:55:12.932 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.932 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:55:12.972 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=IzT_e01HN5walqqyOihUmw - -
2022-11-04 21:55:12.972 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:55:12.972 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:56:27.849 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:56:27.849 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:56:27.852 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=DVhWtFQVHUNEmD6qN1344g - - - 101 - - 46569.1814ms
2022-11-04 21:56:27.852 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=IzT_e01HN5walqqyOihUmw - - - 101 - - 46529.1825ms
2022-11-04 21:56:27.969 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:56:27.969 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:27.969 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6919ms
2022-11-04 21:56:27.980 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:56:27.980 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:27.981 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.4431ms
2022-11-04 21:56:28.027 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:56:28.027 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:56:28.027 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:28.027 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:28.027 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:56:28.027 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:56:28.028 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:56:28.028 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:56:28.028 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5737ms
2022-11-04 21:56:28.028 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6439ms
2022-11-04 21:56:28.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=qyucs_rK2C-kulNaExrL9Q - -
2022-11-04 21:56:28.077 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:28.077 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:56:28.112 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=nSvXAmpbwBZvh1CNDyC0Gw - -
2022-11-04 21:56:28.112 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:56:28.112 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:57:43.990 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:57:43.990 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:57:44.004 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=nSvXAmpbwBZvh1CNDyC0Gw - - - 101 - - 47420.5872ms
2022-11-04 21:57:44.004 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=qyucs_rK2C-kulNaExrL9Q - - - 101 - - 47473.1825ms
2022-11-04 21:57:44.056 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:57:44.056 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:57:44.056 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.056 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.056 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6235ms
2022-11-04 21:57:44.056 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6238ms
2022-11-04 21:57:44.106 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:57:44.106 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.106 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:57:44.107 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:57:44.107 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1368ms
2022-11-04 21:57:44.116 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:57:44.116 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.116 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:57:44.116 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:57:44.116 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.4504ms
2022-11-04 21:57:44.145 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=p_1U4kala04tqhICfLrPXQ - -
2022-11-04 21:57:44.145 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.145 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:57:44.182 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=PjFg2jrspwM0pslUIpDyzQ - -
2022-11-04 21:57:44.182 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:57:44.182 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:58:58.928 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:58:58.930 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=p_1U4kala04tqhICfLrPXQ - - - 101 - - 46445.8120ms
2022-11-04 21:58:58.948 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 21:58:58.948 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=PjFg2jrspwM0pslUIpDyzQ - - - 101 - - 46426.5537ms
2022-11-04 21:58:59.014 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:58:59.015 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.015 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4639ms
2022-11-04 21:58:59.022 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 21:58:59.022 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.023 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5107ms
2022-11-04 21:58:59.071 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:58:59.071 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 21:58:59.071 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.071 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.072 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:58:59.072 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 21:58:59.072 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:58:59.072 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 21:58:59.072 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9153ms
2022-11-04 21:58:59.072 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1948ms
2022-11-04 21:58:59.110 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=MtwZrO025afqbyROG7UvcQ - -
2022-11-04 21:58:59.110 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.110 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 21:58:59.152 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=dxtDB3BaPmJ3ct1hxjbLXg - -
2022-11-04 21:58:59.152 +03:00 [INF] CORS policy execution successful.
2022-11-04 21:58:59.153 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:00:14.087 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:00:14.109 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=dxtDB3BaPmJ3ct1hxjbLXg - - - 101 - - 46496.4508ms
2022-11-04 22:00:14.128 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:00:14.130 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=MtwZrO025afqbyROG7UvcQ - - - 101 - - 46560.0070ms
2022-11-04 22:00:14.174 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:00:14.174 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.174 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3980ms
2022-11-04 22:00:14.180 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:00:14.180 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.180 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2044ms
2022-11-04 22:00:14.237 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:00:14.237 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.237 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:00:14.237 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:00:14.237 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:00:14.237 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7224ms
2022-11-04 22:00:14.237 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.238 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:00:14.238 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:00:14.238 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3587ms
2022-11-04 22:00:14.264 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=arV_U9kKCF07yeARl7a5Rw - -
2022-11-04 22:00:14.265 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.265 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:00:14.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=qyxLQYjXFDlzSqqVhmewOQ - -
2022-11-04 22:00:14.301 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:00:14.301 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:01:30.126 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:01:30.126 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:01:30.129 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=qyxLQYjXFDlzSqqVhmewOQ - - - 101 - - 47382.3630ms
2022-11-04 22:01:30.129 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=arV_U9kKCF07yeARl7a5Rw - - - 101 - - 47418.8153ms
2022-11-04 22:01:30.202 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:01:30.202 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.203 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4358ms
2022-11-04 22:01:30.215 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:01:30.215 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.215 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2449ms
2022-11-04 22:01:30.236 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:01:30.236 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.237 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:01:30.237 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:01:30.237 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.5656ms
2022-11-04 22:01:30.237 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:01:30.237 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.237 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:01:30.237 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:01:30.238 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.3213ms
2022-11-04 22:01:30.282 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Vzler8BtwDSGxm4Eqpl03w - -
2022-11-04 22:01:30.282 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.282 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:01:30.318 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=i1eCCb9ckG6i5-jMOqp5dQ - -
2022-11-04 22:01:30.318 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:01:30.318 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:02:46.141 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:02:46.141 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:02:46.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Vzler8BtwDSGxm4Eqpl03w - - - 101 - - 47454.8792ms
2022-11-04 22:02:46.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=i1eCCb9ckG6i5-jMOqp5dQ - - - 101 - - 47419.5688ms
2022-11-04 22:02:46.237 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:02:46.238 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.238 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.8496ms
2022-11-04 22:02:46.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:02:46.241 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.241 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2768ms
2022-11-04 22:02:46.307 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:02:46.307 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:02:46.308 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.308 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.308 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:02:46.308 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:02:46.308 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:02:46.308 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:02:46.308 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0864ms
2022-11-04 22:02:46.308 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0572ms
2022-11-04 22:02:46.337 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=0uge5lJ7fxqt-FeXIK5V-w - -
2022-11-04 22:02:46.337 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.337 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:02:46.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=osb7_8533xYU16S5D7RkyA - -
2022-11-04 22:02:46.376 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:02:46.376 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:04:01.110 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:04:01.110 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:04:01.112 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=0uge5lJ7fxqt-FeXIK5V-w - - - 101 - - 46439.9279ms
2022-11-04 22:04:01.113 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=osb7_8533xYU16S5D7RkyA - - - 101 - - 46402.0180ms
2022-11-04 22:04:01.205 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:04:01.205 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.205 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5646ms
2022-11-04 22:04:01.207 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:04:01.207 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.207 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6291ms
2022-11-04 22:04:01.252 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:04:01.252 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.253 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:04:01.253 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:04:01.254 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3836ms
2022-11-04 22:04:01.263 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:04:01.263 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.263 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:04:01.263 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:04:01.263 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6893ms
2022-11-04 22:04:01.288 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=yNsy2nE3FHwX7OAeKtuOyA - -
2022-11-04 22:04:01.288 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.288 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:04:01.324 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=FAT8lG8ViZxVP2PkNBk6qg - -
2022-11-04 22:04:01.324 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:04:01.325 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:05:17.236 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:05:17.236 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:05:17.238 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=yNsy2nE3FHwX7OAeKtuOyA - - - 101 - - 47479.8316ms
2022-11-04 22:05:17.238 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=FAT8lG8ViZxVP2PkNBk6qg - - - 101 - - 47443.1930ms
2022-11-04 22:05:17.291 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:05:17.291 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.291 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5593ms
2022-11-04 22:05:17.294 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:05:17.294 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.294 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2690ms
2022-11-04 22:05:17.358 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:05:17.358 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.359 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:05:17.359 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:05:17.359 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.2771ms
2022-11-04 22:05:17.360 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:05:17.360 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.360 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:05:17.360 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:05:17.360 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8851ms
2022-11-04 22:05:17.388 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=CUNlACVk0RdSn7jqTny1vA - -
2022-11-04 22:05:17.388 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.388 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:05:17.429 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=TCMoqzjwy1joYrLcb0mBsg - -
2022-11-04 22:05:17.429 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:05:17.430 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:06:25.655 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:06:25.655 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:06:25.663 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=TCMoqzjwy1joYrLcb0mBsg - - - 101 - - 46476.9750ms
2022-11-04 22:06:25.663 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=CUNlACVk0RdSn7jqTny1vA - - - 101 - - 46517.9307ms
2022-11-04 22:06:25.725 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:06:25.725 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.726 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7290ms
2022-11-04 22:06:25.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-04 22:06:25.726 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.726 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2815ms
2022-11-04 22:06:25.806 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:06:25.807 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.807 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:06:25.807 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:06:25.808 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1820ms
2022-11-04 22:06:25.808 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-04 22:06:25.808 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.808 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-04 22:06:25.808 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-04 22:06:25.808 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.4369ms
2022-11-04 22:06:25.836 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=if9vyFUCA1xWdqTJDt0Gsg - -
2022-11-04 22:06:25.836 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.836 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:06:25.877 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=n2PzAMB4LmunhSvg7OEgCA - -
2022-11-04 22:06:25.878 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:06:25.878 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-04 22:09:40.209 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:09:40.211 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=n2PzAMB4LmunhSvg7OEgCA - - - 101 - - 47884.2245ms
2022-11-04 22:20:48.015 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-04 22:20:48.017 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=if9vyFUCA1xWdqTJDt0Gsg - - - 101 - - 715765.4831ms
2022-11-04 22:44:44.307 +03:00 [INF] Application is shutting down...
2022-11-04 22:44:48.965 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 22:44:49.111 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 22:44:49.111 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 22:44:49.113 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 22:44:49.113 +03:00 [INF] Hosting environment: Development
2022-11-04 22:44:49.113 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 22:51:01.677 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:51:01.717 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:51:01.724 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 48.7521ms
2022-11-04 22:51:01.729 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:51:01.733 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:51:01.744 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:51:01.777 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:51:02.871 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:51:03.126 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:51:03.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:51:03.171 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 22:51:03.171 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 22:51:03.214 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:51:03.233 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 1452.6802ms
2022-11-04 22:51:03.234 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:51:03.245 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 1516.3651ms
2022-11-04 22:51:46.417 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:51:46.421 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:51:46.422 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 4.9361ms
2022-11-04 22:51:46.423 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:51:46.423 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:51:46.426 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:51:46.427 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:51:46.462 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:51:46.473 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:51:46.474 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:51:46.480 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:51:46.481 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 53.8955ms
2022-11-04 22:51:46.481 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:51:46.481 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 58.4802ms
2022-11-04 22:53:24.286 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:53:24.288 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:53:24.289 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 3.3296ms
2022-11-04 22:53:24.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:53:24.290 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:53:24.298 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:53:24.300 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:53:24.330 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:53:24.364 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:53:24.365 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:53:24.369 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:53:24.370 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 69.5238ms
2022-11-04 22:53:24.371 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:53:24.371 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 80.8263ms
2022-11-04 22:54:10.515 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:54:10.519 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:54:10.521 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 6.9979ms
2022-11-04 22:54:10.532 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:54:10.533 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:54:10.534 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:54:10.535 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:54:10.542 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:54:10.583 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:54:10.585 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:54:10.597 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:54:10.597 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 62.0479ms
2022-11-04 22:54:10.597 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:54:10.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 65.8408ms
2022-11-04 22:55:03.450 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:03.452 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:03.453 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 3.2115ms
2022-11-04 22:55:03.454 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:03.455 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:03.456 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:03.457 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:55:03.464 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:55:03.495 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:55:03.496 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:55:03.502 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:55:03.502 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 45.3076ms
2022-11-04 22:55:03.502 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:03.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 48.1603ms
2022-11-04 22:55:29.291 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:29.295 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:29.296 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 5.8134ms
2022-11-04 22:55:29.298 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:29.299 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:29.300 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:29.303 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:55:29.317 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:55:29.326 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:55:29.327 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:55:29.332 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:55:29.333 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 30.0175ms
2022-11-04 22:55:29.334 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:29.334 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 35.5954ms
2022-11-04 22:55:39.201 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:39.204 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:39.205 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 5.0261ms
2022-11-04 22:55:39.212 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:39.212 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:39.213 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:39.214 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:55:39.219 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:55:39.236 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:55:39.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:55:39.252 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:55:39.252 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.6993ms
2022-11-04 22:55:39.253 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:39.253 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 41.3586ms
2022-11-04 22:55:50.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:50.153 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:50.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 3.6255ms
2022-11-04 22:55:50.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:55:50.156 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:55:50.157 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:50.159 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:55:50.167 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:55:50.187 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:55:50.189 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:55:50.197 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:55:50.198 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.4301ms
2022-11-04 22:55:50.198 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:55:50.198 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 42.8414ms
2022-11-04 22:57:09.082 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:57:09.084 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:57:09.085 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 3.0848ms
2022-11-04 22:57:09.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:57:09.091 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:57:09.092 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:57:09.092 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:57:09.098 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:57:09.151 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:57:09.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:57:09.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:57:09.157 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 64.5722ms
2022-11-04 22:57:09.157 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:57:09.159 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 68.5025ms
2022-11-04 22:57:23.834 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:57:23.845 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:57:23.847 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 13.6062ms
2022-11-04 22:57:23.849 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:57:23.849 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:57:23.850 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:57:23.851 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:57:23.856 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:57:23.875 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:57:23.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:57:23.881 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:57:23.882 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 30.2797ms
2022-11-04 22:57:23.882 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:57:23.882 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 33.1437ms
2022-11-04 22:58:53.096 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:58:53.097 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:58:53.098 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 1.3695ms
2022-11-04 22:58:53.101 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:58:53.102 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:58:53.106 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:58:53.110 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:58:53.125 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:58:53.161 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:58:53.162 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:58:53.167 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:58:53.168 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 55.3863ms
2022-11-04 22:58:53.168 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:58:53.168 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 66.6240ms
2022-11-04 22:58:56.876 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:58:56.876 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:58:56.876 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:58:56.876 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:58:56.879 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:58:56.882 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:58:56.882 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:58:56.886 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:58:56.887 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.1762ms
2022-11-04 22:58:56.887 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:58:56.887 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 11.6784ms
2022-11-04 22:59:08.209 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:59:08.210 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:59:08.211 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 1.9516ms
2022-11-04 22:59:08.214 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 22:59:08.214 +03:00 [INF] CORS policy execution successful.
2022-11-04 22:59:08.215 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:59:08.216 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 22:59:08.221 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 22:59:08.229 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 22:59:08.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 22:59:08.234 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 22:59:08.234 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.8373ms
2022-11-04 22:59:08.235 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 22:59:08.235 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 21.3090ms
2022-11-04 23:00:30.000 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:00:30.001 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:00:30.002 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 2.4392ms
2022-11-04 23:00:30.003 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:00:30.010 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:00:30.017 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:00:30.018 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:00:30.024 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:00:30.037 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:00:30.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:00:30.043 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:00:30.044 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 25.8577ms
2022-11-04 23:00:30.044 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:00:30.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 41.5925ms
2022-11-04 23:02:10.432 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:02:10.435 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:02:10.436 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 3.8516ms
2022-11-04 23:02:10.439 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:02:10.440 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:02:10.441 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:02:10.442 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:02:10.449 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:02:10.504 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:02:10.505 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:02:10.517 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:02:10.518 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 75.7875ms
2022-11-04 23:02:10.518 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:02:10.542 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 103.3674ms
2022-11-04 23:02:32.643 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=12 - -
2022-11-04 23:02:32.644 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:02:32.645 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=12 - - - 204 - - 2.6757ms
2022-11-04 23:02:32.646 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=12 - -
2022-11-04 23:02:32.646 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:02:32.647 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:02:32.648 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:02:32.653 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:02:32.683 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:02:32.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:02:32.703 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:02:32.704 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 55.3852ms
2022-11-04 23:02:32.704 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:02:32.704 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=12 - - - 200 - application/json;+charset=utf-8 58.0766ms
2022-11-04 23:03:59.460 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:03:59.463 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:03:59.463 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - - - 204 - - 4.0473ms
2022-11-04 23:03:59.468 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:03:59.469 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:03:59.470 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:03:59.471 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:03:59.477 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:03:59.495 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:03:59.496 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:03:59.503 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:03:59.506 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 34.1711ms
2022-11-04 23:03:59.506 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:03:59.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - - - 200 - application/json;+charset=utf-8 37.6168ms
2022-11-04 23:20:35.783 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:20:35.786 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:20:35.787 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 4.0265ms
2022-11-04 23:20:35.788 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:20:35.788 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:20:35.790 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:20:35.792 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:20:35.805 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:20:35.817 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:20:35.818 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:20:35.826 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:20:35.827 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 35.0573ms
2022-11-04 23:20:35.827 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:20:35.827 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 39.4468ms
2022-11-04 23:20:39.504 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:20:39.504 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:20:39.504 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - - - 204 - - 0.3917ms
2022-11-04 23:20:39.505 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:20:39.505 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:20:39.505 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:20:39.505 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:20:39.507 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:20:39.510 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:20:39.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:20:39.516 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:20:39.516 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:20:39.529 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:20:39.529 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 23.7712ms
2022-11-04 23:20:39.529 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:20:39.530 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 24.7597ms
2022-11-04 23:22:38.710 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:22:38.711 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:22:38.712 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - - - 204 - - 2.0179ms
2022-11-04 23:22:38.714 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:22:38.714 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:22:38.716 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:22:38.716 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:22:38.722 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:22:38.787 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:22:38.789 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:22:38.794 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:22:38.795 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 78.1917ms
2022-11-04 23:22:38.795 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:22:38.795 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 81.2079ms
2022-11-04 23:30:35.883 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:30:35.893 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:30:35.897 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - - - 204 - - 12.2311ms
2022-11-04 23:30:35.898 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:30:35.899 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:30:35.899 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:30:35.900 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:30:35.907 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:30:36.008 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:30:36.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:30:36.013 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:30:36.014 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 113.8969ms
2022-11-04 23:30:36.014 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:30:36.014 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 116.1577ms
2022-11-04 23:30:49.729 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:30:49.730 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:30:49.730 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 1.6479ms
2022-11-04 23:30:49.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:30:49.732 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:30:49.733 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:30:49.733 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:30:49.739 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:30:49.747 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:30:49.748 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:30:49.752 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:30:49.752 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.8644ms
2022-11-04 23:30:49.752 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:30:49.753 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 21.5315ms
2022-11-04 23:31:53.908 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:31:53.909 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:31:53.910 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.1563ms
2022-11-04 23:31:53.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:31:53.912 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:31:53.913 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:31:53.914 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:31:53.936 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:31:53.952 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:31:53.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:31:53.958 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:31:53.958 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 43.404ms
2022-11-04 23:31:53.958 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:31:53.958 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 47.4979ms
2022-11-04 23:32:20.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:32:20.232 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:20.232 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.4520ms
2022-11-04 23:32:44.417 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=4&size=5 - -
2022-11-04 23:32:44.418 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:44.418 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=4&size=5 - - - 204 - - 0.8775ms
2022-11-04 23:32:44.419 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=4&size=5 - -
2022-11-04 23:32:44.419 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:44.420 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:32:44.423 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:32:44.428 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:32:44.438 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:32:44.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:32:44.444 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:32:44.445 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 21.3133ms
2022-11-04 23:32:44.445 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:32:44.445 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=4&size=5 - - - 200 - application/json;+charset=utf-8 26.2258ms
2022-11-04 23:32:46.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:32:46.539 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:46.539 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3877ms
2022-11-04 23:32:53.009 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:32:53.009 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:53.009 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.7502ms
2022-11-04 23:32:53.010 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:32:53.011 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:32:53.011 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:32:53.011 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:32:53.013 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:32:53.017 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:32:53.018 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:32:53.021 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:32:53.022 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.3923ms
2022-11-04 23:32:53.022 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:32:53.023 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 12.5345ms
2022-11-04 23:33:49.119 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:33:49.121 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:49.121 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.6666ms
2022-11-04 23:33:49.122 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:33:49.123 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:49.124 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:49.124 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:33:49.131 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:33:49.147 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:33:49.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:33:49.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:33:49.154 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.508ms
2022-11-04 23:33:49.154 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:49.154 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 31.5787ms
2022-11-04 23:33:53.515 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:33:53.515 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:53.515 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - - - 204 - - 0.4014ms
2022-11-04 23:33:53.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:33:53.516 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:53.516 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:53.516 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:33:53.522 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:33:53.526 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:33:53.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:33:53.532 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:33:53.533 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.394ms
2022-11-04 23:33:53.533 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:53.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 17.2249ms
2022-11-04 23:33:56.155 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:33:56.155 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:56.156 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - - - 204 - - 0.4486ms
2022-11-04 23:33:56.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:33:56.157 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:56.157 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:56.157 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:33:56.159 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:33:56.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:33:56.166 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:33:56.169 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:33:56.170 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.0458ms
2022-11-04 23:33:56.170 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:56.171 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - - - 200 - application/json;+charset=utf-8 14.0749ms
2022-11-04 23:33:57.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=3&size=5 - -
2022-11-04 23:33:57.893 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:57.893 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=3&size=5 - - - 204 - - 0.4503ms
2022-11-04 23:33:57.894 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=3&size=5 - -
2022-11-04 23:33:57.894 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:57.894 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:57.895 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:33:57.899 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:33:57.903 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:33:57.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:33:57.908 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:33:57.908 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.3373ms
2022-11-04 23:33:57.908 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:57.908 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=3&size=5 - - - 200 - application/json;+charset=utf-8 14.2848ms
2022-11-04 23:33:59.662 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=4&size=5 - -
2022-11-04 23:33:59.662 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:59.662 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=4&size=5 - - - 204 - - 0.6907ms
2022-11-04 23:33:59.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=4&size=5 - -
2022-11-04 23:33:59.683 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:33:59.742 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:59.742 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:33:59.743 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:33:59.748 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:33:59.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:33:59.770 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:33:59.771 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 29.0172ms
2022-11-04 23:33:59.771 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:33:59.801 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=4&size=5 - - - 200 - application/json;+charset=utf-8 118.3563ms
2022-11-04 23:34:00.778 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=5&size=5 - -
2022-11-04 23:34:00.779 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:00.779 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=5&size=5 - - - 204 - - 0.5059ms
2022-11-04 23:34:00.780 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=5&size=5 - -
2022-11-04 23:34:00.780 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:00.780 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:00.780 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:00.782 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:00.786 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:00.787 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:00.791 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:00.791 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.726ms
2022-11-04 23:34:00.791 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:00.792 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=5&size=5 - - - 200 - application/json;+charset=utf-8 12.0070ms
2022-11-04 23:34:01.186 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=6&size=5 - -
2022-11-04 23:34:01.186 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.186 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=6&size=5 - - - 204 - - 0.4515ms
2022-11-04 23:34:01.192 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=6&size=5 - -
2022-11-04 23:34:01.192 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.192 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.193 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:01.195 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:01.198 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:01.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:01.202 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:01.202 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.3622ms
2022-11-04 23:34:01.202 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.202 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=6&size=5 - - - 200 - application/json;+charset=utf-8 10.6240ms
2022-11-04 23:34:01.473 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=7&size=5 - -
2022-11-04 23:34:01.473 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.473 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=7&size=5 - - - 204 - - 0.3052ms
2022-11-04 23:34:01.474 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=7&size=5 - -
2022-11-04 23:34:01.475 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.475 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:01.478 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:01.481 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:01.481 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:01.487 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:01.487 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.2148ms
2022-11-04 23:34:01.487 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.487 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=7&size=5 - - - 200 - application/json;+charset=utf-8 13.2647ms
2022-11-04 23:34:01.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=8&size=5 - -
2022-11-04 23:34:01.703 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.703 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=8&size=5 - - - 204 - - 0.3798ms
2022-11-04 23:34:01.704 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=8&size=5 - -
2022-11-04 23:34:01.704 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.704 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.704 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:01.705 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:01.709 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:01.709 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:01.712 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:01.712 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.7384ms
2022-11-04 23:34:01.712 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.712 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=8&size=5 - - - 200 - application/json;+charset=utf-8 8.5280ms
2022-11-04 23:34:01.930 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=9&size=5 - -
2022-11-04 23:34:01.930 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.931 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=9&size=5 - - - 204 - - 0.2489ms
2022-11-04 23:34:01.931 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=9&size=5 - -
2022-11-04 23:34:01.931 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:01.931 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.932 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:01.932 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:01.935 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:01.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:01.938 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:01.938 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 6.7245ms
2022-11-04 23:34:01.939 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:01.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=9&size=5 - - - 200 - application/json;+charset=utf-8 8.1057ms
2022-11-04 23:34:02.093 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=10&size=5 - -
2022-11-04 23:34:02.093 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=10&size=5 - - - 204 - - 0.3243ms
2022-11-04 23:34:02.094 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=10&size=5 - -
2022-11-04 23:34:02.094 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.094 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.094 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:02.097 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:02.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:02.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:02.107 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:02.107 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.9934ms
2022-11-04 23:34:02.107 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.108 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=10&size=5 - - - 200 - application/json;+charset=utf-8 14.0109ms
2022-11-04 23:34:02.226 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=11&size=5 - -
2022-11-04 23:34:02.227 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.227 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=11&size=5 - - - 204 - - 0.3632ms
2022-11-04 23:34:02.227 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=11&size=5 - -
2022-11-04 23:34:02.227 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.228 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.228 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:02.229 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:02.233 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:02.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:02.236 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:02.237 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.9651ms
2022-11-04 23:34:02.237 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.237 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=11&size=5 - - - 200 - application/json;+charset=utf-8 10.0985ms
2022-11-04 23:34:02.761 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=12&size=5 - -
2022-11-04 23:34:02.761 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.761 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=12&size=5 - - - 204 - - 0.3824ms
2022-11-04 23:34:02.762 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=12&size=5 - -
2022-11-04 23:34:02.762 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:02.762 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.762 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:02.764 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:02.769 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:02.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:02.774 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:02.775 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.1107ms
2022-11-04 23:34:02.775 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:02.775 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=12&size=5 - - - 200 - application/json;+charset=utf-8 13.3899ms
2022-11-04 23:34:03.022 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=13&size=5 - -
2022-11-04 23:34:03.022 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.022 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=13&size=5 - - - 204 - - 0.5722ms
2022-11-04 23:34:03.023 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=13&size=5 - -
2022-11-04 23:34:03.023 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.024 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.024 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:03.025 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:03.030 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:03.031 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:03.038 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:03.040 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.8667ms
2022-11-04 23:34:03.040 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.041 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=13&size=5 - - - 200 - application/json;+charset=utf-8 17.5391ms
2022-11-04 23:34:03.187 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=14&size=5 - -
2022-11-04 23:34:03.187 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.187 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=14&size=5 - - - 204 - - 0.3756ms
2022-11-04 23:34:03.189 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=14&size=5 - -
2022-11-04 23:34:03.189 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.189 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.189 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:03.190 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:03.193 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:03.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:03.209 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:03.209 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 20.147ms
2022-11-04 23:34:03.209 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.215 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=14&size=5 - - - 200 - application/json;+charset=utf-8 26.4451ms
2022-11-04 23:34:03.303 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=15&size=5 - -
2022-11-04 23:34:03.303 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.304 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=15&size=5 - - - 204 - - 0.4655ms
2022-11-04 23:34:03.315 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=15&size=5 - -
2022-11-04 23:34:03.315 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:03.315 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.315 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:03.317 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:03.322 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:03.323 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:03.333 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:03.333 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.7162ms
2022-11-04 23:34:03.333 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:03.344 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=15&size=5 - - - 200 - application/json;+charset=utf-8 28.7392ms
2022-11-04 23:34:04.293 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=16&size=5 - -
2022-11-04 23:34:04.293 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.293 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=16&size=5 - - - 204 - - 1.2576ms
2022-11-04 23:34:04.295 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=16&size=5 - -
2022-11-04 23:34:04.295 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.317 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.317 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:04.319 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:04.332 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:04.333 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:04.352 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:04.353 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 35.5178ms
2022-11-04 23:34:04.355 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.355 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=16&size=5 - - - 200 - application/json;+charset=utf-8 60.2618ms
2022-11-04 23:34:04.604 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=17&size=5 - -
2022-11-04 23:34:04.604 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.604 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=17&size=5 - - - 204 - - 0.4568ms
2022-11-04 23:34:04.605 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=17&size=5 - -
2022-11-04 23:34:04.605 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.606 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.606 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:04.608 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:04.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:04.612 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:04.624 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:04.624 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.3177ms
2022-11-04 23:34:04.625 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.626 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=17&size=5 - - - 200 - application/json;+charset=utf-8 20.3256ms
2022-11-04 23:34:04.871 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=18&size=5 - -
2022-11-04 23:34:04.871 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.871 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=18&size=5 - - - 204 - - 0.4518ms
2022-11-04 23:34:04.872 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=18&size=5 - -
2022-11-04 23:34:04.872 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:04.876 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.877 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:04.878 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:04.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:04.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:04.890 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:04.890 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.1038ms
2022-11-04 23:34:04.890 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:04.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=18&size=5 - - - 200 - application/json;+charset=utf-8 18.1945ms
2022-11-04 23:34:05.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=19&size=5 - -
2022-11-04 23:34:05.060 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.060 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=19&size=5 - - - 204 - - 0.6428ms
2022-11-04 23:34:05.065 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=19&size=5 - -
2022-11-04 23:34:05.065 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.114 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.115 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.116 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.137 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.138 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.148 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.149 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.8682ms
2022-11-04 23:34:05.165 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.165 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=19&size=5 - - - 200 - application/json;+charset=utf-8 100.0749ms
2022-11-04 23:34:05.278 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=20&size=5 - -
2022-11-04 23:34:05.278 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.279 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=20&size=5 - - - 204 - - 0.4017ms
2022-11-04 23:34:05.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=20&size=5 - -
2022-11-04 23:34:05.280 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.280 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.280 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.282 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.297 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.297 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.0258ms
2022-11-04 23:34:05.298 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.301 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=20&size=5 - - - 200 - application/json;+charset=utf-8 21.3950ms
2022-11-04 23:34:05.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=21&size=5 - -
2022-11-04 23:34:05.357 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.358 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=21&size=5 - - - 204 - - 0.3547ms
2022-11-04 23:34:05.358 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=21&size=5 - -
2022-11-04 23:34:05.358 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.359 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.359 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.361 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.365 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.366 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.373 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.373 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.4905ms
2022-11-04 23:34:05.373 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.374 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=21&size=5 - - - 200 - application/json;+charset=utf-8 15.3365ms
2022-11-04 23:34:05.547 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=22&size=5 - -
2022-11-04 23:34:05.547 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.547 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=22&size=5 - - - 204 - - 0.4251ms
2022-11-04 23:34:05.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=22&size=5 - -
2022-11-04 23:34:05.548 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.548 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.548 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.550 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.553 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.554 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.560 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.561 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.6355ms
2022-11-04 23:34:05.561 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.562 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=22&size=5 - - - 200 - application/json;+charset=utf-8 14.0465ms
2022-11-04 23:34:05.646 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=23&size=5 - -
2022-11-04 23:34:05.646 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.646 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=23&size=5 - - - 204 - - 0.4080ms
2022-11-04 23:34:05.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=23&size=5 - -
2022-11-04 23:34:05.648 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.648 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.648 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.650 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.653 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.653 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.656 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.657 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.6961ms
2022-11-04 23:34:05.657 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.657 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=23&size=5 - - - 200 - application/json;+charset=utf-8 9.5386ms
2022-11-04 23:34:05.733 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=24&size=5 - -
2022-11-04 23:34:05.733 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.734 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=24&size=5 - - - 204 - - 0.3582ms
2022-11-04 23:34:05.734 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=24&size=5 - -
2022-11-04 23:34:05.735 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.735 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.735 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.736 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.740 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.743 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.744 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.5336ms
2022-11-04 23:34:05.744 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.744 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=24&size=5 - - - 200 - application/json;+charset=utf-8 9.4562ms
2022-11-04 23:34:05.916 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=25&size=5 - -
2022-11-04 23:34:05.917 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.917 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=25&size=5 - - - 204 - - 0.3800ms
2022-11-04 23:34:05.917 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=25&size=5 - -
2022-11-04 23:34:05.918 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:05.918 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.918 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:05.919 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:05.924 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:05.925 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:05.928 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:05.931 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.2432ms
2022-11-04 23:34:05.931 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:05.932 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=25&size=5 - - - 200 - application/json;+charset=utf-8 14.1929ms
2022-11-04 23:34:06.099 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=26&size=5 - -
2022-11-04 23:34:06.100 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.100 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=26&size=5 - - - 204 - - 0.5292ms
2022-11-04 23:34:06.101 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=26&size=5 - -
2022-11-04 23:34:06.101 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.101 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.101 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.103 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.109 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.110 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.3309ms
2022-11-04 23:34:06.110 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.110 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=26&size=5 - - - 200 - application/json;+charset=utf-8 9.2881ms
2022-11-04 23:34:06.200 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=27&size=5 - -
2022-11-04 23:34:06.201 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.201 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=27&size=5 - - - 204 - - 0.3800ms
2022-11-04 23:34:06.201 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=27&size=5 - -
2022-11-04 23:34:06.202 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.202 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.202 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.203 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.206 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.209 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.210 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.6249ms
2022-11-04 23:34:06.210 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.210 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=27&size=5 - - - 200 - application/json;+charset=utf-8 8.4163ms
2022-11-04 23:34:06.307 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=28&size=5 - -
2022-11-04 23:34:06.307 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=28&size=5 - - - 204 - - 0.3858ms
2022-11-04 23:34:06.308 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=28&size=5 - -
2022-11-04 23:34:06.308 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.308 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.309 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.311 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.315 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.315 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.318 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.283ms
2022-11-04 23:34:06.318 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.319 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=28&size=5 - - - 200 - application/json;+charset=utf-8 10.3537ms
2022-11-04 23:34:06.394 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=29&size=5 - -
2022-11-04 23:34:06.395 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.395 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=29&size=5 - - - 204 - - 0.3502ms
2022-11-04 23:34:06.396 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=29&size=5 - -
2022-11-04 23:34:06.396 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.396 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.396 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.399 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.402 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.406 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.406 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.5633ms
2022-11-04 23:34:06.407 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.407 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=29&size=5 - - - 200 - application/json;+charset=utf-8 11.2879ms
2022-11-04 23:34:06.498 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=30&size=5 - -
2022-11-04 23:34:06.498 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.498 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=30&size=5 - - - 204 - - 0.3502ms
2022-11-04 23:34:06.500 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=30&size=5 - -
2022-11-04 23:34:06.500 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.500 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.500 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.502 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.532 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 31.9721ms
2022-11-04 23:34:06.532 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=30&size=5 - - - 200 - application/json;+charset=utf-8 33.2520ms
2022-11-04 23:34:06.669 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=31&size=5 - -
2022-11-04 23:34:06.670 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.670 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=31&size=5 - - - 204 - - 0.4618ms
2022-11-04 23:34:06.679 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=31&size=5 - -
2022-11-04 23:34:06.679 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.679 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.680 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.681 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.684 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.685 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.688 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.688 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.2262ms
2022-11-04 23:34:06.688 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.688 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=31&size=5 - - - 200 - application/json;+charset=utf-8 9.1971ms
2022-11-04 23:34:06.768 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=32&size=5 - -
2022-11-04 23:34:06.768 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.768 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=32&size=5 - - - 204 - - 0.5113ms
2022-11-04 23:34:06.769 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=32&size=5 - -
2022-11-04 23:34:06.769 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.769 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.769 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.772 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.775 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.776 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.780 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.8728ms
2022-11-04 23:34:06.780 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.780 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=32&size=5 - - - 200 - application/json;+charset=utf-8 11.4307ms
2022-11-04 23:34:06.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=33&size=5 - -
2022-11-04 23:34:06.857 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.857 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=33&size=5 - - - 204 - - 0.3600ms
2022-11-04 23:34:06.858 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=33&size=5 - -
2022-11-04 23:34:06.858 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.858 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.858 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.859 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.862 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.866 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.653ms
2022-11-04 23:34:06.866 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.866 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=33&size=5 - - - 200 - application/json;+charset=utf-8 8.6938ms
2022-11-04 23:34:06.964 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=34&size=5 - -
2022-11-04 23:34:06.964 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.965 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=34&size=5 - - - 204 - - 0.3441ms
2022-11-04 23:34:06.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=34&size=5 - -
2022-11-04 23:34:06.965 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:06.965 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.966 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:06.967 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:06.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:06.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:06.974 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:06.974 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.5309ms
2022-11-04 23:34:06.974 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:06.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=34&size=5 - - - 200 - application/json;+charset=utf-8 9.2604ms
2022-11-04 23:34:07.054 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=35&size=5 - -
2022-11-04 23:34:07.055 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=35&size=5 - - - 204 - - 0.3874ms
2022-11-04 23:34:07.055 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=35&size=5 - -
2022-11-04 23:34:07.055 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.056 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.056 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.057 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.060 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.060 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.063 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.064 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.6962ms
2022-11-04 23:34:07.064 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.064 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=35&size=5 - - - 200 - application/json;+charset=utf-8 8.4839ms
2022-11-04 23:34:07.161 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=36&size=5 - -
2022-11-04 23:34:07.161 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=36&size=5 - - - 204 - - 0.3937ms
2022-11-04 23:34:07.162 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=36&size=5 - -
2022-11-04 23:34:07.162 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.162 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.163 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.166 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.169 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.173 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.7424ms
2022-11-04 23:34:07.173 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.174 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=36&size=5 - - - 200 - application/json;+charset=utf-8 12.1116ms
2022-11-04 23:34:07.251 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=37&size=5 - -
2022-11-04 23:34:07.251 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.251 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=37&size=5 - - - 204 - - 0.6075ms
2022-11-04 23:34:07.256 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=37&size=5 - -
2022-11-04 23:34:07.256 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.257 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.258 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.259 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.263 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.267 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.268 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.7932ms
2022-11-04 23:34:07.268 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.268 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=37&size=5 - - - 200 - application/json;+charset=utf-8 12.0413ms
2022-11-04 23:34:07.355 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=38&size=5 - -
2022-11-04 23:34:07.356 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.356 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=38&size=5 - - - 204 - - 0.3551ms
2022-11-04 23:34:07.356 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=38&size=5 - -
2022-11-04 23:34:07.357 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.357 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.357 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.358 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.361 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.368 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.370 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.8322ms
2022-11-04 23:34:07.371 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.371 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=38&size=5 - - - 200 - application/json;+charset=utf-8 14.3202ms
2022-11-04 23:34:07.445 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=39&size=5 - -
2022-11-04 23:34:07.445 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.445 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=39&size=5 - - - 204 - - 0.3689ms
2022-11-04 23:34:07.446 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=39&size=5 - -
2022-11-04 23:34:07.446 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.446 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.446 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.448 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.454 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.458 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.458 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.5682ms
2022-11-04 23:34:07.458 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.458 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=39&size=5 - - - 200 - application/json;+charset=utf-8 12.3751ms
2022-11-04 23:34:07.548 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=40&size=5 - -
2022-11-04 23:34:07.548 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.549 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=40&size=5 - - - 204 - - 0.3649ms
2022-11-04 23:34:07.549 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=40&size=5 - -
2022-11-04 23:34:07.549 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.550 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.550 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.553 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.557 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.559 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.560 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.9821ms
2022-11-04 23:34:07.560 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.560 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=40&size=5 - - - 200 - application/json;+charset=utf-8 10.7200ms
2022-11-04 23:34:07.638 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=41&size=5 - -
2022-11-04 23:34:07.638 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.638 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=41&size=5 - - - 204 - - 0.3595ms
2022-11-04 23:34:07.640 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=41&size=5 - -
2022-11-04 23:34:07.640 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.640 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.642 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.643 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.648 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.651 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.651 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.1932ms
2022-11-04 23:34:07.651 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=41&size=5 - - - 200 - application/json;+charset=utf-8 11.5885ms
2022-11-04 23:34:07.746 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=42&size=5 - -
2022-11-04 23:34:07.746 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.746 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=42&size=5 - - - 204 - - 0.4333ms
2022-11-04 23:34:07.747 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=42&size=5 - -
2022-11-04 23:34:07.747 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.747 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.750 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.751 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.755 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.777 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.778 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.9683ms
2022-11-04 23:34:07.778 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.790 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=42&size=5 - - - 200 - application/json;+charset=utf-8 43.1248ms
2022-11-04 23:34:07.932 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=43&size=5 - -
2022-11-04 23:34:07.932 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.932 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=43&size=5 - - - 204 - - 0.3959ms
2022-11-04 23:34:07.933 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=43&size=5 - -
2022-11-04 23:34:07.933 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:07.933 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.933 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:07.935 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:07.938 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:07.939 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:07.942 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:07.942 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.6338ms
2022-11-04 23:34:07.942 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:07.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=43&size=5 - - - 200 - application/json;+charset=utf-8 9.4577ms
2022-11-04 23:34:08.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=44&size=5 - -
2022-11-04 23:34:08.033 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=44&size=5 - - - 204 - - 0.4390ms
2022-11-04 23:34:08.034 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=44&size=5 - -
2022-11-04 23:34:08.034 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.034 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.034 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:08.035 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:08.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:08.039 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:08.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:08.042 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.0789ms
2022-11-04 23:34:08.042 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.043 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=44&size=5 - - - 200 - application/json;+charset=utf-8 9.0457ms
2022-11-04 23:34:08.183 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=45&size=5 - -
2022-11-04 23:34:08.183 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.183 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=45&size=5 - - - 204 - - 0.3984ms
2022-11-04 23:34:08.184 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=45&size=5 - -
2022-11-04 23:34:08.184 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.184 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.185 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:08.186 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:08.189 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:08.190 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:08.193 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:08.193 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.3098ms
2022-11-04 23:34:08.193 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.193 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=45&size=5 - - - 200 - application/json;+charset=utf-8 9.3800ms
2022-11-04 23:34:08.283 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=46&size=5 - -
2022-11-04 23:34:08.283 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.283 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=46&size=5 - - - 204 - - 0.3725ms
2022-11-04 23:34:08.284 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=46&size=5 - -
2022-11-04 23:34:08.284 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.284 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.284 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:08.286 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:08.289 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:08.289 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:08.293 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:08.293 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.3514ms
2022-11-04 23:34:08.293 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.293 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=46&size=5 - - - 200 - application/json;+charset=utf-8 9.1781ms
2022-11-04 23:34:08.375 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=47&size=5 - -
2022-11-04 23:34:08.375 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.376 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=47&size=5 - - - 204 - - 0.3744ms
2022-11-04 23:34:08.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=47&size=5 - -
2022-11-04 23:34:08.376 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.377 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.377 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:08.378 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:08.381 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:08.381 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:08.384 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:08.384 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 7.2955ms
2022-11-04 23:34:08.384 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.384 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=47&size=5 - - - 200 - application/json;+charset=utf-8 8.1952ms
2022-11-04 23:34:08.666 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=48&size=5 - -
2022-11-04 23:34:08.666 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.666 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=48&size=5 - - - 204 - - 0.4229ms
2022-11-04 23:34:08.667 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=48&size=5 - -
2022-11-04 23:34:08.667 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:08.668 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.668 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:08.669 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:08.673 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:08.673 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:08.676 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:08.677 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.7852ms
2022-11-04 23:34:08.677 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:08.677 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=48&size=5 - - - 200 - application/json;+charset=utf-8 9.6105ms
2022-11-04 23:34:20.413 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:34:20.414 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:20.415 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 1.9804ms
2022-11-04 23:34:20.415 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:34:20.416 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:20.416 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:20.416 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:20.421 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:20.433 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:20.434 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:20.442 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:20.443 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 26.5833ms
2022-11-04 23:34:20.443 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:20.444 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 28.1547ms
2022-11-04 23:34:51.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:34:51.642 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:51.642 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 1.6165ms
2022-11-04 23:34:51.644 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:34:51.645 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:34:51.651 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:51.652 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:34:51.665 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:34:51.680 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:34:51.680 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:34:51.686 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:34:51.687 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.9406ms
2022-11-04 23:34:51.687 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:34:51.687 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 43.2293ms
2022-11-04 23:35:01.810 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:01.812 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:01.812 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 1.8954ms
2022-11-04 23:35:01.814 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:01.814 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:01.815 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:01.815 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:35:01.820 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:35:01.852 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:35:01.853 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:35:01.861 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:35:01.862 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 46.511ms
2022-11-04 23:35:01.862 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:01.862 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 48.1465ms
2022-11-04 23:35:37.024 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:37.026 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:37.026 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 2.6357ms
2022-11-04 23:35:37.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:37.028 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:37.028 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:37.029 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:35:37.032 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:35:37.042 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:35:37.042 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:35:37.046 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:35:37.047 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.1634ms
2022-11-04 23:35:37.047 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:37.047 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 19.7546ms
2022-11-04 23:35:59.446 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:59.449 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:59.450 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 4.6947ms
2022-11-04 23:35:59.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:35:59.452 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:35:59.459 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:59.459 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:35:59.464 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:35:59.478 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:35:59.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:35:59.483 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:35:59.483 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 24.2232ms
2022-11-04 23:35:59.483 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:35:59.484 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 32.2989ms
2022-11-04 23:36:06.606 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:36:06.608 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:36:06.608 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.2891ms
2022-11-04 23:36:06.610 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:36:06.611 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:36:06.612 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:36:06.613 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:36:06.625 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:36:06.682 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:36:06.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:36:06.699 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:36:06.701 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 87.8764ms
2022-11-04 23:36:06.702 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:36:06.702 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 91.7242ms
2022-11-04 23:36:09.611 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:36:09.612 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:36:09.612 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.1223ms
2022-11-04 23:36:09.615 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:36:09.615 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:36:09.623 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:36:09.624 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:36:09.626 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:36:09.636 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:36:09.637 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:36:09.640 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:36:09.640 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.6198ms
2022-11-04 23:36:09.641 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:36:09.641 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 26.1193ms
2022-11-04 23:37:00.100 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=83&size=6 - -
2022-11-04 23:37:00.101 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:37:00.101 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=83&size=6 - - - 204 - - 1.6833ms
2022-11-04 23:37:00.102 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=83&size=6 - -
2022-11-04 23:37:00.102 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:37:00.103 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:37:00.103 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:37:00.107 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:37:00.115 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:37:00.116 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:37:00.121 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:37:00.121 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.857ms
2022-11-04 23:37:00.121 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:37:00.122 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=83&size=6 - - - 200 - application/json;+charset=utf-8 19.9211ms
2022-11-04 23:38:40.057 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=83&size=12 - -
2022-11-04 23:38:40.059 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:38:40.060 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=83&size=12 - - - 204 - - 2.5933ms
2022-11-04 23:38:40.061 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=83&size=12 - -
2022-11-04 23:38:40.061 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:38:40.061 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:38:40.062 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:38:40.066 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:38:40.081 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:38:40.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:38:40.087 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:38:40.088 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 26.2139ms
2022-11-04 23:38:40.088 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:38:40.089 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=83&size=12 - - - 200 - application/json;+charset=utf-8 28.2021ms
2022-11-04 23:38:45.376 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:38:45.376 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:38:45.376 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=12 - - - 204 - - 0.6194ms
2022-11-04 23:38:45.378 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - -
2022-11-04 23:38:45.378 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:38:45.387 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:38:45.387 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:38:45.390 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:38:45.393 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:38:45.393 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:38:45.398 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:38:45.398 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.8463ms
2022-11-04 23:38:45.399 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:38:45.399 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 21.3695ms
2022-11-04 23:38:57.899 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/swagger/index.html - -
2022-11-04 23:38:57.981 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/swagger/index.html - - - 200 - text/html;charset=utf-8 81.8859ms
2022-11-04 23:38:58.000 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui.css - -
2022-11-04 23:38:58.002 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui-bundle.js - -
2022-11-04 23:38:58.021 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-11-04 23:38:58.021 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui.css - - - 200 143632 text/css 21.1847ms
2022-11-04 23:38:58.021 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui-standalone-preset.js - -
2022-11-04 23:38:58.032 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-11-04 23:38:58.032 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 10.5404ms
2022-11-04 23:38:58.034 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-11-04 23:38:58.034 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 31.7990ms
2022-11-04 23:38:58.464 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/swagger/v1/swagger.json - -
2022-11-04 23:38:58.583 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.8341ms
2022-11-04 23:39:07.182 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/Products?Page=0&Size=5 - -
2022-11-04 23:39:07.184 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:39:07.185 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:39:07.196 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:39:07.206 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:39:07.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:39:07.211 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:39:07.212 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.0585ms
2022-11-04 23:39:07.212 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:39:07.212 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/Products?Page=0&Size=5 - - - 200 - application/json;+charset=utf-8 30.0922ms
2022-11-04 23:39:49.078 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:39:49.079 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:39:49.079 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.5867ms
2022-11-04 23:39:49.080 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:39:49.080 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:39:49.081 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:39:49.081 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:39:49.085 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:39:49.107 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:39:49.109 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:39:49.116 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:39:49.117 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 35.3718ms
2022-11-04 23:39:49.117 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:39:49.117 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 36.8676ms
2022-11-04 23:40:12.590 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:40:12.593 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:40:12.593 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 3.1240ms
2022-11-04 23:40:12.597 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:40:12.599 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:40:12.602 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:40:12.611 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:40:12.626 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:40:12.657 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:40:12.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:40:12.666 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:40:12.667 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 56.1742ms
2022-11-04 23:40:12.667 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:40:12.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 70.7397ms
2022-11-04 23:40:31.945 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:40:31.946 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:40:31.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.8854ms
2022-11-04 23:40:31.948 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:40:31.948 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:40:31.948 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:40:31.949 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:40:31.954 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:40:31.983 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:40:31.986 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:40:31.991 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:40:31.991 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 42.2545ms
2022-11-04 23:40:31.991 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:40:31.993 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 45.0062ms
2022-11-04 23:41:22.240 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:41:22.242 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:41:22.242 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.1157ms
2022-11-04 23:41:22.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:41:22.244 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:41:22.244 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:41:22.245 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:41:22.248 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:41:22.308 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:41:22.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:41:22.312 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:41:22.313 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 67.9641ms
2022-11-04 23:41:22.313 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:41:22.313 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 69.6564ms
2022-11-04 23:43:04.191 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:04.193 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:04.193 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.3637ms
2022-11-04 23:43:04.195 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:04.195 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:04.196 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:04.197 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:43:04.202 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:43:04.250 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:43:04.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:43:04.256 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:43:04.260 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 62.2232ms
2022-11-04 23:43:04.260 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:04.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 66.5878ms
2022-11-04 23:43:20.042 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=9 - -
2022-11-04 23:43:20.043 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:20.043 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=9 - - - 204 - - 1.6029ms
2022-11-04 23:43:20.044 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=9 - -
2022-11-04 23:43:20.044 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:20.045 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:20.045 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:43:20.049 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:43:20.099 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:43:20.100 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:43:20.103 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:43:20.103 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 58.325ms
2022-11-04 23:43:20.104 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:20.104 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=9 - - - 200 - application/json;+charset=utf-8 59.9161ms
2022-11-04 23:43:29.097 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:29.098 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:29.099 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.6481ms
2022-11-04 23:43:29.100 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:29.101 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:29.101 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:29.102 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:43:29.107 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:43:29.138 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:43:29.139 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:43:29.142 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:43:29.143 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 40.6312ms
2022-11-04 23:43:29.143 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:29.143 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 42.9874ms
2022-11-04 23:43:56.632 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:56.636 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:56.637 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 5.8626ms
2022-11-04 23:43:56.650 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:43:56.651 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:43:56.663 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:56.664 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:43:56.670 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:43:56.720 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:43:56.721 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:43:56.726 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:43:56.726 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 62.2186ms
2022-11-04 23:43:56.726 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:43:56.727 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 77.2519ms
2022-11-04 23:44:38.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:44:38.806 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:44:38.806 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.8087ms
2022-11-04 23:44:38.807 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:44:38.808 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:44:38.808 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:44:38.809 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:44:38.813 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:44:38.833 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:44:38.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:44:38.840 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:44:38.842 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.2847ms
2022-11-04 23:44:38.842 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:44:38.842 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 35.0170ms
2022-11-04 23:45:02.001 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:45:02.002 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:45:02.002 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.5500ms
2022-11-04 23:45:02.004 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:45:02.004 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:45:02.004 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:45:02.005 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:45:02.008 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:45:02.027 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:45:02.028 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:45:02.032 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:45:02.038 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.8656ms
2022-11-04 23:45:02.039 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:45:02.039 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 35.2248ms
2022-11-04 23:45:12.157 +03:00 [INF] Application is shutting down...
2022-11-04 23:45:29.184 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-04 23:45:30.359 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-04 23:45:30.359 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-04 23:45:30.364 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-04 23:45:30.365 +03:00 [INF] Hosting environment: Development
2022-11-04 23:45:30.365 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-04 23:45:30.798 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:45:30.990 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:45:31.007 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 220.8312ms
2022-11-04 23:45:31.019 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:45:31.049 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:45:31.077 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:45:31.166 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:45:33.169 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:45:33.704 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:45:33.758 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:45:33.827 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:45:33.829 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:45:33.936 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:45:33.983 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2808.2437ms
2022-11-04 23:45:33.984 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:45:34.007 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2987.8437ms
2022-11-04 23:47:21.786 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:47:21.809 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:21.810 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 24.8089ms
2022-11-04 23:47:21.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:47:21.813 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:21.815 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:21.816 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:47:21.863 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:47:21.883 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:47:21.884 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:47:21.891 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:47:21.892 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 74.8441ms
2022-11-04 23:47:21.892 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:21.893 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 80.5944ms
2022-11-04 23:47:24.255 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=NaN&size=6 - -
2022-11-04 23:47:24.255 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:24.255 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=NaN&size=6 - - - 204 - - 0.7057ms
2022-11-04 23:47:24.256 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=NaN&size=6 - -
2022-11-04 23:47:24.257 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:24.259 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:24.260 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:47:24.275 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2022-11-04 23:47:24.293 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.2426ms
2022-11-04 23:47:24.294 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:24.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=NaN&size=6 - - - 400 - application/json;+charset=utf-8 37.4659ms
2022-11-04 23:47:58.921 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:47:58.931 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:58.933 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 12.2895ms
2022-11-04 23:47:58.934 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:47:58.935 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:47:58.936 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:58.937 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:47:58.960 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:47:58.976 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:47:58.977 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:47:58.982 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:47:58.982 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 44.7787ms
2022-11-04 23:47:58.982 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:47:58.983 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 48.4568ms
2022-11-04 23:48:01.222 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:48:01.223 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:01.223 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.7579ms
2022-11-04 23:48:01.224 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:48:01.225 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:01.225 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:01.228 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:01.230 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:01.235 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:01.236 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:01.240 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:48:01.240 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-04 23:48:01.252 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:48:01.253 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 24.6014ms
2022-11-04 23:48:01.253 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:01.254 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 29.1850ms
2022-11-04 23:48:02.985 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:48:02.985 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:02.986 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:02.986 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:02.990 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:02.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:02.995 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:02.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:48:02.999 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.8614ms
2022-11-04 23:48:02.999 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:03.000 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.4845ms
2022-11-04 23:48:03.661 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:48:03.661 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:03.661 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:03.661 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:03.663 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:03.667 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:03.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:03.671 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:48:03.672 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.3741ms
2022-11-04 23:48:03.672 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:03.673 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 11.6842ms
2022-11-04 23:48:04.360 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:48:04.361 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:04.361 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7177ms
2022-11-04 23:48:04.362 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:48:04.362 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:04.362 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:04.362 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:04.364 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:04.368 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:04.369 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:04.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:48:04.374 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.4965ms
2022-11-04 23:48:04.374 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:04.375 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.9827ms
2022-11-04 23:48:16.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:48:16.518 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:16.519 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.8023ms
2022-11-04 23:48:16.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-04 23:48:16.521 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:16.521 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:16.522 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:16.529 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:16.542 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:16.543 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:16.547 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:48:16.548 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 25.5318ms
2022-11-04 23:48:16.548 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:16.548 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 27.9835ms
2022-11-04 23:48:18.251 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:48:18.252 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:18.252 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=2&size=5 - - - 204 - - 0.6161ms
2022-11-04 23:48:18.253 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - -
2022-11-04 23:48:18.253 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:18.253 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:18.254 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:18.259 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:18.277 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:18.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:18.287 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:48:18.288 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 31.1416ms
2022-11-04 23:48:18.288 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:18.288 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=2&size=5 - - - 200 - application/json;+charset=utf-8 35.4876ms
2022-11-04 23:48:19.232 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:48:19.232 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:19.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=5 - - - 204 - - 1.0290ms
2022-11-04 23:48:19.234 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - -
2022-11-04 23:48:19.234 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:19.235 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:19.235 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:19.237 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:19.240 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:19.241 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:19.244 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:48:19.245 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.713ms
2022-11-04 23:48:19.245 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:19.245 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=5 - - - 200 - application/json;+charset=utf-8 10.8500ms
2022-11-04 23:48:35.039 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:48:35.040 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:35.041 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 2.2103ms
2022-11-04 23:48:35.041 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:48:35.042 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:48:35.045 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:35.051 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:48:35.062 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:48:35.075 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:48:35.076 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:48:35.081 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:48:35.081 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 29.2192ms
2022-11-04 23:48:35.082 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:48:35.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 40.4223ms
2022-11-04 23:50:39.641 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:50:39.652 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:39.653 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 14.3736ms
2022-11-04 23:50:39.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:50:39.656 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:39.657 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:39.658 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:39.666 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:39.747 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:39.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:39.757 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:50:39.759 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 100.2114ms
2022-11-04 23:50:39.759 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:39.759 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 103.5255ms
2022-11-04 23:50:42.736 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:50:42.737 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:42.737 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4907ms
2022-11-04 23:50:42.738 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:50:42.738 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:42.738 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:42.738 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:42.740 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:42.743 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:42.744 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:42.747 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:50:42.748 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.1054ms
2022-11-04 23:50:42.748 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:42.748 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 10.8116ms
2022-11-04 23:50:43.802 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:50:43.802 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:43.802 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:43.803 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:43.805 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:43.808 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:43.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:43.814 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:50:43.815 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.4137ms
2022-11-04 23:50:43.815 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:43.815 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 13.6029ms
2022-11-04 23:50:44.385 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:50:44.385 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:44.386 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:44.386 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:44.388 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:44.392 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:44.392 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:44.399 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:50:44.400 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.5577ms
2022-11-04 23:50:44.400 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:44.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 16.0059ms
2022-11-04 23:50:44.953 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:50:44.954 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:44.954 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.5528ms
2022-11-04 23:50:44.955 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:50:44.955 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:44.955 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:44.955 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:44.957 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:44.961 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:44.961 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:44.966 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:50:44.966 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.6829ms
2022-11-04 23:50:44.966 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:44.967 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 11.8400ms
2022-11-04 23:50:50.299 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:50:50.300 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:50.300 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.1797ms
2022-11-04 23:50:50.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:50:50.301 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:50:50.302 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:50.302 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:50:50.304 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:50:50.307 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:50:50.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:50:50.310 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:50:50.311 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.6771ms
2022-11-04 23:50:50.311 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:50:50.311 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 9.9795ms
2022-11-04 23:51:43.994 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:51:43.996 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:51:43.997 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.8489ms
2022-11-04 23:51:43.998 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:51:43.999 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:51:43.999 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:44.000 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:51:44.006 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:51:44.035 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:51:44.036 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:51:44.041 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:51:44.042 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 41.3718ms
2022-11-04 23:51:44.042 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:44.042 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 44.0971ms
2022-11-04 23:51:45.859 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:51:45.859 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:51:45.860 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.4213ms
2022-11-04 23:51:45.860 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:51:45.861 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:51:45.861 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:45.861 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:51:45.863 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:51:45.868 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:51:45.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:51:45.872 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:51:45.873 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.2962ms
2022-11-04 23:51:45.873 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:45.873 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 13.0970ms
2022-11-04 23:51:46.784 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:51:46.785 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:51:46.785 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:46.785 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:51:46.787 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:51:46.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:51:46.790 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:51:46.794 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:51:46.794 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.1235ms
2022-11-04 23:51:46.794 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:51:46.795 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 10.2304ms
2022-11-04 23:53:35.249 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:53:35.250 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:35.250 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.9604ms
2022-11-04 23:53:35.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:53:35.252 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:35.252 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:35.253 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:53:35.266 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:53:35.281 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:53:35.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:53:35.289 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:53:35.290 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 36.5637ms
2022-11-04 23:53:35.290 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:35.290 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 38.8635ms
2022-11-04 23:53:38.040 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:53:38.041 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:38.041 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.4492ms
2022-11-04 23:53:38.042 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:53:38.042 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:38.042 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:38.042 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:53:38.044 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:53:38.050 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:53:38.050 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:53:38.053 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:53:38.054 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.295ms
2022-11-04 23:53:38.054 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:38.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 12.7761ms
2022-11-04 23:53:39.192 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:53:39.192 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:39.192 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:39.192 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:53:39.194 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:53:39.197 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:53:39.198 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:53:39.201 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:53:39.202 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.1116ms
2022-11-04 23:53:39.202 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:39.202 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 10.1640ms
2022-11-04 23:53:39.793 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-04 23:53:39.794 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:39.794 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:39.794 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:53:39.796 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:53:39.799 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:53:39.800 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:53:39.803 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_0 OFFSET @__p_0
2022-11-04 23:53:39.804 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.3705ms
2022-11-04 23:53:39.804 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:39.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 10.7372ms
2022-11-04 23:53:40.228 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-04 23:53:40.228 +03:00 [INF] CORS policy execution successful.
2022-11-04 23:53:40.228 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:40.228 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-04 23:53:40.230 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-04 23:53:40.233 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-04 23:53:40.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-04 23:53:40.237 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-04 23:53:40.237 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.9597ms
2022-11-04 23:53:40.238 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-04 23:53:40.239 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.1747ms
2022-11-05 00:03:28.564 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-05 00:03:28.568 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:28.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 4.6345ms
2022-11-05 00:03:28.572 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-05 00:03:28.576 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:28.578 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-05 00:03:28.595 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-05 00:03:28.984 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:03:29.109 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-05 00:03:29.202 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-05 00:03:29.245 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-05 00:03:29.249 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-05 00:03:29.250 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-05 00:03:29.391 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-05 00:03:29.528 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-05 00:03:29.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-05 00:03:29.560 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 961.2487ms
2022-11-05 00:03:29.560 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-05 00:03:29.563 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 991.1467ms
2022-11-05 00:03:30.556 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-05 00:03:30.557 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:30.557 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4950ms
2022-11-05 00:03:30.594 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-05 00:03:30.594 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:30.595 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-05 00:03:30.606 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-05 00:03:30.606 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 11.9540ms
2022-11-05 00:03:30.638 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=W3jI9eQrUDql7LvMg5owVA - -
2022-11-05 00:03:30.638 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:30.639 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-05 00:03:32.271 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-05 00:03:32.271 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:32.272 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3841ms
2022-11-05 00:03:32.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-05 00:03:32.272 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:32.273 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-05 00:03:32.273 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:03:32.275 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:03:32.280 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-05 00:03:32.281 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-05 00:03:32.286 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-05 00:03:32.287 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.0156ms
2022-11-05 00:03:32.287 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-05 00:03:32.288 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 15.3985ms
2022-11-05 00:03:33.239 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-05 00:03:33.240 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:33.240 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6964ms
2022-11-05 00:03:33.241 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-05 00:03:33.243 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:33.243 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:03:33.248 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:03:33.255 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:03:33.412 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-05 00:03:33.483 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-05 00:03:33.486 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 238.042ms
2022-11-05 00:03:33.486 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:03:33.486 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 245.6061ms
2022-11-05 00:03:35.130 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:03:35.130 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:35.130 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 0.5157ms
2022-11-05 00:03:35.131 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:03:35.131 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:35.132 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:03:35.132 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:03:35.137 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:03:35.144 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-05 00:03:35.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-05 00:03:35.146 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 11.1451ms
2022-11-05 00:03:35.146 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:03:35.147 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 200 - application/json;+charset=utf-8 15.3813ms
2022-11-05 00:03:54.609 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:03:54.610 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:54.610 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 0.6953ms
2022-11-05 00:03:54.617 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 multipart/form-data;+boundary=----WebKitFormBoundaryrflCqBW0FOly0whB 1457587
2022-11-05 00:03:54.617 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:54.714 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-05 00:03:54.736 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-05 00:03:54.739 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-05 00:03:54.746 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-05 00:03:54.746 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 multipart/form-data;+boundary=----WebKitFormBoundaryrflCqBW0FOly0whB 1457587 - 401 0 - 128.9482ms
2022-11-05 00:03:54.749 +03:00 [INF] Connection id "0HMLUKM1I67J4", Request id "0HMLUKM1I67J4:0000000C": the application completed without reading the entire request body.
2022-11-05 00:03:54.752 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-05 00:03:54.752 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:54.752 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4872ms
2022-11-05 00:03:54.753 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-05 00:03:54.753 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:03:54.754 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-05 00:03:54.757 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-05 00:03:54.765 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:03:54.777 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-05 00:03:54.782 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-05 00:03:54.787 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-05 00:03:54.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-05 00:03:54.794 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 37.5223ms
2022-11-05 00:03:54.794 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-05 00:03:54.795 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 41.3645ms
2022-11-05 00:04:01.464 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-05 00:04:01.465 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=W3jI9eQrUDql7LvMg5owVA - - - 101 - - 30823.9349ms
2022-11-05 00:04:01.762 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-05 00:04:01.762 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:01.762 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3805ms
2022-11-05 00:04:01.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-05 00:04:01.763 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:01.763 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-05 00:04:01.764 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:04:01.765 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:04:01.770 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-05 00:04:01.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-05 00:04:01.773 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-05 00:04:01.773 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.6774ms
2022-11-05 00:04:01.774 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-05 00:04:01.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 10.8011ms
2022-11-05 00:04:03.886 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:04:03.886 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:03.886 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 0.5157ms
2022-11-05 00:04:03.887 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:04:03.888 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:03.890 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:04:03.890 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:04:03.893 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:04:03.899 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-05 00:04:03.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-05 00:04:03.900 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 9.7504ms
2022-11-05 00:04:03.900 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:04:03.900 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 200 - application/json;+charset=utf-8 12.9639ms
2022-11-05 00:04:09.441 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-05 00:04:09.442 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:09.442 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 1.3320ms
2022-11-05 00:04:09.444 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 multipart/form-data;+boundary=----WebKitFormBoundaryYj6pWJ9o5jQPIz99 570921
2022-11-05 00:04:09.444 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:09.474 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-05 00:04:09.479 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ECommerce.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:04:11.239 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:04:11.250 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2022-11-05 00:04:11.332 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-05 00:04:11.336 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p6, @p7);
2022-11-05 00:04:11.345 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-11-05 00:04:11.345 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi) in 1865.6086ms
2022-11-05 00:04:11.345 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-05 00:04:11.348 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products/upload?id=491a532c-f7d5-4aa2-99a9-81e9b1e19b03 multipart/form-data;+boundary=----WebKitFormBoundaryYj6pWJ9o5jQPIz99 570921 - 200 0 - 1904.1407ms
2022-11-05 00:04:15.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-05 00:04:15.379 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:15.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 204 - - 0.4414ms
2022-11-05 00:04:15.380 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-05 00:04:15.381 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:15.381 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:04:15.381 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:04:15.382 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:04:15.405 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-05 00:04:15.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-05 00:04:15.407 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 25.4501ms
2022-11-05 00:04:15.407 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-05 00:04:15.407 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 200 - application/json;+charset=utf-8 26.5368ms
2022-11-05 00:04:21.076 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-05 00:04:21.078 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:21.078 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=3714f710-928b-4a31-9c08-488e0069aed5 - - - 204 - - 1.4860ms
2022-11-05 00:04:21.079 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products/upload?id=3714f710-928b-4a31-9c08-488e0069aed5 multipart/form-data;+boundary=----WebKitFormBoundaryHa95Rtahc0hhwvGu 17921
2022-11-05 00:04:21.080 +03:00 [INF] CORS policy execution successful.
2022-11-05 00:04:21.083 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-05 00:04:21.083 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ECommerce.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-05 00:04:21.614 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:04:21.624 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2022-11-05 00:04:21.629 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-05 00:04:21.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Guid), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p6, @p7);
2022-11-05 00:04:21.642 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-11-05 00:04:21.642 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi) in 558.5444ms
2022-11-05 00:04:21.642 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-05 00:04:21.642 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products/upload?id=3714f710-928b-4a31-9c08-488e0069aed5 multipart/form-data;+boundary=----WebKitFormBoundaryHa95Rtahc0hhwvGu 17921 - 200 0 - 563.0117ms
2022-11-05 00:04:56.941 +03:00 [INF] Application is shutting down...
2022-11-05 00:05:53.266 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:06:02.352 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-05 00:06:02.602 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-05 00:06:02.626 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-05 00:06:02.637 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-05 00:06:02.656 +03:00 [INF] Applying migration '20221104210553_mig11'.
2022-11-05 00:06:02.702 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Files" ADD "Showcase" boolean NULL;
2022-11-05 00:06:02.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221104210553_mig11', '6.0.9');
2022-11-07 10:44:12.144 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 10:44:12.698 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 10:44:12.698 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 10:44:12.704 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 10:44:12.704 +03:00 [INF] Hosting environment: Development
2022-11-07 10:44:12.704 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 10:49:26.496 +03:00 [INF] Application is shutting down...
2022-11-07 10:49:32.393 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 10:49:32.647 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 10:49:32.648 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 10:49:32.651 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 10:49:32.651 +03:00 [INF] Hosting environment: Development
2022-11-07 10:49:32.651 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 10:51:53.196 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 10:51:53.250 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:51:53.258 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 65.3562ms
2022-11-07 10:51:53.264 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 10:51:53.267 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:51:53.278 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:51:53.310 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 10:51:55.300 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:51:55.744 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:51:55.867 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:51:55.923 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:51:55.926 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:51:55.928 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 10:51:56.093 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 10:51:56.256 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 10:51:56.299 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 10:51:56.321 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3003.9452ms
2022-11-07 10:51:56.323 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:51:56.352 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3087.4311ms
2022-11-07 10:52:01.243 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 10:52:01.245 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:01.245 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.4559ms
2022-11-07 10:52:01.284 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 10:52:01.285 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:01.286 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 10:52:01.301 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 10:52:01.302 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 18.1597ms
2022-11-07 10:52:01.331 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=5OoJJglogbHwWkeOTXe4ig - -
2022-11-07 10:52:01.344 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:01.347 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 10:52:02.521 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:52:02.521 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:02.521 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5188ms
2022-11-07 10:52:02.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:52:02.522 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:02.523 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:02.533 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:52:02.587 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:52:02.644 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:52:02.649 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:52:02.669 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 10:52:02.670 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 10:52:02.686 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:52:02.697 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 163.5568ms
2022-11-07 10:52:02.697 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:02.698 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 175.5822ms
2022-11-07 10:52:04.153 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:52:04.154 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:04.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6621ms
2022-11-07 10:52:04.157 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:52:04.159 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:04.160 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:52:04.164 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:52:04.187 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:52:04.356 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:52:04.434 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:52:04.438 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 272.9447ms
2022-11-07 10:52:04.438 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:52:04.438 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 281.2148ms
2022-11-07 10:52:06.250 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:52:06.251 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:06.251 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.7826ms
2022-11-07 10:52:06.252 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:52:06.253 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:06.253 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:06.258 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:52:06.272 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:52:06.294 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 35.9236ms
2022-11-07 10:52:06.295 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:06.296 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at lambda_method385(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ECommerce.Persistence.Repositories.ReadRepository`1.GetByIdAsync(String id, Boolean tracking)
   at ECommerce.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryHandler.Handle(GetByIdProductQueryRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Queries/Product/GetByIdProduct/GetByIdProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.ProductsController.Get(GetByIdProductQueryRequest getByIdProductQueryRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/ProductsController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 10:52:06.323 +03:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2022-11-07 10:52:06.326 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 500 - application/json 73.7382ms
2022-11-07 10:52:20.065 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 10:52:20.066 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=5OoJJglogbHwWkeOTXe4ig - - - 101 - - 18736.1908ms
2022-11-07 10:52:25.990 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 10:52:25.991 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:25.992 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.7940ms
2022-11-07 10:52:25.993 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 10:52:25.993 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:25.994 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:52:25.995 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 10:52:26.012 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:52:26.021 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:52:26.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:52:26.030 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:52:26.033 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:52:26.033 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 10:52:26.040 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 10:52:26.046 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 10:52:26.050 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 10:52:26.051 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 55.7503ms
2022-11-07 10:52:26.051 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:52:26.052 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 58.4753ms
2022-11-07 10:52:28.026 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 10:52:28.026 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:28.027 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5447ms
2022-11-07 10:52:28.028 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 10:52:28.029 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:28.029 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 10:52:28.030 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 10:52:28.030 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3877ms
2022-11-07 10:52:28.090 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=B9svmJWQ5RtQank2yx-MyA - -
2022-11-07 10:52:28.090 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:28.091 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 10:52:28.987 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:52:28.987 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:28.987 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5045ms
2022-11-07 10:52:28.988 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:52:28.989 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:52:28.989 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:28.989 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:52:28.991 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:52:28.994 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:52:28.995 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:52:29.002 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:52:29.003 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.7151ms
2022-11-07 10:52:29.003 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:52:29.003 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 14.8942ms
2022-11-07 10:52:57.956 +03:00 [INF] Application is shutting down...
2022-11-07 10:52:57.971 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 10:52:57.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=B9svmJWQ5RtQank2yx-MyA - - - 101 - - 29883.7245ms
2022-11-07 10:53:02.660 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 10:53:02.856 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 10:53:02.856 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 10:53:02.859 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 10:53:02.859 +03:00 [INF] Hosting environment: Development
2022-11-07 10:53:02.859 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 10:53:08.041 +03:00 [INF] Application is shutting down...
2022-11-07 10:53:20.271 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 10:53:20.453 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 10:53:20.454 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 10:53:20.456 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 10:53:20.456 +03:00 [INF] Hosting environment: Development
2022-11-07 10:53:20.456 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 10:53:48.316 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 10:53:48.363 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:53:48.371 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 57.1717ms
2022-11-07 10:53:48.399 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 10:53:48.400 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:53:48.411 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 10:53:48.423 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 10:53:48.423 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 24.5168ms
2022-11-07 10:53:48.468 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=03Pgav84sbtXEq_ZoKnftg - -
2022-11-07 10:53:48.474 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:53:48.474 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 10:54:31.227 +03:00 [INF] Application is shutting down...
2022-11-07 10:54:31.248 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 10:54:31.251 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=03Pgav84sbtXEq_ZoKnftg - - - 101 - - 42785.3981ms
2022-11-07 10:54:34.636 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 10:54:34.800 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 10:54:34.800 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 10:54:34.803 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 10:54:34.803 +03:00 [INF] Hosting environment: Development
2022-11-07 10:54:34.803 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 10:54:45.669 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 10:54:45.716 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:45.725 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 59.2557ms
2022-11-07 10:54:45.731 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 10:54:45.733 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:45.745 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:54:45.782 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 10:54:47.844 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:54:48.307 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:54:48.434 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:54:48.497 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 10:54:48.501 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 10:54:48.503 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 10:54:48.677 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 10:54:48.850 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 10:54:48.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 10:54:48.918 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3128.0091ms
2022-11-07 10:54:48.920 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 10:54:48.953 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3221.7435ms
2022-11-07 10:54:49.642 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 10:54:49.643 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:49.644 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.2729ms
2022-11-07 10:54:49.668 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 10:54:49.668 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:49.669 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 10:54:49.680 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 10:54:49.680 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 12.0802ms
2022-11-07 10:54:49.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=1uz9tbs24Pe0LBIBKviSWw - -
2022-11-07 10:54:49.723 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:49.725 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 10:54:53.284 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:54:53.284 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:53.284 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5808ms
2022-11-07 10:54:53.285 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:54:53.286 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:53.286 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:54:53.294 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:54:53.358 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:54:53.410 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:54:53.415 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:54:53.433 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 10:54:53.434 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 10:54:53.450 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:54:53.462 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 167.578ms
2022-11-07 10:54:53.462 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:54:53.462 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 176.5900ms
2022-11-07 10:54:54.858 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:54:54.858 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:54.858 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6086ms
2022-11-07 10:54:54.859 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:54:54.862 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:54.862 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:54:54.867 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:54:54.886 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:54:55.061 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:54:55.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:54:55.146 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 278.6751ms
2022-11-07 10:54:55.146 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:54:55.147 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 287.0932ms
2022-11-07 10:54:56.752 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:54:56.752 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:56.753 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5596ms
2022-11-07 10:54:56.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:54:56.754 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:54:56.868 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:54:56.871 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:54:56.877 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:54:56.921 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:54:56.941 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:54:56.965 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
2022-11-07 10:54:56.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:54:56.969 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 98.6852ms
2022-11-07 10:54:56.969 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:54:56.971 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 217.4407ms
2022-11-07 10:55:40.473 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-07 10:55:40.476 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:40.477 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 3.4881ms
2022-11-07 10:55:40.480 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-07 10:55:40.481 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:40.482 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:40.484 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:55:40.502 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:40.571 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:55:40.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:55:40.576 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 91.6856ms
2022-11-07 10:55:40.577 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:40.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 200 - application/json;+charset=utf-8 97.5575ms
2022-11-07 10:55:41.945 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - -
2022-11-07 10:55:41.946 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:41.946 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - - - 204 - - 0.7541ms
2022-11-07 10:55:41.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - -
2022-11-07 10:55:41.947 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:41.948 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:41.948 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:55:41.953 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:41.964 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:55:41.965 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:55:41.965 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 17.0914ms
2022-11-07 10:55:41.965 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:41.966 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - - - 200 - application/json;+charset=utf-8 18.6050ms
2022-11-07 10:55:43.216 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-07 10:55:43.217 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:43.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 204 - - 0.5405ms
2022-11-07 10:55:43.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-07 10:55:43.218 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:43.218 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:43.219 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:55:43.220 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:43.230 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:55:43.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:55:43.231 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 12.6049ms
2022-11-07 10:55:43.231 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:43.232 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 200 - application/json;+charset=utf-8 13.9546ms
2022-11-07 10:55:44.410 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-07 10:55:44.410 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:44.410 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 204 - - 0.5207ms
2022-11-07 10:55:44.411 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-07 10:55:44.411 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:44.412 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:44.412 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:55:44.414 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:44.419 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:55:44.420 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:55:44.420 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 8.471ms
2022-11-07 10:55:44.421 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:44.421 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 200 - application/json;+charset=utf-8 9.7698ms
2022-11-07 10:55:45.877 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:55:45.878 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:45.878 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5822ms
2022-11-07 10:55:45.879 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:55:45.879 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:45.879 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:45.880 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:55:45.882 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:45.886 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:55:45.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:55:45.888 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 7.8326ms
2022-11-07 10:55:45.888 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:55:45.888 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 9.5826ms
2022-11-07 10:55:53.049 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:55:53.051 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:53.063 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 14.1487ms
2022-11-07 10:55:53.075 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 multipart/form-data;+boundary=----WebKitFormBoundaryiGv5DtM54zZqS67O 17921
2022-11-07 10:55:53.076 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:53.085 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 10:55:53.127 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 10:55:53.132 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 10:55:53.143 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 10:55:53.143 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 multipart/form-data;+boundary=----WebKitFormBoundaryiGv5DtM54zZqS67O 17921 - 401 0 - 67.8954ms
2022-11-07 10:55:53.152 +03:00 [INF] Connection id "0HMM0ILB3MQ9R", Request id "0HMM0ILB3MQ9R:00000016": the application completed without reading the entire request body.
2022-11-07 10:55:53.153 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 10:55:53.153 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:53.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6251ms
2022-11-07 10:55:53.155 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 10:55:53.155 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:55:53.156 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 10:55:53.162 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 10:55:53.180 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:55:53.199 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 10:55:53.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 10:55:53.214 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 10:55:53.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 10:55:53.220 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 58.0599ms
2022-11-07 10:55:53.220 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 10:55:53.220 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 65.5835ms
2022-11-07 10:56:02.975 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 10:56:02.975 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=1uz9tbs24Pe0LBIBKviSWw - - - 101 - - 73261.1568ms
2022-11-07 10:56:03.267 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:56:03.267 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:03.267 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.7607ms
2022-11-07 10:56:03.268 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:56:03.268 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:03.268 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:56:03.269 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:03.271 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:03.276 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:56:03.277 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:56:03.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:56:03.286 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.222ms
2022-11-07 10:56:03.286 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:56:03.287 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 18.5775ms
2022-11-07 10:56:05.524 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:05.525 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:05.525 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 1.6942ms
2022-11-07 10:56:05.528 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:05.528 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:05.529 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:56:05.529 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:05.532 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:05.550 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:56:05.556 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:56:05.557 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 27.6148ms
2022-11-07 10:56:05.557 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:56:05.557 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 29.3969ms
2022-11-07 10:56:11.356 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:11.356 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:11.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.7119ms
2022-11-07 10:56:11.358 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 multipart/form-data;+boundary=----WebKitFormBoundarysFd4jUDtzvg035ob 17921
2022-11-07 10:56:11.358 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:11.361 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-07 10:56:11.367 +03:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ECommerce.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:12.648 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:12.656 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2022-11-07 10:56:12.717 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2022-11-07 10:56:12.722 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2022-11-07 10:56:12.732 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2022-11-07 10:56:12.732 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi) in 1364.5188ms
2022-11-07 10:56:12.732 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Upload (ECommerce.WebApi)'
2022-11-07 10:56:12.733 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products/upload?id=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 multipart/form-data;+boundary=----WebKitFormBoundarysFd4jUDtzvg035ob 17921 - 200 0 - 1374.9582ms
2022-11-07 10:56:14.839 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:56:14.840 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:14.840 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.7403ms
2022-11-07 10:56:14.841 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:56:14.841 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:14.841 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:56:14.841 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:14.844 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:14.852 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:56:14.853 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:56:14.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:56:14.861 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 19.0495ms
2022-11-07 10:56:14.861 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:56:14.861 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 20.2626ms
2022-11-07 10:56:16.736 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:16.736 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:16.736 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5805ms
2022-11-07 10:56:16.737 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:16.738 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:16.738 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:56:16.738 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:16.740 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:16.747 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:56:16.750 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:56:16.750 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 11.9889ms
2022-11-07 10:56:16.750 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:56:16.750 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 13.1584ms
2022-11-07 10:56:18.831 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:18.831 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:18.831 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6879ms
2022-11-07 10:56:18.832 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:18.833 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:18.833 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:56:18.834 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:18.846 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:18.855 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:56:18.864 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:56:18.884 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
UPDATE "Files" SET "Showcase" = @p2
WHERE "Id" = @p3;
2022-11-07 10:56:18.912 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:56:18.912 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 78.3474ms
2022-11-07 10:56:18.912 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:56:18.913 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 80.2675ms
2022-11-07 10:56:26.945 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:26.950 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:26.952 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 6.6748ms
2022-11-07 10:56:26.955 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:56:27.035 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:56:27.038 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:56:27.039 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:56:27.049 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:56:27.066 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:56:27.087 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:56:27.093 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
UPDATE "Files" SET "Showcase" = @p2
WHERE "Id" = @p3;
2022-11-07 10:56:27.098 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:56:27.098 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 58.836ms
2022-11-07 10:56:27.098 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:56:27.099 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 143.6537ms
2022-11-07 10:58:33.076 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:58:33.077 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:33.078 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 2.3395ms
2022-11-07 10:58:33.079 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:58:33.080 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:33.081 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:33.082 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:33.100 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:33.116 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:58:33.117 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:58:33.125 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:58:33.126 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 43.8073ms
2022-11-07 10:58:33.126 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:33.126 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 46.7373ms
2022-11-07 10:58:36.278 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:58:36.279 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:36.280 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:36.280 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:36.287 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:36.294 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:58:36.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:58:36.300 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:58:36.307 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 25.6962ms
2022-11-07 10:58:36.307 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:36.307 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 29.9403ms
2022-11-07 10:58:37.295 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:37.295 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:37.295 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.4426ms
2022-11-07 10:58:37.297 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:37.297 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:37.297 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:58:37.298 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:37.300 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:37.306 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:58:37.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:58:37.308 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 10.4685ms
2022-11-07 10:58:37.309 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:58:37.309 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 12.0384ms
2022-11-07 10:58:43.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:43.759 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:43.761 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 6.0813ms
2022-11-07 10:58:43.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:43.766 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:43.774 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:58:43.776 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:43.836 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:43.927 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:58:43.940 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:58:43.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:58:43.942 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 165.975ms
2022-11-07 10:58:43.942 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:58:43.942 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 178.3530ms
2022-11-07 10:58:46.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:46.091 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:46.092 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:58:46.092 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:46.094 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:46.100 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:58:46.110 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:58:46.111 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:58:46.111 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 19.1302ms
2022-11-07 10:58:46.112 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:58:46.112 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 21.1913ms
2022-11-07 10:58:54.690 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:58:54.691 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:54.691 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 1.2368ms
2022-11-07 10:58:54.692 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:58:54.692 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:54.693 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:54.693 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:54.695 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:54.699 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:58:54.699 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:58:54.703 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:58:54.704 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.8674ms
2022-11-07 10:58:54.704 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:58:54.705 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 12.2921ms
2022-11-07 10:58:56.551 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:56.552 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:56.552 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.7985ms
2022-11-07 10:58:56.553 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:58:56.553 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:58:56.554 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:58:56.554 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:58:56.557 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:58:56.578 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:58:56.579 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:58:56.580 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 25.7843ms
2022-11-07 10:58:56.580 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:58:56.580 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 27.0291ms
2022-11-07 10:59:19.694 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:59:19.696 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:19.697 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 3.2050ms
2022-11-07 10:59:19.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:59:19.704 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:19.706 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:19.712 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:19.747 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:19.814 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:59:19.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:59:19.837 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:59:19.838 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 125.9107ms
2022-11-07 10:59:19.839 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:19.839 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 135.7629ms
2022-11-07 10:59:21.587 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:59:21.591 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:21.594 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:21.598 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:21.605 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:21.613 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:59:21.614 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:59:21.645 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:59:21.647 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 46.048ms
2022-11-07 10:59:21.647 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:21.647 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 60.3743ms
2022-11-07 10:59:22.194 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:59:22.194 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:22.194 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5164ms
2022-11-07 10:59:22.195 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:59:22.195 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:22.196 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:22.196 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:22.198 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:22.228 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:59:22.229 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:59:22.229 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 33.3121ms
2022-11-07 10:59:22.230 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:22.230 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 34.5189ms
2022-11-07 10:59:24.089 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:59:24.089 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:24.089 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5365ms
2022-11-07 10:59:24.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:59:24.091 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:24.093 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:59:24.093 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:24.095 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:24.105 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:59:24.114 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 10:59:24.115 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 10:59:24.116 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 22.6709ms
2022-11-07 10:59:24.116 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 10:59:24.116 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 25.4232ms
2022-11-07 10:59:24.818 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:59:24.818 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:24.818 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3867ms
2022-11-07 10:59:24.819 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 10:59:24.819 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:24.819 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:24.819 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:24.821 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:24.824 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 10:59:24.825 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 10:59:24.832 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 10:59:24.832 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.8785ms
2022-11-07 10:59:24.833 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 10:59:24.833 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 13.8738ms
2022-11-07 10:59:25.835 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 10:59:25.836 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:25.836 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:25.836 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:25.838 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:25.845 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:59:25.846 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:59:25.846 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 9.947ms
2022-11-07 10:59:25.847 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:25.848 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 13.0035ms
2022-11-07 10:59:27.144 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-07 10:59:27.144 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:27.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 204 - - 0.4951ms
2022-11-07 10:59:27.145 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - -
2022-11-07 10:59:27.145 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:27.146 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:27.146 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:27.148 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:27.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:59:27.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:59:27.154 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 8.48ms
2022-11-07 10:59:27.155 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:27.155 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/491a532c-f7d5-4aa2-99a9-81e9b1e19b03 - - - 200 - application/json;+charset=utf-8 9.6279ms
2022-11-07 10:59:28.481 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - -
2022-11-07 10:59:28.482 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:28.482 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - - - 204 - - 0.4138ms
2022-11-07 10:59:28.482 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - -
2022-11-07 10:59:28.483 +03:00 [INF] CORS policy execution successful.
2022-11-07 10:59:28.483 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:28.483 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 10:59:28.486 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 10:59:28.490 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 10:59:28.491 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 10:59:28.491 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 8.245ms
2022-11-07 10:59:28.492 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 10:59:28.492 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/6dfe5259-5b04-4acd-830b-82300383dc63 - - - 200 - application/json;+charset=utf-8 9.6042ms
2022-11-07 11:00:56.254 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 11:00:56.256 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:00:56.256 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 2.8960ms
2022-11-07 11:00:56.258 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 11:00:56.259 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:00:56.260 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 11:00:56.260 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:00:56.298 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:00:56.503 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:00:56.505 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 11:00:56.506 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 244.8341ms
2022-11-07 11:00:56.506 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 11:00:56.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 247.5015ms
2022-11-07 11:00:58.005 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 11:00:58.006 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:00:58.006 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.4307ms
2022-11-07 11:00:58.007 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 11:00:58.007 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:00:58.009 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 11:00:58.009 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:00:58.011 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:00:58.025 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 11:00:58.032 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 11:00:58.039 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
UPDATE "Files" SET "Showcase" = @p2
WHERE "Id" = @p3;
2022-11-07 11:00:58.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 11:00:58.045 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 36.171ms
2022-11-07 11:00:58.046 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 11:00:58.046 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=c5229cab-599b-4613-a15c-0c2ffa9c6ab1&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 39.0665ms
2022-11-07 11:01:00.606 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:01:00.606 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:01:00.607 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4539ms
2022-11-07 11:01:00.608 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:01:00.609 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:01:00.609 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:01:00.610 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:01:00.611 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:01:00.615 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:01:00.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:01:00.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
FROM "Products" AS p
LIMIT @__p_1 OFFSET @__p_0
2022-11-07 11:01:00.619 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.4437ms
2022-11-07 11:01:00.619 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:01:00.620 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.4413ms
2022-11-07 11:02:00.169 +03:00 [INF] Application is shutting down...
2022-11-07 11:03:57.372 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 11:03:57.580 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 11:03:57.580 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 11:03:57.583 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 11:03:57.583 +03:00 [INF] Hosting environment: Development
2022-11-07 11:03:57.583 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 11:04:18.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:04:18.927 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:04:18.934 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 63.9279ms
2022-11-07 11:04:18.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:04:18.947 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:04:18.960 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:04:19.003 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:04:20.679 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:04:21.028 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:04:21.059 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:04:21.134 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 11:04:21.135 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 11:04:21.365 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:04:21.408 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2398.875ms
2022-11-07 11:04:21.409 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:04:21.426 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2486.2495ms
2022-11-07 11:19:15.004 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:19:15.011 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:19:15.013 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 10.4231ms
2022-11-07 11:19:15.014 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:19:15.016 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:19:15.021 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:19:15.024 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:19:15.090 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:19:15.147 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:19:15.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:19:15.161 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:19:15.162 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 138.0804ms
2022-11-07 11:19:15.162 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:19:15.163 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 148.4035ms
2022-11-07 11:21:01.798 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:21:01.799 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:21:01.800 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.3542ms
2022-11-07 11:21:01.801 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:21:01.801 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:21:01.806 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:21:01.807 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:21:01.837 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:21:01.847 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:21:01.848 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:21:01.852 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:21:01.853 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 46.5118ms
2022-11-07 11:21:01.854 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:21:01.854 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 52.7772ms
2022-11-07 11:21:08.194 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:21:08.195 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:21:08.195 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.9653ms
2022-11-07 11:21:08.196 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:21:08.196 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:21:08.196 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:21:08.196 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:21:08.198 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:21:08.201 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:21:08.201 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:21:08.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:21:08.209 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.0684ms
2022-11-07 11:21:08.209 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:21:08.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 13.2716ms
2022-11-07 11:39:06.771 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:39:06.780 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:39:06.785 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 12.4820ms
2022-11-07 11:39:06.786 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 11:39:06.787 +03:00 [INF] CORS policy execution successful.
2022-11-07 11:39:06.788 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:39:06.789 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 11:39:06.794 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 11:39:06.859 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 11:39:06.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 11:39:06.868 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 11:39:06.869 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 80.3387ms
2022-11-07 11:39:06.870 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 11:39:06.870 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 83.8897ms
2022-11-07 12:00:16.053 +03:00 [INF] Application is shutting down...
2022-11-07 12:00:31.823 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 12:00:32.036 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 12:00:32.037 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 12:00:32.042 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 12:00:32.042 +03:00 [INF] Hosting environment: Development
2022-11-07 12:00:32.042 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 12:01:55.111 +03:00 [INF] Application is shutting down...
2022-11-07 12:01:59.693 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 12:01:59.885 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 12:01:59.886 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 12:01:59.888 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 12:01:59.888 +03:00 [INF] Hosting environment: Development
2022-11-07 12:01:59.888 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 12:06:36.836 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:06:36.916 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:36.933 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 100.6206ms
2022-11-07 12:06:36.939 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:06:36.947 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:36.962 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:06:37.013 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:06:39.497 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:06:39.866 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:06:39.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:06:39.963 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:06:39.963 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:06:40.191 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:06:40.243 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 3224.7379ms
2022-11-07 12:06:40.244 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:06:40.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 3323.5000ms
2022-11-07 12:06:40.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.270 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.270 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.4793ms
2022-11-07 12:06:40.275 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.275 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.275 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3863ms
2022-11-07 12:06:40.282 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.282 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.282 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3898ms
2022-11-07 12:06:40.291 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.291 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.292 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.294 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:06:40.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:06:40.302 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 7.7507ms
2022-11-07 12:06:40.302 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 10.9497ms
2022-11-07 12:06:40.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.305 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.307 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.308 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:06:40.308 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:06:40.309 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8584ms
2022-11-07 12:06:40.309 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.309 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 4.8481ms
2022-11-07 12:06:40.317 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:06:40.317 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:06:40.317 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.318 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:06:40.318 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:06:40.318 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2331ms
2022-11-07 12:06:40.319 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:06:40.319 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 1.6347ms
2022-11-07 12:09:03.331 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:09:03.333 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:09:03.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 3.5697ms
2022-11-07 12:09:03.339 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:09:03.341 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:09:03.344 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:09:03.369 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:09:03.510 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:09:03.630 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:09:03.631 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:09:03.649 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:09:03.651 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 281.005ms
2022-11-07 12:09:03.651 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:09:03.651 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 312.1445ms
2022-11-07 12:09:33.263 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:09:33.264 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:09:33.265 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.8383ms
2022-11-07 12:09:33.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:09:33.272 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:09:33.274 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:09:33.274 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:09:33.294 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:09:33.313 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:09:33.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:09:33.319 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:09:33.320 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 45.4798ms
2022-11-07 12:09:33.320 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:09:33.320 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 48.5214ms
2022-11-07 12:11:49.907 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:11:49.908 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:11:49.909 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.2221ms
2022-11-07 12:11:49.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:11:49.911 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:11:49.911 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:11:49.912 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:11:49.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:11:49.913 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6167ms
2022-11-07 12:11:49.913 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:11:49.914 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 3.2864ms
2022-11-07 12:12:04.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:04.032 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:04.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.0386ms
2022-11-07 12:12:04.034 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:04.034 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:04.034 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:04.034 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:12:04.035 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:12:04.035 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.374ms
2022-11-07 12:12:04.035 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:04.035 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 1.2960ms
2022-11-07 12:12:21.094 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:21.096 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:21.097 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.5463ms
2022-11-07 12:12:21.101 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:21.102 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:21.113 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:21.114 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:12:21.115 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:12:21.116 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.3843ms
2022-11-07 12:12:21.116 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:21.116 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 14.9912ms
2022-11-07 12:12:25.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:25.306 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:25.320 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:25.325 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:12:25.328 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:12:25.330 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.5367ms
2022-11-07 12:12:25.330 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:25.330 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 26.4663ms
2022-11-07 12:12:27.355 +03:00 [INF] Application is shutting down...
2022-11-07 12:12:29.400 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 12:12:29.570 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 12:12:29.570 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 12:12:29.572 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 12:12:29.572 +03:00 [INF] Hosting environment: Development
2022-11-07 12:12:29.572 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 12:12:49.923 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:49.979 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:49.988 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 67.6536ms
2022-11-07 12:12:49.994 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:12:50.002 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:12:50.018 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:50.037 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:12:50.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:12:50.058 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 12.5992ms
2022-11-07 12:12:50.061 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:12:50.061 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 67.0821ms
2022-11-07 12:13:59.492 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:13:59.497 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:13:59.498 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 6.2998ms
2022-11-07 12:13:59.508 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:13:59.509 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:13:59.516 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:13:59.523 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:13:59.527 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:13:59.532 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 9.1223ms
2022-11-07 12:13:59.533 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:13:59.534 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 26.1806ms
2022-11-07 12:14:45.207 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:14:45.210 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:14:45.213 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 6.2547ms
2022-11-07 12:14:45.215 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:14:45.216 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:14:45.223 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:14:45.224 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:14:45.225 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:14:45.226 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.6185ms
2022-11-07 12:14:45.227 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:14:45.227 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 12.0890ms
2022-11-07 12:19:17.324 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:19:17.326 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:19:17.327 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.9255ms
2022-11-07 12:19:17.342 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:19:17.347 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:19:17.355 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:19:17.363 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:19:17.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2022-11-07 12:19:17.366 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.0447ms
2022-11-07 12:19:17.366 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:19:17.366 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - text/plain;+charset=utf-8 24.6831ms
2022-11-07 12:19:58.990 +03:00 [INF] Application is shutting down...
2022-11-07 12:20:05.469 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 12:20:05.685 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 12:20:05.685 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 12:20:05.688 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 12:20:05.688 +03:00 [INF] Hosting environment: Development
2022-11-07 12:20:05.688 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 12:20:15.243 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:20:15.349 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:15.361 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 123.8586ms
2022-11-07 12:20:15.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:20:15.391 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:15.410 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:20:15.434 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:20:15.448 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:20:15.468 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 19.784ms
2022-11-07 12:20:15.473 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:20:15.474 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 104.9878ms
2022-11-07 12:20:15.669 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:20:15.670 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:15.670 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.3777ms
2022-11-07 12:20:15.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:20:15.671 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:15.672 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:20:15.700 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:20:17.473 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:20:17.815 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:20:17.836 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:20:17.902 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:20:17.903 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:20:18.126 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:20:18.167 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2466.5401ms
2022-11-07 12:20:18.168 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:20:18.186 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2515.1392ms
2022-11-07 12:20:43.280 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:20:43.282 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:43.283 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.6138ms
2022-11-07 12:20:43.286 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:20:43.286 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:43.292 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:20:43.293 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:20:43.294 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:20:43.295 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1962ms
2022-11-07 12:20:43.295 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:20:43.295 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 9.4415ms
2022-11-07 12:20:43.702 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:20:43.702 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:43.702 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5281ms
2022-11-07 12:20:43.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:20:43.704 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:20:43.704 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:20:43.704 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:20:43.771 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:20:43.793 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:20:43.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:20:43.804 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:20:43.805 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 101.2621ms
2022-11-07 12:20:43.806 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:20:43.806 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 102.4975ms
2022-11-07 12:22:52.462 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:22:52.463 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:22:52.464 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.8772ms
2022-11-07 12:22:52.464 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:22:52.465 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:22:52.493 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:22:52.494 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:22:52.495 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:22:52.520 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 25.5812ms
2022-11-07 12:22:52.520 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:22:52.520 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 55.9095ms
2022-11-07 12:22:52.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:22:52.813 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:22:52.814 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.8268ms
2022-11-07 12:22:52.826 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:22:52.826 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:22:52.826 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:22:52.826 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:22:52.857 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:22:52.878 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:22:52.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:22:52.893 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:22:52.894 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 67.6187ms
2022-11-07 12:22:52.895 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:22:52.895 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 69.1514ms
2022-11-07 12:23:35.106 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:23:35.109 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:23:35.110 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.5348ms
2022-11-07 12:23:35.113 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:23:35.113 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:23:35.115 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:23:35.115 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:23:35.116 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:23:35.117 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1205ms
2022-11-07 12:23:35.117 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:23:35.117 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.2186ms
2022-11-07 12:23:35.599 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:23:35.602 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:23:35.603 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 4.6681ms
2022-11-07 12:23:35.607 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:23:35.607 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:23:35.608 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:23:35.609 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:23:35.624 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:23:35.639 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:23:35.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:23:35.647 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:23:35.647 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.1728ms
2022-11-07 12:23:35.647 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:23:35.648 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 41.1131ms
2022-11-07 12:24:01.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:24:01.671 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:01.672 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 7.7575ms
2022-11-07 12:24:01.687 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:24:01.694 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:01.697 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:24:01.703 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:24:01.713 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:24:01.716 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 12.6396ms
2022-11-07 12:24:01.716 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:24:01.717 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 29.4477ms
2022-11-07 12:24:02.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:24:02.540 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:02.547 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 11.1488ms
2022-11-07 12:24:02.551 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:24:02.564 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:02.585 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:24:02.588 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:24:02.652 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:24:02.741 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:24:02.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:24:02.799 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:24:02.804 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 215.3418ms
2022-11-07 12:24:02.804 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:24:02.824 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 253.3680ms
2022-11-07 12:24:38.033 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:24:38.036 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:38.037 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 5.8527ms
2022-11-07 12:24:38.045 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:24:38.048 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:38.057 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:24:38.065 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:24:38.069 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:24:38.077 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 10.8399ms
2022-11-07 12:24:38.077 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:24:38.078 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 32.5150ms
2022-11-07 12:24:38.685 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:24:38.685 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:38.685 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7613ms
2022-11-07 12:24:38.687 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:24:38.687 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:24:38.687 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:24:38.687 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:24:38.692 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:24:38.707 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:24:38.708 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:24:38.718 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:24:38.719 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 31.1232ms
2022-11-07 12:24:38.719 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:24:38.720 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 33.6427ms
2022-11-07 12:26:19.298 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:26:19.299 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:19.302 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.6272ms
2022-11-07 12:26:19.310 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:26:19.311 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:19.312 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:26:19.313 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:26:19.314 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:26:19.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1423ms
2022-11-07 12:26:19.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:26:19.314 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.2052ms
2022-11-07 12:26:19.715 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:26:19.715 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:19.716 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4292ms
2022-11-07 12:26:19.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:26:19.717 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:19.717 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:26:19.718 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:26:19.749 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:26:19.819 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:26:19.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:26:19.828 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:26:19.829 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 94.2587ms
2022-11-07 12:26:19.829 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:26:19.829 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 112.7682ms
2022-11-07 12:26:54.124 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:26:54.126 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:54.130 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 5.5677ms
2022-11-07 12:26:54.131 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:26:54.132 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:54.133 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:26:54.138 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:26:54.138 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:26:54.141 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.204ms
2022-11-07 12:26:54.142 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:26:54.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.4185ms
2022-11-07 12:26:54.496 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:26:54.497 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:54.497 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4257ms
2022-11-07 12:26:54.498 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:26:54.499 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:26:54.499 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:26:54.499 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:26:54.504 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:26:54.519 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:26:54.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:26:54.528 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:26:54.529 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 29.8831ms
2022-11-07 12:26:54.529 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:26:54.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 31.1127ms
2022-11-07 12:27:32.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:27:32.164 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:27:32.165 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 5.9284ms
2022-11-07 12:27:32.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:27:32.176 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:27:32.179 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:27:32.181 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:27:32.183 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:27:32.186 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 4.1096ms
2022-11-07 12:27:32.186 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:27:32.187 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 12.9113ms
2022-11-07 12:27:32.581 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:27:32.582 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:27:32.582 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.1924ms
2022-11-07 12:27:32.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:27:32.584 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:27:32.584 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:27:32.584 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:27:32.589 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:27:32.634 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:27:32.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:27:32.640 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:27:32.640 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 55.96ms
2022-11-07 12:27:32.640 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:27:32.641 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 56.9098ms
2022-11-07 12:29:00.966 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:29:00.967 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:00.968 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.3317ms
2022-11-07 12:29:00.969 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:29:00.970 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:00.971 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:29:00.972 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:29:00.972 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:29:00.973 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8958ms
2022-11-07 12:29:00.973 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:29:00.973 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.0958ms
2022-11-07 12:29:00.977 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 12:29:00.977 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:00.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.3913ms
2022-11-07 12:29:00.978 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 12:29:00.978 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:00.979 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:00.979 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:29:00.988 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:29:01.000 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:29:01.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:29:01.010 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:29:01.010 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:29:01.034 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:29:01.035 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 53.8707ms
2022-11-07 12:29:01.035 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:01.035 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 57.3985ms
2022-11-07 12:29:05.408 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:29:05.408 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:05.408 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4183ms
2022-11-07 12:29:05.409 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:29:05.409 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:05.409 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:05.410 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:29:05.412 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:29:05.415 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:29:05.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:29:05.420 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:29:05.421 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.8058ms
2022-11-07 12:29:05.421 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:05.421 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.0013ms
2022-11-07 12:29:38.847 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:29:38.849 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:38.849 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.2906ms
2022-11-07 12:29:38.850 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:29:38.852 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:38.857 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:29:38.866 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:29:38.868 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:29:38.869 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.8649ms
2022-11-07 12:29:38.869 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:29:38.869 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 18.6082ms
2022-11-07 12:29:39.343 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:29:39.343 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:39.344 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4794ms
2022-11-07 12:29:39.346 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:29:39.346 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:29:39.347 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:39.347 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:29:39.355 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:29:39.426 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:29:39.429 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:29:39.448 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:29:39.450 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 102.7765ms
2022-11-07 12:29:39.450 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:29:39.451 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 104.6130ms
2022-11-07 12:30:27.890 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:30:27.892 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:27.892 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.3127ms
2022-11-07 12:30:27.894 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:30:27.895 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:27.896 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:30:27.902 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:30:27.903 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:30:27.907 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 5.1075ms
2022-11-07 12:30:27.907 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:30:27.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 23.8972ms
2022-11-07 12:30:28.405 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:30:28.405 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:28.405 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4134ms
2022-11-07 12:30:28.406 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:30:28.406 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:28.406 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:30:28.407 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:30:28.414 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:30:28.428 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:30:28.429 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:30:28.435 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:30:28.447 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 39.7819ms
2022-11-07 12:30:28.447 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:30:28.447 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 41.3067ms
2022-11-07 12:30:40.519 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:30:40.519 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:40.520 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.3130ms
2022-11-07 12:30:40.521 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:30:40.521 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:40.522 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:30:40.523 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:30:40.523 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:30:40.524 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1135ms
2022-11-07 12:30:40.524 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:30:40.524 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.3227ms
2022-11-07 12:30:40.897 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:30:40.897 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:40.900 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 2.8672ms
2022-11-07 12:30:40.902 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:30:40.902 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:30:40.907 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:30:40.908 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:30:40.913 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:30:40.928 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:30:40.929 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:30:40.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:30:40.936 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.0393ms
2022-11-07 12:30:40.936 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:30:40.936 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 34.4011ms
2022-11-07 12:31:00.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:31:00.061 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:00.061 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.9981ms
2022-11-07 12:31:00.064 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:31:00.065 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:00.066 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:31:00.067 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:31:00.068 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:31:00.069 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.3737ms
2022-11-07 12:31:00.069 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:31:00.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.1724ms
2022-11-07 12:31:00.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:31:00.613 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:00.613 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4418ms
2022-11-07 12:31:00.614 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:31:00.614 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:00.615 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:31:00.615 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:31:00.619 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:31:00.645 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:31:00.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:31:00.655 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:31:00.656 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 40.5134ms
2022-11-07 12:31:00.656 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:31:00.656 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 41.7846ms
2022-11-07 12:31:05.082 +03:00 [INF] Application is shutting down...
2022-11-07 12:31:09.008 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 12:31:09.260 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 12:31:09.260 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 12:31:09.264 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 12:31:09.264 +03:00 [INF] Hosting environment: Development
2022-11-07 12:31:09.264 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 12:31:14.664 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:31:14.718 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:14.728 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 66.7724ms
2022-11-07 12:31:14.734 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:31:14.742 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:14.753 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:31:14.770 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:31:14.779 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:31:14.791 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 13.4661ms
2022-11-07 12:31:14.794 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:31:14.794 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 60.3908ms
2022-11-07 12:31:14.918 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:31:14.919 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:14.919 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.4167ms
2022-11-07 12:31:14.921 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:31:14.921 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:31:14.922 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:31:14.943 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:31:16.707 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:31:17.049 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:31:17.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:31:17.135 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:31:17.136 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:31:17.364 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:31:17.404 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2460.5518ms
2022-11-07 12:31:17.405 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:31:17.424 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2502.8972ms
2022-11-07 12:32:44.054 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:32:44.057 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:44.058 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.9555ms
2022-11-07 12:32:44.062 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:32:44.062 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:44.067 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:32:44.068 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:32:44.068 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:32:44.069 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9355ms
2022-11-07 12:32:44.069 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:32:44.070 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.0213ms
2022-11-07 12:32:44.795 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:32:44.796 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:44.796 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6672ms
2022-11-07 12:32:44.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:32:44.809 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:44.809 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:32:44.809 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:32:44.934 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:32:44.957 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:32:44.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:32:44.974 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:32:44.976 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 166.0241ms
2022-11-07 12:32:44.976 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:32:44.977 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 168.6454ms
2022-11-07 12:32:49.923 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:32:49.931 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:49.932 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 9.0832ms
2022-11-07 12:32:49.935 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:32:49.935 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:49.936 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:32:49.938 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:32:49.938 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:32:49.939 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9852ms
2022-11-07 12:32:49.939 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:32:49.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.3544ms
2022-11-07 12:32:50.284 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:32:50.284 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:50.284 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5734ms
2022-11-07 12:32:50.288 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:32:50.288 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:32:50.288 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:32:50.289 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:32:50.314 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:32:50.321 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:32:50.323 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:32:50.332 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:32:50.333 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 43.1836ms
2022-11-07 12:32:50.333 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:32:50.333 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 45.1480ms
2022-11-07 12:33:27.064 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 12:33:27.066 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:33:27.077 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 13.5230ms
2022-11-07 12:33:27.081 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 12:33:27.082 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:33:27.083 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:33:27.084 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:33:27.091 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:33:27.101 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:33:27.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:33:27.107 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:33:27.108 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 12:33:27.123 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:33:27.124 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 39.6752ms
2022-11-07 12:33:27.124 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:33:27.125 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 43.4182ms
2022-11-07 12:33:28.919 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:33:28.919 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:33:28.919 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6306ms
2022-11-07 12:33:28.920 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:33:28.921 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:33:28.921 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:33:28.921 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:33:28.924 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:33:28.928 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:33:28.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:33:28.932 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:33:28.934 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.8821ms
2022-11-07 12:33:28.935 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:33:28.935 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.5607ms
2022-11-07 12:36:38.715 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:36:38.718 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:36:38.718 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.1214ms
2022-11-07 12:36:38.719 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:36:38.720 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:36:38.721 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:36:38.721 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:36:38.722 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:36:38.722 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.7501ms
2022-11-07 12:36:38.722 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:36:38.723 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.1159ms
2022-11-07 12:36:39.049 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:36:39.049 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:36:39.050 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5439ms
2022-11-07 12:36:39.051 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:36:39.051 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:36:39.051 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:36:39.051 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:36:39.057 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:36:39.127 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:36:39.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:36:39.135 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:36:39.136 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 84.9636ms
2022-11-07 12:36:39.137 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:36:39.137 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 86.2167ms
2022-11-07 12:37:06.238 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:06.240 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:06.241 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.6857ms
2022-11-07 12:37:06.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:06.243 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:06.244 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:06.245 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:37:06.245 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:37:06.246 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.0032ms
2022-11-07 12:37:06.246 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:06.246 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.7918ms
2022-11-07 12:37:06.583 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:06.583 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:06.583 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4737ms
2022-11-07 12:37:06.584 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:06.584 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:06.584 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:06.585 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:37:06.589 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:37:06.607 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:37:06.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:37:06.630 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:37:06.631 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 46.212ms
2022-11-07 12:37:06.631 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:06.631 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 47.2641ms
2022-11-07 12:37:27.696 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:27.696 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:27.697 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.9415ms
2022-11-07 12:37:27.698 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:27.698 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:27.698 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:27.698 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:37:27.699 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:37:27.699 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5637ms
2022-11-07 12:37:27.699 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:27.699 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5610ms
2022-11-07 12:37:28.080 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:28.080 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:28.080 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4167ms
2022-11-07 12:37:28.081 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:28.081 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:28.081 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:28.081 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:37:28.083 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:37:28.087 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:37:28.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:37:28.090 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:37:28.091 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.3475ms
2022-11-07 12:37:28.091 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:28.091 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 10.5491ms
2022-11-07 12:37:36.071 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:36.073 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:36.075 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.8917ms
2022-11-07 12:37:36.082 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:36.085 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:36.087 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:36.089 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:37:36.090 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:37:36.092 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.2646ms
2022-11-07 12:37:36.092 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:36.092 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.6526ms
2022-11-07 12:37:36.514 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:36.514 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:36.515 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5319ms
2022-11-07 12:37:36.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:36.516 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:36.516 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:36.517 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:37:36.537 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:37:36.550 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:37:36.551 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:37:36.558 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:37:36.559 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 41.971ms
2022-11-07 12:37:36.559 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:36.559 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 43.1661ms
2022-11-07 12:37:55.114 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:55.116 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:55.116 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.2562ms
2022-11-07 12:37:55.118 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:55.119 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:55.119 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:55.120 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:37:55.120 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:37:55.121 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8042ms
2022-11-07 12:37:55.121 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:55.121 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.1503ms
2022-11-07 12:37:55.667 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:55.668 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:55.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5723ms
2022-11-07 12:37:55.670 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:55.670 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:55.670 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:55.670 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:37:55.675 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:37:55.699 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:37:55.700 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:37:55.710 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:37:55.711 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 40.1419ms
2022-11-07 12:37:55.711 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:55.711 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 41.3807ms
2022-11-07 12:37:58.477 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:37:58.478 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:58.479 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:58.480 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:37:58.482 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:37:58.482 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7192ms
2022-11-07 12:37:58.483 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:37:58.483 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.3034ms
2022-11-07 12:37:58.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:37:58.940 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:37:58.941 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:58.941 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:37:58.946 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:37:58.959 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:37:58.961 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:37:58.973 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:37:58.974 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.0158ms
2022-11-07 12:37:58.974 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:37:58.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 34.2278ms
2022-11-07 12:38:23.345 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:38:23.349 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:23.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 6.2758ms
2022-11-07 12:38:23.353 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:38:23.354 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:23.359 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:38:23.360 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:38:23.361 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:38:23.362 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.0638ms
2022-11-07 12:38:23.363 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:38:23.363 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 9.6442ms
2022-11-07 12:38:23.820 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:38:23.820 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:23.820 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3852ms
2022-11-07 12:38:23.821 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:38:23.821 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:23.822 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:38:23.822 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:38:23.829 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:38:23.841 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:38:23.842 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:38:23.848 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:38:23.849 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.1333ms
2022-11-07 12:38:23.849 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:38:23.849 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 28.5721ms
2022-11-07 12:38:30.457 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:38:30.457 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:30.457 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5342ms
2022-11-07 12:38:30.458 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:38:30.458 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:30.458 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:38:30.459 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:38:30.459 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:38:30.459 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.257ms
2022-11-07 12:38:30.459 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:38:30.459 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1993ms
2022-11-07 12:38:30.831 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:38:30.831 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:30.832 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.5690ms
2022-11-07 12:38:30.841 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:38:30.841 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:38:30.881 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:38:30.882 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:38:30.883 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:38:30.886 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:38:30.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:38:30.891 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:38:30.897 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.1102ms
2022-11-07 12:38:30.899 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:38:30.900 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 59.1015ms
2022-11-07 12:52:54.344 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:52:54.347 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:52:54.348 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 5.2870ms
2022-11-07 12:52:54.351 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:52:54.352 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:52:54.355 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:52:54.366 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:52:54.370 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:52:54.374 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 7.7413ms
2022-11-07 12:52:54.375 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:52:54.375 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 23.7660ms
2022-11-07 12:52:54.838 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:52:54.838 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:52:54.838 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4203ms
2022-11-07 12:52:54.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:52:54.840 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:52:54.840 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:52:54.840 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:52:54.849 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:52:54.929 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:52:54.930 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:52:54.938 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:52:54.939 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 98.6773ms
2022-11-07 12:52:54.939 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:52:54.940 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 100.1788ms
2022-11-07 12:53:40.472 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:53:40.478 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:53:40.479 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 8.5689ms
2022-11-07 12:53:40.481 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:53:40.482 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:53:40.485 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:53:40.486 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:53:40.487 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:53:40.487 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.0098ms
2022-11-07 12:53:40.488 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:53:40.489 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 7.9357ms
2022-11-07 12:53:41.024 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:53:41.024 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:53:41.025 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5161ms
2022-11-07 12:53:41.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:53:41.028 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:53:41.029 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:53:41.029 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:53:41.039 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:53:41.045 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:53:41.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:53:41.058 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:53:41.062 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.8397ms
2022-11-07 12:53:41.062 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:53:41.062 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 34.0562ms
2022-11-07 12:54:07.927 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:54:07.931 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:54:07.932 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.6703ms
2022-11-07 12:54:07.934 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:54:07.936 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:54:07.947 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:54:07.951 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:54:07.951 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:54:07.953 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7803ms
2022-11-07 12:54:07.953 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:54:07.953 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 19.3677ms
2022-11-07 12:54:08.434 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:54:08.434 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:54:08.434 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4323ms
2022-11-07 12:54:08.435 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:54:08.436 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:54:08.436 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:54:08.436 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:54:08.441 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:54:08.467 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:54:08.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:54:08.474 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:54:08.475 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.1319ms
2022-11-07 12:54:08.475 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:54:08.475 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 39.4709ms
2022-11-07 12:55:54.743 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:55:54.747 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:55:54.748 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 5.2795ms
2022-11-07 12:55:54.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 12:55:54.757 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:55:54.758 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:55:54.759 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 12:55:54.760 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 12:55:54.761 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1543ms
2022-11-07 12:55:54.761 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 12:55:54.761 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.9798ms
2022-11-07 12:55:55.168 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:55:55.168 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:55:55.168 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3429ms
2022-11-07 12:55:55.170 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 12:55:55.171 +03:00 [INF] CORS policy execution successful.
2022-11-07 12:55:55.172 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:55:55.172 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 12:55:55.176 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 12:55:55.193 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 12:55:55.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 12:55:55.202 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 12:55:55.202 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 30.5989ms
2022-11-07 12:55:55.203 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 12:55:55.204 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 33.7606ms
2022-11-07 13:14:11.064 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:14:11.065 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:11.065 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.7996ms
2022-11-07 13:14:11.066 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:14:11.067 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:11.074 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:14:11.075 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:14:11.076 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:14:11.076 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8838ms
2022-11-07 13:14:11.077 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:14:11.078 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 11.4034ms
2022-11-07 13:14:11.381 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:14:11.381 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:11.381 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4654ms
2022-11-07 13:14:11.384 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:14:11.384 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:11.384 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:14:11.385 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:14:11.404 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:14:11.459 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:14:11.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:14:11.469 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:14:11.472 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 86.8271ms
2022-11-07 13:14:11.472 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:14:11.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 88.4141ms
2022-11-07 13:14:56.940 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:14:56.947 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:56.950 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 10.0642ms
2022-11-07 13:14:56.953 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:14:56.954 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:56.956 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:14:56.957 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:14:56.959 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:14:56.963 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 5.0137ms
2022-11-07 13:14:56.963 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:14:56.964 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.1172ms
2022-11-07 13:14:57.746 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:14:57.746 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:57.746 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4303ms
2022-11-07 13:14:57.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:14:57.748 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:14:57.748 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:14:57.748 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:14:57.758 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:14:57.785 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:14:57.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:14:57.794 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:14:57.795 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 44.6726ms
2022-11-07 13:14:57.795 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:14:57.795 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 47.4881ms
2022-11-07 13:15:06.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:15:06.876 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:15:06.877 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.8483ms
2022-11-07 13:15:06.880 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:15:06.880 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:15:06.880 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:15:06.881 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:15:06.881 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:15:06.882 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5941ms
2022-11-07 13:15:06.882 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:15:06.882 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.3158ms
2022-11-07 13:15:07.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:15:07.357 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:15:07.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4130ms
2022-11-07 13:15:07.358 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:15:07.359 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:15:07.359 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:15:07.359 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:15:07.365 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:15:07.378 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:15:07.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:15:07.385 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:15:07.388 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.5005ms
2022-11-07 13:15:07.388 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:15:07.388 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 29.9917ms
2022-11-07 13:16:30.472 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:30.473 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:30.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.9451ms
2022-11-07 13:16:30.484 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:30.485 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:30.490 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:30.490 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:16:30.491 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:16:30.493 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.3898ms
2022-11-07 13:16:30.493 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:30.493 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 9.6998ms
2022-11-07 13:16:30.986 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:30.987 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:30.987 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3858ms
2022-11-07 13:16:30.988 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:30.988 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:30.988 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:30.988 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:16:31.003 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:16:31.018 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:16:31.019 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:16:31.025 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:16:31.026 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 37.266ms
2022-11-07 13:16:31.026 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:31.026 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 38.1193ms
2022-11-07 13:16:37.899 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:37.900 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:37.901 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.6495ms
2022-11-07 13:16:37.914 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:37.914 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:37.915 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:37.915 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:16:37.916 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:16:37.916 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5951ms
2022-11-07 13:16:37.916 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:37.916 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.2172ms
2022-11-07 13:16:38.318 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:38.318 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:38.318 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4202ms
2022-11-07 13:16:38.319 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:38.320 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:38.320 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:38.320 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:16:38.325 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:16:38.329 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:16:38.330 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:16:38.335 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:16:38.336 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.0611ms
2022-11-07 13:16:38.336 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:38.336 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.0455ms
2022-11-07 13:16:48.070 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:48.071 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:48.073 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.2563ms
2022-11-07 13:16:48.078 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:16:48.081 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:48.102 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:48.102 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:16:48.103 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:16:48.120 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 17.3662ms
2022-11-07 13:16:48.120 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:16:48.120 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 42.2550ms
2022-11-07 13:16:48.551 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:48.551 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:48.551 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4165ms
2022-11-07 13:16:48.553 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:16:48.553 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:16:48.553 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:48.554 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:16:48.560 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:16:48.576 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:16:48.593 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:16:48.601 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:16:48.602 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 48.2632ms
2022-11-07 13:16:48.602 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:16:48.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 49.8410ms
2022-11-07 13:17:19.347 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 13:17:19.348 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:19.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 4.8598ms
2022-11-07 13:17:19.354 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 13:17:19.359 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:19.360 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:17:19.382 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 13:17:19.792 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:17:19.848 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:17:19.913 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:17:19.964 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:17:19.968 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:17:19.969 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 13:17:20.117 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 13:17:20.263 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 13:17:20.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 13:17:20.294 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 912.407ms
2022-11-07 13:17:20.294 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:17:20.296 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 942.4094ms
2022-11-07 13:17:21.154 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 13:17:21.154 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:21.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3798ms
2022-11-07 13:17:21.190 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 13:17:21.192 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:21.195 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 13:17:21.260 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 13:17:21.260 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 69.9912ms
2022-11-07 13:17:21.299 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=K_u5ZAh88dqKk40GPWkqKw - -
2022-11-07 13:17:21.299 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:21.299 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 13:17:23.802 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:17:23.802 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:23.802 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.4844ms
2022-11-07 13:17:23.804 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:17:23.808 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:23.808 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:17:23.814 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:17:23.817 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:17:23.822 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:17:23.823 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:17:23.831 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:17:23.833 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.9458ms
2022-11-07 13:17:23.833 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:17:23.833 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 29.5585ms
2022-11-07 13:17:26.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-07 13:17:26.018 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:26.018 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 204 - - 0.9045ms
2022-11-07 13:17:26.020 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-07 13:17:26.023 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:26.023 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:17:26.029 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:17:26.038 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:17:26.211 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:17:26.345 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 13:17:26.348 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 318.9061ms
2022-11-07 13:17:26.348 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:17:26.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 200 - application/json;+charset=utf-8 346.8803ms
2022-11-07 13:17:35.586 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:17:35.587 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:35.587 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.9433ms
2022-11-07 13:17:35.589 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:17:35.589 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:17:35.589 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:17:35.590 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:17:35.596 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:17:35.609 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:17:35.669 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 13:17:35.671 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 78.9031ms
2022-11-07 13:17:35.672 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:17:35.672 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 82.9709ms
2022-11-07 13:18:08.015 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 13:18:08.019 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=K_u5ZAh88dqKk40GPWkqKw - - - 101 - - 46723.7055ms
2022-11-07 13:18:15.472 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 13:18:15.473 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:15.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.2533ms
2022-11-07 13:18:15.475 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 13:18:15.475 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:15.476 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:18:15.476 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 13:18:15.501 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:18:15.508 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:18:15.514 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:18:15.519 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:18:15.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:18:15.524 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 13:18:15.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 13:18:15.541 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 13:18:15.545 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 13:18:15.546 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 69.5859ms
2022-11-07 13:18:15.546 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:18:15.546 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 71.3984ms
2022-11-07 13:18:22.563 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 13:18:22.563 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:22.563 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3735ms
2022-11-07 13:18:22.564 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 13:18:22.564 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:22.564 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 13:18:22.566 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 13:18:22.567 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.7994ms
2022-11-07 13:18:22.642 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=fhWRFAk3fjnC8KwWSG32uA - -
2022-11-07 13:18:22.642 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:22.642 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 13:18:23.415 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:18:23.415 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:23.415 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3684ms
2022-11-07 13:18:23.415 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:18:23.416 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:23.416 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:18:23.416 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:18:23.418 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:18:23.430 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:18:23.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:18:23.438 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:18:23.439 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 23.1368ms
2022-11-07 13:18:23.439 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:18:23.440 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 24.0406ms
2022-11-07 13:18:25.153 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:18:25.154 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:25.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6865ms
2022-11-07 13:18:25.156 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:18:25.156 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:18:25.156 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:18:25.156 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:18:25.160 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:18:25.167 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:18:25.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 13:18:25.171 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 14.1851ms
2022-11-07 13:18:25.171 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:18:25.171 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 15.2315ms
2022-11-07 13:21:37.351 +03:00 [INF] Application is shutting down...
2022-11-07 13:21:37.366 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 13:21:37.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=fhWRFAk3fjnC8KwWSG32uA - - - 101 - - 194745.1992ms
2022-11-07 13:21:41.995 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 13:21:42.199 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 13:21:42.199 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 13:21:42.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 13:21:42.201 +03:00 [INF] Hosting environment: Development
2022-11-07 13:21:42.201 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 13:21:50.454 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 13:21:50.508 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:21:50.517 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 66.1058ms
2022-11-07 13:21:50.544 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 13:21:50.545 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:21:50.559 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 13:21:50.575 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 13:21:50.575 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 31.4325ms
2022-11-07 13:21:50.618 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=QTLjv0n04La9KGBZ6LpIHw - -
2022-11-07 13:21:50.625 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:21:50.625 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 13:23:04.375 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 13:23:04.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=QTLjv0n04La9KGBZ6LpIHw - - - 101 - - 73769.2417ms
2022-11-07 13:23:08.036 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 13:23:08.037 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:08.037 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.5905ms
2022-11-07 13:23:08.041 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 13:23:08.046 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:08.051 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:23:08.086 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 13:23:10.095 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:23:10.529 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:23:10.649 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:23:10.704 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 13:23:10.708 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 13:23:10.710 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 13:23:10.882 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 13:23:11.048 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 13:23:11.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 13:23:11.113 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3018.7671ms
2022-11-07 13:23:11.113 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 13:23:11.129 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3088.0728ms
2022-11-07 13:23:11.700 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-07 13:23:11.700 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:11.700 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5071ms
2022-11-07 13:23:11.724 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-07 13:23:11.724 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:11.724 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-07 13:23:11.724 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-07 13:23:11.725 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8143ms
2022-11-07 13:23:11.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Mz6tbha4ZjlSk0fuzsKWIw - -
2022-11-07 13:23:11.754 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:11.754 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-07 13:23:12.769 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:23:12.769 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:12.769 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.3632ms
2022-11-07 13:23:12.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-07 13:23:12.770 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:12.770 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:23:12.775 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:23:12.822 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:23:12.864 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:23:12.870 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:23:12.905 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 13:23:12.906 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 13:23:13.008 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:23:13.029 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 253.9261ms
2022-11-07 13:23:13.029 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:23:13.030 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 259.5637ms
2022-11-07 13:23:14.553 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:23:14.553 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:14.553 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.5506ms
2022-11-07 13:23:14.554 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:23:14.557 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:14.557 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:23:14.561 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:23:14.583 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:23:14.648 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:23:14.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 13:23:14.748 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 187.0187ms
2022-11-07 13:23:14.748 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-07 13:23:14.748 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 194.0030ms
2022-11-07 13:23:17.908 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:23:17.908 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:17.908 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 204 - - 0.6436ms
2022-11-07 13:23:17.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - -
2022-11-07 13:23:17.912 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:18.024 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 13:23:18.026 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:23:18.035 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:23:18.065 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 13:23:18.085 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-07 13:23:18.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p3='?' (DbType = Guid), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
UPDATE "Files" SET "Showcase" = @p2
WHERE "Id" = @p3;
2022-11-07 13:23:18.116 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-07 13:23:18.116 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 89.8729ms
2022-11-07 13:23:18.116 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-07 13:23:18.118 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=2a11aa83-18ee-486d-adee-7f36af69a831&productId=d555e59f-70c2-4c9f-a0cb-779db3e89bf4 - - - 200 - application/json;+charset=utf-8 206.8447ms
2022-11-07 13:23:20.217 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:23:20.217 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:20.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5101ms
2022-11-07 13:23:20.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:23:20.219 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:20.219 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:23:20.221 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:23:20.222 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:23:20.224 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.1195ms
2022-11-07 13:23:20.224 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:23:20.224 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.0205ms
2022-11-07 13:23:20.228 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:23:20.229 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:20.229 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7937ms
2022-11-07 13:23:20.232 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:23:20.232 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:23:20.232 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:23:20.233 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:23:20.235 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:23:20.238 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:23:20.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:23:20.246 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:23:20.247 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.5667ms
2022-11-07 13:23:20.247 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:23:20.247 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.2150ms
2022-11-07 13:23:56.680 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-07 13:23:56.686 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Mz6tbha4ZjlSk0fuzsKWIw - - - 101 - - 44933.1927ms
2022-11-07 13:24:00.772 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:24:00.775 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:24:00.776 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.2505ms
2022-11-07 13:24:00.778 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 13:24:00.779 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:24:00.782 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:24:00.784 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 13:24:00.786 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 13:24:00.788 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.9077ms
2022-11-07 13:24:00.789 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 13:24:00.789 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.9710ms
2022-11-07 13:24:01.087 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:24:01.087 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:24:01.087 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5235ms
2022-11-07 13:24:01.088 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 13:24:01.089 +03:00 [INF] CORS policy execution successful.
2022-11-07 13:24:01.089 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:24:01.089 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 13:24:01.110 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 13:24:01.124 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 13:24:01.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 13:24:01.137 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 13:24:01.139 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 50.1805ms
2022-11-07 13:24:01.139 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 13:24:01.140 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 51.4802ms
2022-11-07 13:36:50.725 +03:00 [INF] Application is shutting down...
2022-11-07 16:55:21.209 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2022-11-07 16:55:21.339 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 16:55:21.363 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2022-11-07 16:55:26.865 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2022-11-07 16:55:26.976 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 16:55:27.031 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:55:27.044 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:55:27.052 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 16:55:27.064 +03:00 [INF] Applying migration '20221107135521_mig12'.
2022-11-07 16:55:27.123 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "UserId1" text NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId1" FOREIGN KEY ("UserId1") REFERENCES "AspNetUsers" ("Id")
);
2022-11-07 16:55:27.130 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2022-11-07 16:55:27.133 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2022-11-07 16:55:27.135 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2022-11-07 16:55:27.138 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId1" ON "Baskets" ("UserId1");
2022-11-07 16:55:27.140 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107135521_mig12', '6.0.9');
2022-11-07 16:56:22.821 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2022-11-07 16:56:22.935 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 16:56:22.954 +03:00 [WRN] The foreign key property 'Basket.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2022-11-07 16:56:23.048 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:56:23.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 16:56:23.076 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:56:23.087 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:56:23.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 16:56:23.097 +03:00 [INF] Reverting migration '20221107135521_mig12'.
2022-11-07 16:56:23.122 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "BasketItems";
2022-11-07 16:56:23.123 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Baskets";
2022-11-07 16:56:23.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsHistory"
WHERE "MigrationId" = '20221107135521_mig12';
2022-11-07 16:57:30.516 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 16:57:36.374 +03:00 [INF] Entity Framework Core 6.0.9 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 16:57:36.539 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:57:36.552 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 16:57:36.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 16:57:36.570 +03:00 [INF] Applying migration '20221107135730_mig12'.
2022-11-07 16:57:36.607 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Baskets" (
    "Id" uuid NOT NULL,
    "UserId" text NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Baskets" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Baskets_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id")
);
2022-11-07 16:57:36.611 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "BasketItems" (
    "Id" uuid NOT NULL,
    "BasketId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" integer NOT NULL,
    "CreatedDate" timestamp with time zone NOT NULL,
    "UpdatedDate" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_BasketItems" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_BasketItems_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_BasketItems_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2022-11-07 16:57:36.616 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_BasketId" ON "BasketItems" ("BasketId");
2022-11-07 16:57:36.618 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_BasketItems_ProductId" ON "BasketItems" ("ProductId");
2022-11-07 16:57:36.621 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Baskets_UserId" ON "Baskets" ("UserId");
2022-11-07 16:57:36.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107135730_mig12', '6.0.9');
2022-11-07 17:51:11.453 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 17:51:27.265 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 17:51:27.411 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:51:27.424 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:51:27.431 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 17:51:27.445 +03:00 [INF] Applying migration '20221107145111_InitDatabase'.
2022-11-07 17:51:27.488 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2022-11-07 17:51:39.531 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 17:51:39.697 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:51:39.713 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:51:39.718 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 17:51:39.730 +03:00 [INF] Applying migration '20221107145111_InitDatabase'.
2022-11-07 17:51:39.772 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256) NULL,
    "NormalizedName" character varying(256) NULL,
    "ConcurrencyStamp" text NULL,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2022-11-07 17:53:04.798 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 17:53:26.965 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 17:53:27.113 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:53:27.127 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 17:53:27.135 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 17:53:27.149 +03:00 [INF] Applying migration '20221107145304_InitDatabase'.
2022-11-07 17:53:27.183 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-11-07 17:53:27.185 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD "OrderId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-11-07 17:53:27.190 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Baskets_OrderId" ON "Baskets" ("OrderId");
2022-11-07 17:53:27.199 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" ADD CONSTRAINT "FK_Baskets_Orders_OrderId" FOREIGN KEY ("OrderId") REFERENCES "Orders" ("Id") ON DELETE CASCADE;
2022-11-07 17:53:27.206 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107145304_InitDatabase', '6.0.8');
2022-11-07 18:02:34.970 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:02:49.950 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:02:50.172 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:02:50.192 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:02:50.201 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:02:50.223 +03:00 [INF] Applying migration '20221107150235_init1'.
2022-11-07 18:02:50.269 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2022-11-07 18:02:50.271 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Baskets_OrderId";
2022-11-07 18:02:50.273 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP COLUMN "OrderId";
2022-11-07 18:02:50.278 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_BasketId" ON "Orders" ("BasketId");
2022-11-07 18:03:11.155 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:03:11.396 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:03:11.415 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:03:11.424 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:03:11.444 +03:00 [INF] Applying migration '20221107150235_init1'.
2022-11-07 18:03:11.485 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2022-11-07 18:03:11.490 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Baskets_OrderId";
2022-11-07 18:03:11.493 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP COLUMN "OrderId";
2022-11-07 18:03:11.501 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_BasketId" ON "Orders" ("BasketId");
2022-11-07 18:04:53.158 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:04:53.399 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:04:53.424 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:04:53.432 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:04:53.452 +03:00 [INF] Applying migration '20221107150235_init1'.
2022-11-07 18:04:53.494 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2022-11-07 18:04:53.499 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Baskets_OrderId";
2022-11-07 18:05:36.360 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:05:36.590 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:05:36.608 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:05:36.617 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:05:36.636 +03:00 [INF] Applying migration '20221107150235_init1'.
2022-11-07 18:05:36.678 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2022-11-07 18:05:36.681 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP COLUMN "OrderId";
2022-11-07 18:05:36.688 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_BasketId" ON "Orders" ("BasketId");
2022-11-07 18:06:44.761 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:07:57.770 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:08:23.587 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:08:38.610 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:08:38.839 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:08:38.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:08:38.876 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:08:38.898 +03:00 [INF] Applying migration '20221107150757_init1'.
2022-11-07 18:08:38.941 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_BasketId";
2022-11-07 18:08:52.930 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:08:53.170 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:08:53.189 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:08:53.198 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:08:53.218 +03:00 [INF] Applying migration '20221107150757_init1'.
2022-11-07 18:08:53.265 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_BasketId";
2022-11-07 18:09:54.115 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:09:54.346 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:09:54.363 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:09:54.371 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:09:54.391 +03:00 [INF] Applying migration '20221107150757_init1'.
2022-11-07 18:09:54.436 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_BasketId";
2022-11-07 18:15:47.320 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:15:47.562 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:15:47.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:15:47.590 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:15:47.610 +03:00 [INF] Applying migration '20221107150757_init1'.
2022-11-07 18:15:47.656 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_BasketId";
2022-11-07 18:16:06.280 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:16:06.514 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:16:06.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:16:06.540 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:16:06.561 +03:00 [INF] Applying migration '20221107150823_init2'.
2022-11-07 18:16:06.603 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Baskets" DROP CONSTRAINT "FK_Baskets_Orders_OrderId";
2022-11-07 18:16:50.532 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:17:13.944 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:17:14.172 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:17:14.191 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:17:14.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:17:14.222 +03:00 [INF] Applying migration '20221107151650_init1'.
2022-11-07 18:17:14.255 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107151650_init1', '6.0.8');
2022-11-07 18:20:32.937 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:20:59.622 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:21:15.696 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:26:58.097 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:28:50.077 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:29:14.273 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:29:14.506 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:29:14.524 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:29:14.532 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:29:14.555 +03:00 [INF] Applying migration '20221107152850_init1'.
2022-11-07 18:29:14.598 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-11-07 18:29:31.073 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:29:31.315 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:29:31.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:29:31.345 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:29:31.365 +03:00 [INF] Applying migration '20221107152850_init1'.
2022-11-07 18:29:31.410 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-11-07 18:29:59.864 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:30:00.106 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:30:00.123 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:30:00.132 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:30:00.152 +03:00 [INF] Applying migration '20221107152850_init1'.
2022-11-07 18:30:00.193 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_BasketId" ON "Orders" ("BasketId");
2022-11-07 18:30:20.615 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:30:20.856 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:30:20.873 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:30:20.881 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:30:20.901 +03:00 [INF] Applying migration '20221107152850_init1'.
2022-11-07 18:30:20.942 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2022-11-07 18:36:54.303 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:36:54.545 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:36:54.566 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:36:54.574 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:36:54.594 +03:00 [INF] Applying migration '20221107152850_init1'.
2022-11-07 18:36:54.637 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_BasketId" FOREIGN KEY ("BasketId") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2022-11-07 18:36:54.639 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107152850_init1', '6.0.8');
2022-11-07 18:45:11.626 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:46:26.195 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 18:46:26.461 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:46:26.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-07 18:46:26.491 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-07 18:46:26.517 +03:00 [INF] Applying migration '20221107154511_mig2'.
2022-11-07 18:46:26.558 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Baskets_BasketId";
2022-11-07 18:46:26.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_BasketId";
2022-11-07 18:46:26.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "BasketId";
2022-11-07 18:46:26.563 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Baskets_Id" FOREIGN KEY ("Id") REFERENCES "Baskets" ("Id") ON DELETE CASCADE;
2022-11-07 18:46:26.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221107154511_mig2', '6.0.8');
2022-11-07 20:21:59.143 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 20:21:59.645 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 20:21:59.645 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 20:21:59.650 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 20:21:59.650 +03:00 [INF] Hosting environment: Development
2022-11-07 20:21:59.651 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 20:22:18.186 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/index.html - -
2022-11-07 20:22:18.279 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/index.html - - - 200 - text/html;charset=utf-8 95.9286ms
2022-11-07 20:22:18.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui-standalone-preset.js - -
2022-11-07 20:22:18.303 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui-bundle.js - -
2022-11-07 20:22:18.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui.css - -
2022-11-07 20:22:18.325 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-11-07 20:22:18.325 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-11-07 20:22:18.325 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-11-07 20:22:18.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 25.6886ms
2022-11-07 20:22:18.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui.css - - - 200 143632 text/css 23.5745ms
2022-11-07 20:22:18.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 26.2703ms
2022-11-07 20:22:18.779 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/v1/swagger.json - -
2022-11-07 20:22:18.840 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5097/swagger/favicon-32x32.png - -
2022-11-07 20:22:18.840 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-11-07 20:22:18.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/favicon-32x32.png - - - 200 628 image/png 0.4943ms
2022-11-07 20:22:18.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5097/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.2722ms
2022-11-07 20:24:27.027 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 20:24:27.046 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:27.051 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 24.3358ms
2022-11-07 20:24:27.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 20:24:27.058 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:27.446 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 20:24:27.489 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 20:24:27.496 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 20:24:27.512 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 20:24:27.514 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 458.6036ms
2022-11-07 20:24:27.599 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 20:24:27.600 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:27.600 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.5135ms
2022-11-07 20:24:27.603 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 20:24:27.606 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:27.617 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 20:24:27.673 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 20:24:29.440 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:24:29.952 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 20:24:30.087 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2406.5078ms
2022-11-07 20:24:30.089 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 20:24:30.097 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 20:24:30.116 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 20:24:30.137 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 2534.0902ms
2022-11-07 20:24:32.861 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 20:24:32.861 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:32.861 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.8213ms
2022-11-07 20:24:32.862 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 20:24:32.862 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:32.864 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 20:24:32.871 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 20:24:33.260 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:24:33.286 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 20:24:33.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 20:24:33.354 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 20:24:33.360 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 20:24:33.361 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 20:24:33.411 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 20:24:33.579 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 20:24:33.609 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 20:24:33.619 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 746.7678ms
2022-11-07 20:24:33.619 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 20:24:33.619 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 756.6222ms
2022-11-07 20:24:46.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 20:24:46.614 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:46.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4397ms
2022-11-07 20:24:46.617 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 20:24:46.617 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:24:46.647 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 20:24:46.652 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 20:24:46.687 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:24:46.876 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 20:24:47.018 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-07 20:24:47.085 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 20:24:47.093 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 20:24:47.097 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 444.8485ms
2022-11-07 20:24:47.097 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 20:24:47.104 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 487.3385ms
2022-11-07 20:31:05.070 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 20:31:05.072 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:05.072 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7670ms
2022-11-07 20:31:05.074 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 2
2022-11-07 20:31:05.074 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:05.097 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 20:31:05.115 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 20:31:05.116 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 20:31:05.118 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 20:31:05.119 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 2 - 401 0 - 45.4676ms
2022-11-07 20:31:05.655 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 20:31:05.655 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:05.655 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.9074ms
2022-11-07 20:31:05.667 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 20:31:05.668 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:05.673 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 20:31:05.675 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 20:31:05.689 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:31:05.784 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 20:31:05.793 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 20:31:05.802 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 20:31:05.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 20:31:05.808 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 133.0964ms
2022-11-07 20:31:05.808 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 20:31:05.808 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 140.9106ms
2022-11-07 20:31:33.372 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 20:31:33.374 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:33.375 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7954ms
2022-11-07 20:31:33.387 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 66
2022-11-07 20:31:33.387 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:33.399 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 20:31:33.405 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 20:31:33.426 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:31:33.448 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 20:31:33.466 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:31:33.479 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:31:33.494 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 20:31:33.561 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-07 20:31:33.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 20:31:33.565 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 160.2897ms
2022-11-07 20:31:33.565 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 20:31:33.565 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 66 - 200 - application/json;+charset=utf-8 178.8689ms
2022-11-07 20:31:36.515 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 66
2022-11-07 20:31:36.516 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:31:36.519 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 20:31:36.519 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 20:31:36.528 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:31:36.539 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 20:31:36.545 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:31:36.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:31:36.568 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 20:31:36.573 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 20:31:36.577 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 20:31:36.578 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 58.4358ms
2022-11-07 20:31:36.578 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 20:31:36.579 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 66 - 200 - application/json;+charset=utf-8 63.4164ms
2022-11-07 20:32:05.968 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 20:32:05.970 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:32:05.971 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.0271ms
2022-11-07 20:32:05.972 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 20:32:05.972 +03:00 [INF] CORS policy execution successful.
2022-11-07 20:32:05.975 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 20:32:05.975 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 20:32:05.994 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 20:32:06.022 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 20:32:06.033 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:32:06.035 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 20:32:06.044 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 20:32:06.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 20:32:06.066 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 90.5392ms
2022-11-07 20:32:06.067 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 20:32:06.068 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 96.7429ms
2022-11-07 20:32:28.014 +03:00 [INF] Application is shutting down...
2022-11-07 22:33:54.577 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 22:33:54.837 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 22:33:54.849 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 22:33:54.862 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 22:33:54.862 +03:00 [INF] Hosting environment: Development
2022-11-07 22:33:54.862 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 22:34:54.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:34:54.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:34:54.730 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.730 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.741 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 98.2625ms
2022-11-07 22:34:54.741 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 98.2705ms
2022-11-07 22:34:54.749 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:34:54.749 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:34:54.761 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.761 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.780 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:34:54.803 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:34:54.819 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:34:54.841 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 25.987ms
2022-11-07 22:34:54.846 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:34:54.846 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 96.9916ms
2022-11-07 22:34:54.864 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:34:54.865 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.865 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7287ms
2022-11-07 22:34:54.866 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:34:54.866 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:54.868 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:34:54.907 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:34:55.075 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 22:34:55.089 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 22:34:55.091 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 22:34:55.100 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 22:34:55.100 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 350.7477ms
2022-11-07 22:34:55.108 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 22:34:55.108 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:55.108 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6087ms
2022-11-07 22:34:55.109 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 22:34:55.110 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:55.110 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:34:55.114 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:34:56.662 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:34:56.662 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:34:57.134 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:34:57.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:34:57.176 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 22:34:57.204 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:34:57.205 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:34:57.317 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2203.515ms
2022-11-07 22:34:57.320 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:34:57.332 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 22:34:57.362 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 22:34:57.380 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:34:57.397 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 2288.2739ms
2022-11-07 22:34:57.414 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2506.9597ms
2022-11-07 22:34:57.415 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:34:57.415 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2548.8841ms
2022-11-07 22:34:59.819 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 22:34:59.821 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:59.821 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.7737ms
2022-11-07 22:34:59.824 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 22:34:59.825 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:34:59.826 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 22:34:59.835 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:35:00.428 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:00.454 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 22:35:00.501 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 22:35:00.514 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 22:35:00.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 22:35:00.520 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 22:35:00.577 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:35:00.742 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:35:00.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 22:35:00.770 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 933.5097ms
2022-11-07 22:35:00.770 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 22:35:00.770 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 945.9490ms
2022-11-07 22:35:03.050 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:03.050 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:03.051 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.7045ms
2022-11-07 22:35:03.052 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:03.052 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:03.052 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:03.052 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:35:03.053 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:35:03.053 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3618ms
2022-11-07 22:35:03.053 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:03.053 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7422ms
2022-11-07 22:35:03.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:03.060 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:03.060 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4877ms
2022-11-07 22:35:03.061 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:03.061 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:03.061 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:03.062 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:35:03.065 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:03.074 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:35:03.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:35:03.080 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:35:03.081 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 19.4021ms
2022-11-07 22:35:03.081 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:03.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 20.5450ms
2022-11-07 22:35:43.466 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:35:43.469 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.471 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.4151ms
2022-11-07 22:35:43.472 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:35:43.472 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.478 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 22:35:43.479 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 22:35:43.480 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 22:35:43.480 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 22:35:43.481 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 8.9350ms
2022-11-07 22:35:43.494 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:43.494 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.494 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4572ms
2022-11-07 22:35:43.495 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:43.495 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.495 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:43.496 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:35:43.496 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:35:43.497 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.7497ms
2022-11-07 22:35:43.497 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:43.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.2059ms
2022-11-07 22:35:43.504 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 22:35:43.505 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.505 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4737ms
2022-11-07 22:35:43.506 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 22:35:43.506 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.506 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:35:43.506 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:35:43.512 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:43.536 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 22:35:43.544 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:35:43.550 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:35:43.556 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 22:35:43.557 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 50.9381ms
2022-11-07 22:35:43.557 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:35:43.558 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 52.1647ms
2022-11-07 22:35:43.742 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:43.742 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.742 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3984ms
2022-11-07 22:35:43.743 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:43.743 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:43.743 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:43.744 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:35:43.747 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:43.750 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:35:43.750 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:35:43.764 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:35:43.767 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 23.7262ms
2022-11-07 22:35:43.768 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:43.768 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 24.6330ms
2022-11-07 22:35:49.635 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 22:35:49.636 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:49.636 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.6230ms
2022-11-07 22:35:49.644 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 22:35:49.644 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:49.644 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 22:35:49.644 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:35:49.647 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:49.652 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 22:35:49.660 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 22:35:49.664 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 22:35:49.667 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 22:35:49.667 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 22:35:49.675 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:35:49.680 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:35:49.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 22:35:49.684 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 39.5039ms
2022-11-07 22:35:49.684 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 22:35:49.684 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 40.8290ms
2022-11-07 22:35:51.311 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:51.312 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:51.312 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6440ms
2022-11-07 22:35:51.313 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:51.313 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:51.313 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:51.314 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:35:51.314 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:35:51.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3112ms
2022-11-07 22:35:51.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:51.314 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.2221ms
2022-11-07 22:35:51.317 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:51.317 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:51.317 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4381ms
2022-11-07 22:35:51.318 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:51.318 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:51.318 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:51.318 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:35:51.320 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:51.324 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:35:51.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:35:51.330 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:35:51.330 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.8528ms
2022-11-07 22:35:51.331 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:51.331 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 13.0757ms
2022-11-07 22:35:54.347 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:35:54.347 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:54.347 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:54.347 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:35:54.348 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:35:54.348 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3792ms
2022-11-07 22:35:54.348 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:35:54.348 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5016ms
2022-11-07 22:35:54.360 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 22:35:54.360 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:54.360 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=1&size=6 - - - 204 - - 0.4460ms
2022-11-07 22:35:54.361 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - -
2022-11-07 22:35:54.361 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:54.362 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:54.362 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:35:54.364 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:54.368 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:35:54.371 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:35:54.375 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:35:54.377 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:35:54.397 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:35:54.401 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.7523ms
2022-11-07 22:35:54.401 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:54.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=1&size=6 - - - 200 - application/json;+charset=utf-8 40.3194ms
2022-11-07 22:35:56.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:35:56.060 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:56.061 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:56.061 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:35:56.065 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:56.068 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:35:56.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:35:56.075 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:35:56.077 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.8682ms
2022-11-07 22:35:56.077 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:35:56.078 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 18.5094ms
2022-11-07 22:35:59.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:35:59.726 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:59.727 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5102ms
2022-11-07 22:35:59.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 22:35:59.728 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:35:59.762 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:35:59.766 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:35:59.784 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:35:59.825 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:35:59.884 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:35:59.893 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:35:59.917 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 22:35:59.940 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 22:35:59.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 22:35:59.946 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 179.5708ms
2022-11-07 22:35:59.946 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:35:59.948 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 220.0149ms
2022-11-07 22:37:03.024 +03:00 [INF] Application is shutting down...
2022-11-07 22:37:08.273 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-07 22:37:08.497 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-07 22:37:08.497 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-07 22:37:08.501 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-07 22:37:08.501 +03:00 [INF] Hosting environment: Development
2022-11-07 22:37:08.501 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-07 22:37:15.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:37:15.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:37:15.330 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.330 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 103.7937ms
2022-11-07 22:37:15.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 103.8165ms
2022-11-07 22:37:15.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:37:15.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:37:15.361 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.361 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.398 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:37:15.427 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:37:15.441 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:37:15.456 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 19.7709ms
2022-11-07 22:37:15.460 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:37:15.460 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 111.2875ms
2022-11-07 22:37:15.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:37:15.738 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.738 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.0700ms
2022-11-07 22:37:15.744 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:37:15.745 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.750 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:37:15.788 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:37:15.792 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 22:37:15.819 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 22:37:15.825 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 22:37:15.844 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 22:37:15.845 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 496.5905ms
2022-11-07 22:37:15.963 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 22:37:15.963 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.964 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.7941ms
2022-11-07 22:37:15.966 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 22:37:15.968 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:37:15.968 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:37:15.974 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:37:17.950 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:37:17.950 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:37:18.283 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:37:18.306 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:37:18.321 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 22:37:18.346 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:37:18.347 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-07 22:37:18.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:37:18.484 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:37:18.514 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2724.8753ms
2022-11-07 22:37:18.515 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:37:18.535 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2790.8967ms
2022-11-07 22:37:18.677 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:37:18.716 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 22:37:18.719 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2745.1283ms
2022-11-07 22:37:18.719 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:37:18.720 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 2754.4979ms
2022-11-07 22:41:06.319 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:41:06.322 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.323 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.3413ms
2022-11-07 22:41:06.324 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:41:06.324 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.329 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.6776ms
2022-11-07 22:41:06.329 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:41:06.330 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.337 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:41:06.338 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.354 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:41:06.355 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:41:06.355 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:41:06.356 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5745ms
2022-11-07 22:41:06.356 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:41:06.356 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 19.2569ms
2022-11-07 22:41:06.362 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:41:06.368 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:41:06.431 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:41:06.494 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:41:06.562 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:41:06.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:41:06.581 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:41:06.581 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.581 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6470ms
2022-11-07 22:41:06.583 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:41:06.584 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:41:06.584 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:41:06.584 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:41:06.589 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:41:06.596 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:41:06.597 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:41:06.604 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:41:06.606 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.7533ms
2022-11-07 22:41:06.606 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:41:06.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 22.8010ms
2022-11-07 22:41:06.618 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:41:06.669 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:41:06.677 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 308.9092ms
2022-11-07 22:41:06.677 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:41:06.679 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 349.7548ms
2022-11-07 22:42:56.573 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:42:56.576 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.578 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 6.0739ms
2022-11-07 22:42:56.579 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:42:56.585 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:42:56.602 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.602 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5411ms
2022-11-07 22:42:56.603 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:42:56.611 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:42:56.640 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.640 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:42:56.643 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:42:56.643 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:42:56.645 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:42:56.648 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.8768ms
2022-11-07 22:42:56.648 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:42:56.670 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:42:56.673 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 69.4639ms
2022-11-07 22:42:56.689 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:42:56.689 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.689 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4703ms
2022-11-07 22:42:56.690 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:42:56.691 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:42:56.691 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:42:56.691 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:42:56.705 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:42:56.772 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:42:56.773 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:42:56.774 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:42:56.797 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:42:56.797 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:42:56.802 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:42:56.804 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 108.4781ms
2022-11-07 22:42:56.807 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:42:56.807 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 116.7543ms
2022-11-07 22:42:56.811 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:42:56.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:42:56.813 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 169.6005ms
2022-11-07 22:42:56.813 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:42:56.814 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 234.1677ms
2022-11-07 22:44:34.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:44:34.056 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.058 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.1087ms
2022-11-07 22:44:34.059 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:44:34.061 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.074 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:44:34.075 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:44:34.093 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:44:34.093 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4054ms
2022-11-07 22:44:34.094 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:44:34.094 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.094 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:44:34.094 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:44:34.095 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:44:34.095 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8807ms
2022-11-07 22:44:34.095 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:44:34.095 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.6288ms
2022-11-07 22:44:34.096 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:44:34.127 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:44:34.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:44:34.143 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:44:34.155 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:44:34.156 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:44:34.157 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 81.5445ms
2022-11-07 22:44:34.157 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:44:34.157 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 98.5187ms
2022-11-07 22:44:34.348 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:44:34.348 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.348 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3440ms
2022-11-07 22:44:34.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:44:34.349 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:34.349 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:44:34.349 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:44:34.350 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:44:34.361 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:44:34.363 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:44:34.368 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:44:34.370 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 20.1571ms
2022-11-07 22:44:34.370 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:44:34.370 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 21.0159ms
2022-11-07 22:44:41.043 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:44:41.051 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:41.052 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 9.3712ms
2022-11-07 22:44:41.058 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 22:44:41.059 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:44:41.063 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:44:41.075 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:44:41.129 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:44:41.148 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:44:41.176 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:44:41.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:44:41.197 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 22:44:41.264 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-07 22:44:41.268 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 22:44:41.268 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 193.4759ms
2022-11-07 22:44:41.268 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:44:41.268 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 209.9999ms
2022-11-07 22:46:28.006 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:46:28.027 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.029 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 23.5832ms
2022-11-07 22:46:28.031 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:46:28.032 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:46:28.032 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3547ms
2022-11-07 22:46:28.034 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:46:28.034 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.035 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:46:28.036 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:46:28.037 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:46:28.038 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:46:28.038 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:46:28.039 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.4228ms
2022-11-07 22:46:28.039 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:46:28.039 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.4876ms
2022-11-07 22:46:28.045 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:46:28.072 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:46:28.079 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:46:28.082 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:46:28.088 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:46:28.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:46:28.089 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 50.6505ms
2022-11-07 22:46:28.089 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:46:28.090 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 58.3642ms
2022-11-07 22:46:28.278 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:46:28.278 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.279 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4585ms
2022-11-07 22:46:28.280 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:46:28.280 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:46:28.280 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:46:28.280 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:46:28.284 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:46:28.287 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:46:28.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:46:28.296 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:46:28.296 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.6567ms
2022-11-07 22:46:28.297 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:46:28.297 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.1885ms
2022-11-07 22:55:47.137 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:55:47.139 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.140 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.6717ms
2022-11-07 22:55:47.142 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:55:47.142 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.185 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:55:47.187 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 45.7310ms
2022-11-07 22:55:47.188 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.189 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:55:47.189 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.191 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 22:55:47.193 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:55:47.211 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 22:55:47.211 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 22:55:47.212 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:55:47.219 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:55:47.220 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 22:55:47.222 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 37.2049ms
2022-11-07 22:55:47.222 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.2385ms
2022-11-07 22:55:47.222 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:55:47.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 36.1756ms
2022-11-07 22:55:47.271 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 22:55:47.272 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.272 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.5735ms
2022-11-07 22:55:47.273 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 22:55:47.273 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.273 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:55:47.274 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:55:47.279 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:55:47.280 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.280 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4329ms
2022-11-07 22:55:47.281 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:55:47.281 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:55:47.281 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:55:47.282 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:55:47.284 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:55:47.286 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:55:47.374 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 22:55:47.374 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:55:47.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:55:47.392 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:55:47.394 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:55:47.396 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 111.6428ms
2022-11-07 22:55:47.398 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:55:47.399 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 117.8373ms
2022-11-07 22:55:47.409 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:55:47.421 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 22:55:47.421 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 147.443ms
2022-11-07 22:55:47.421 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:55:47.422 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 148.9308ms
2022-11-07 22:56:23.045 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:56:23.047 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.048 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.3502ms
2022-11-07 22:56:23.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:56:23.049 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.052 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:56:23.053 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:56:23.072 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:23.104 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:56:23.106 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:23.107 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.107 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4140ms
2022-11-07 22:56:23.108 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:23.109 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.109 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:23.109 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:56:23.110 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:56:23.110 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6241ms
2022-11-07 22:56:23.110 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:23.111 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.1501ms
2022-11-07 22:56:23.111 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:23.114 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:23.119 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:56:23.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:56:23.121 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 67.8483ms
2022-11-07 22:56:23.121 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:56:23.121 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 72.1145ms
2022-11-07 22:56:23.454 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:23.454 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.454 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3620ms
2022-11-07 22:56:23.457 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:23.457 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:23.457 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:23.458 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:56:23.460 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:23.467 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:56:23.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:56:23.481 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:56:23.486 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.9561ms
2022-11-07 22:56:23.486 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:23.490 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 29.0960ms
2022-11-07 22:56:28.739 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:28.740 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:28.741 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:28.743 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:56:28.743 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:56:28.744 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.3895ms
2022-11-07 22:56:28.744 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:28.745 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.9109ms
2022-11-07 22:56:28.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:28.749 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:28.749 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:28.749 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:56:28.755 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:28.768 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:56:28.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:56:28.780 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:56:28.781 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 31.775ms
2022-11-07 22:56:28.781 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:28.781 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 32.9934ms
2022-11-07 22:56:29.890 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:56:29.891 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:29.891 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4708ms
2022-11-07 22:56:29.892 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 22:56:29.892 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:29.902 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 22:56:29.903 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 22:56:29.903 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 11.4702ms
2022-11-07 22:56:29.908 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 22:56:29.908 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:29.908 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4334ms
2022-11-07 22:56:29.909 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 22:56:29.909 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:29.909 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:56:29.909 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 22:56:29.928 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:29.932 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 22:56:29.942 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 22:56:29.950 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 22:56:29.956 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 22:56:29.956 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 46.5582ms
2022-11-07 22:56:29.956 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 22:56:29.956 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 47.6942ms
2022-11-07 22:56:32.199 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:56:32.200 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:32.200 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4980ms
2022-11-07 22:56:32.201 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 22:56:32.201 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:32.202 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:56:32.202 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:56:32.206 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:32.214 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:56:32.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:32.222 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:32.231 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 22:56:32.239 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 22:56:32.243 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 22:56:32.243 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 40.6748ms
2022-11-07 22:56:32.243 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 22:56:32.243 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 42.5066ms
2022-11-07 22:56:44.979 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 22:56:44.981 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:44.981 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.6845ms
2022-11-07 22:56:44.982 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 22:56:44.983 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:44.987 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:56:44.987 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 22:56:44.994 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:45.013 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:45.013 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:45.014 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4123ms
2022-11-07 22:56:45.017 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:45.017 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:45.017 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:45.018 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:56:45.018 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:56:45.019 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5546ms
2022-11-07 22:56:45.019 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:45.020 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 22:56:45.021 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.0432ms
2022-11-07 22:56:45.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:45.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 22:56:45.035 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 22:56:45.036 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 22:56:45.036 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 48.7103ms
2022-11-07 22:56:45.036 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 22:56:45.036 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 54.3929ms
2022-11-07 22:56:45.084 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:45.084 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:45.084 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4051ms
2022-11-07 22:56:45.085 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:45.085 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:45.085 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:45.085 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:56:45.087 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:45.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:56:45.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:56:45.093 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:56:45.094 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.3872ms
2022-11-07 22:56:45.094 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:45.094 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 9.1392ms
2022-11-07 22:56:48.386 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 22:56:48.386 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:48.387 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:48.387 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 22:56:48.387 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 22:56:48.387 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3322ms
2022-11-07 22:56:48.387 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 22:56:48.387 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4220ms
2022-11-07 22:56:48.395 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 22:56:48.396 +03:00 [INF] CORS policy execution successful.
2022-11-07 22:56:48.396 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:48.396 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 22:56:48.398 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 22:56:48.402 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 22:56:48.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 22:56:48.407 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 22:56:48.408 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.7532ms
2022-11-07 22:56:48.408 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 22:56:48.408 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.9674ms
2022-11-07 23:01:39.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:01:40.000 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:40.002 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:01:40.002 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:01:40.002 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 5.3702ms
2022-11-07 23:01:40.006 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:01:40.006 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:40.006 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:40.008 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:01:40.009 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:01:40.009 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9597ms
2022-11-07 23:01:40.009 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:40.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.2880ms
2022-11-07 23:01:40.096 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:01:40.096 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:40.096 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.5239ms
2022-11-07 23:01:40.098 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:01:40.098 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:40.098 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:40.099 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:01:40.099 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:01:40.111 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:40.111 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:40.112 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:01:40.122 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:40.122 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:40.184 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:01:40.185 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:01:40.186 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:01:40.190 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:01:40.207 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:01:40.208 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:01:40.209 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 97.9192ms
2022-11-07 23:01:40.209 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:40.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 111.4823ms
2022-11-07 23:01:40.210 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 23:01:40.212 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 100.1687ms
2022-11-07 23:01:40.212 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:40.212 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 113.2584ms
2022-11-07 23:01:47.259 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:01:47.268 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.270 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 9.9479ms
2022-11-07 23:01:47.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:01:47.272 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.289 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:01:47.289 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.289 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4555ms
2022-11-07 23:01:47.290 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:01:47.290 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:01:47.291 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:01:47.291 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.292 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:47.292 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:01:47.293 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:01:47.293 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9187ms
2022-11-07 23:01:47.294 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:47.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.4804ms
2022-11-07 23:01:47.297 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:47.318 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:01:47.339 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:01:47.343 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:01:47.350 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:01:47.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:01:47.351 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 60.0345ms
2022-11-07 23:01:47.352 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:01:47.352 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 81.3545ms
2022-11-07 23:01:47.661 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:01:47.661 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.662 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4219ms
2022-11-07 23:01:47.662 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:01:47.663 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:47.663 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:47.663 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:01:47.667 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:47.677 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:01:47.677 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:01:47.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:01:47.683 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.4336ms
2022-11-07 23:01:47.683 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:47.683 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 20.6625ms
2022-11-07 23:01:51.394 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:01:51.394 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:51.394 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:01:51.394 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:01:51.395 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 1.1572ms
2022-11-07 23:01:51.430 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:01:51.430 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:51.431 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:51.431 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:01:51.432 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:01:51.432 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5386ms
2022-11-07 23:01:51.433 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:01:51.444 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 14.1465ms
2022-11-07 23:01:51.455 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:01:51.455 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:51.455 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4333ms
2022-11-07 23:01:51.456 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:01:51.457 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:51.457 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:51.457 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:01:51.460 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:51.470 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:01:51.500 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 42.7301ms
2022-11-07 23:01:51.500 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:51.504 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:01:51.559 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:01:51.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 109.7214ms
2022-11-07 23:01:51.841 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:01:51.841 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:51.841 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:51.841 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:01:51.843 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:51.848 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:01:51.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:01:51.854 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:01:51.855 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.9291ms
2022-11-07 23:01:51.855 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:01:51.856 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.8902ms
2022-11-07 23:01:55.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:01:55.214 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:55.214 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.9559ms
2022-11-07 23:01:55.215 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:01:55.215 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:55.216 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:01:55.216 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:01:55.216 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 1.2246ms
2022-11-07 23:01:55.219 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:01:55.220 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:55.220 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:55.220 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:01:55.222 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:55.228 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:01:55.229 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 9.0727ms
2022-11-07 23:01:55.230 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:55.230 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:01:55.238 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:01:55.238 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 18.8698ms
2022-11-07 23:01:57.270 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:01:57.270 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:57.270 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:01:57.270 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:01:57.271 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 0.8895ms
2022-11-07 23:01:57.276 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:01:57.277 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:57.277 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4254ms
2022-11-07 23:01:57.278 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:01:57.279 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:57.279 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:57.279 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:01:57.281 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:57.285 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:01:57.286 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 7.2042ms
2022-11-07 23:01:57.287 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:57.287 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:01:57.290 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:01:57.291 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 12.4183ms
2022-11-07 23:01:58.236 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:01:58.236 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:58.236 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:01:58.237 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:01:58.237 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 1.1422ms
2022-11-07 23:01:58.241 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:01:58.241 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:01:58.241 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:58.241 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:01:58.244 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:01:58.250 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:01:58.252 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 10.5821ms
2022-11-07 23:01:58.253 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:01:58.264 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:01:58.268 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:01:58.268 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 27.5860ms
2022-11-07 23:02:54.099 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:02:54.100 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:54.100 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.7657ms
2022-11-07 23:02:54.102 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:02:54.102 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:54.103 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:02:54.103 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:02:54.104 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 1.5522ms
2022-11-07 23:02:54.113 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:02:54.113 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:54.113 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4149ms
2022-11-07 23:02:54.114 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:02:54.114 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:54.115 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:02:54.115 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:02:54.129 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:02:54.146 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:02:54.148 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 33.3257ms
2022-11-07 23:02:54.149 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:02:54.149 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:02:54.152 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:02:54.153 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 38.6267ms
2022-11-07 23:02:55.497 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:02:55.497 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:55.497 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:02:55.498 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:02:55.498 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 1.7397ms
2022-11-07 23:02:55.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:02:55.514 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:02:55.514 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:02:55.514 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:02:55.517 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:02:55.521 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:02:55.597 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 82.4723ms
2022-11-07 23:02:55.597 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:02:55.598 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:02:55.600 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:02:55.600 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 86.5553ms
2022-11-07 23:03:30.642 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:03:30.646 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:30.650 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:03:30.652 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:03:30.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 10.5416ms
2022-11-07 23:03:30.687 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:03:30.688 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:30.689 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:03:30.690 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:03:30.691 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:03:30.692 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.6735ms
2022-11-07 23:03:30.692 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:03:30.693 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.1427ms
2022-11-07 23:03:30.720 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:03:30.721 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:30.721 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.9730ms
2022-11-07 23:03:30.723 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21
2022-11-07 23:03:30.723 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:30.723 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:03:30.724 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:03:30.735 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:03:30.780 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE (a."RefreshToken" IS NULL)
LIMIT 1
2022-11-07 23:03:30.788 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 63.8602ms
2022-11-07 23:03:30.789 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:03:30.789 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:03:30.799 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:03:30.800 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 21 - 500 - application/json 77.2830ms
2022-11-07 23:03:31.371 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:03:31.371 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:31.371 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:03:31.372 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:03:31.384 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:03:31.394 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:03:31.394 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:03:31.403 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:03:31.404 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.5493ms
2022-11-07 23:03:31.405 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:03:31.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 33.8595ms
2022-11-07 23:03:37.115 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 23:03:37.115 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:37.116 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.6234ms
2022-11-07 23:03:37.116 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 23:03:37.116 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:03:37.117 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:03:37.129 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:03:37.491 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:03:37.504 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:03:37.523 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:03:37.531 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:03:37.534 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:03:37.535 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 23:03:37.540 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:03:37.545 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:03:37.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 23:03:37.550 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 420.0357ms
2022-11-07 23:03:37.550 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:03:37.550 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 433.5366ms
2022-11-07 23:08:12.910 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:08:12.911 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:12.911 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.5295ms
2022-11-07 23:08:12.912 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:08:12.912 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:12.912 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.1882ms
2022-11-07 23:08:12.914 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:12.914 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:12.917 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:08:12.919 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:08:12.919 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:08:12.919 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:08:12.920 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 5.5772ms
2022-11-07 23:08:12.920 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:12.921 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:12.921 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:08:12.922 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:08:12.922 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:08:12.922 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:08:12.922 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 1.6693ms
2022-11-07 23:08:13.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:08:13.017 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:13.018 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.2368ms
2022-11-07 23:08:13.023 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:08:13.023 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:13.023 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:08:13.025 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:08:13.030 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:08:13.031 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:13.033 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:08:13.033 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:08:13.063 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:13.063 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:13.193 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:08:13.193 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:08:13.209 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:08:13.209 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:08:13.216 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:08:13.220 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:08:13.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 23:08:13.282 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 256.9469ms
2022-11-07 23:08:13.282 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:08:13.294 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 271.1796ms
2022-11-07 23:08:13.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 23:08:13.310 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 276.4509ms
2022-11-07 23:08:13.310 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:08:13.310 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 280.4443ms
2022-11-07 23:08:14.804 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:14.805 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:14.805 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:14.806 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:08:14.808 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:14.814 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:08:14.818 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:14.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:14.831 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:08:14.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:08:14.832 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.0626ms
2022-11-07 23:08:14.832 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:14.832 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.5877ms
2022-11-07 23:08:14.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:14.833 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:14.833 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:14.833 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:08:14.834 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:14.838 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:08:14.841 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:14.843 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:14.847 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:08:14.848 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:08:14.851 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 18.2163ms
2022-11-07 23:08:14.852 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:14.852 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 19.1008ms
2022-11-07 23:08:44.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:08:44.542 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:44.545 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 8.8258ms
2022-11-07 23:08:44.547 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:44.548 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:44.550 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:44.551 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:08:44.555 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:44.583 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:08:44.589 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:44.592 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:44.601 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:08:44.605 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:08:44.606 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 54.8454ms
2022-11-07 23:08:44.606 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:44.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 58.5972ms
2022-11-07 23:08:44.607 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:08:44.608 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:08:44.608 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:44.610 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:08:44.611 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:08:44.615 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:08:44.628 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:44.635 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:08:44.639 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:08:44.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:08:44.639 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.0954ms
2022-11-07 23:08:44.639 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:08:44.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 32.2652ms
2022-11-07 23:09:13.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:09:13.358 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:13.358 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.7118ms
2022-11-07 23:09:13.360 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:09:13.361 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:13.363 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:09:13.364 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:09:13.365 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:09:13.367 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.6835ms
2022-11-07 23:09:13.367 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:09:13.368 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 7.6291ms
2022-11-07 23:09:13.372 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:09:13.372 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:13.372 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3988ms
2022-11-07 23:09:13.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:09:13.374 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:13.374 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:09:13.374 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:09:13.380 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:09:13.400 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:09:13.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:09:13.412 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:09:13.413 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 38.8672ms
2022-11-07 23:09:13.413 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:09:13.413 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 39.9173ms
2022-11-07 23:09:17.258 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:09:17.258 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:17.258 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.3038ms
2022-11-07 23:09:17.259 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:09:17.259 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:17.260 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 23:09:17.261 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:09:17.271 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:09:17.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:09:17.282 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:17.284 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:17.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 23:09:17.297 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 23:09:17.301 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 23:09:17.301 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 40.2546ms
2022-11-07 23:09:17.301 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 23:09:17.301 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 42.1275ms
2022-11-07 23:09:38.762 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:09:38.763 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.9633ms
2022-11-07 23:09:38.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:09:38.768 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.775 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:09:38.776 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:09:38.782 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:09:38.810 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:09:38.811 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.811 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4110ms
2022-11-07 23:09:38.812 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:09:38.812 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.812 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:09:38.812 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:09:38.812 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:09:38.813 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.329ms
2022-11-07 23:09:38.813 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:09:38.813 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:09:38.813 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.9399ms
2022-11-07 23:09:38.818 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:38.820 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:38.826 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:09:38.827 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:09:38.827 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 51.4572ms
2022-11-07 23:09:38.827 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:09:38.828 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 62.5647ms
2022-11-07 23:09:38.829 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:09:38.829 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.830 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:09:38.830 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:09:38.831 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:09:38.834 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:09:38.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:38.840 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:09:38.843 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:09:38.844 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:09:38.844 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 14.7372ms
2022-11-07 23:09:38.845 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:09:38.845 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 15.7947ms
2022-11-07 23:09:38.878 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:09:38.879 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.879 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5372ms
2022-11-07 23:09:38.880 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:09:38.880 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:09:38.880 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:09:38.881 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:09:38.885 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:09:38.894 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:09:38.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:09:38.909 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:09:38.911 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 28.9489ms
2022-11-07 23:09:38.911 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:09:38.911 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 31.2326ms
2022-11-07 23:11:49.595 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:11:49.600 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.602 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 6.3152ms
2022-11-07 23:11:49.604 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:11:49.605 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.606 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.2101ms
2022-11-07 23:11:49.607 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:11:49.607 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.607 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.2388ms
2022-11-07 23:11:49.609 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:11:49.609 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.613 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:49.613 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:11:49.619 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:49.640 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:11:49.656 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:49.657 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:11:49.657 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.657 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:11:49.657 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:11:49.658 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:11:49.658 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5173ms
2022-11-07 23:11:49.658 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:11:49.658 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1521ms
2022-11-07 23:11:49.660 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:49.665 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:11:49.665 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:11:49.665 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 51.7234ms
2022-11-07 23:11:49.665 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:49.666 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 56.8587ms
2022-11-07 23:11:49.666 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:11:49.667 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.667 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:49.667 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:11:49.669 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:49.673 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:11:49.676 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:49.682 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:49.686 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:11:49.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:11:49.687 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.0133ms
2022-11-07 23:11:49.687 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:49.687 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 20.2952ms
2022-11-07 23:11:49.783 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:11:49.783 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.783 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3148ms
2022-11-07 23:11:49.785 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:11:49.785 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:49.785 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:11:49.786 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:11:49.788 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:49.795 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:11:49.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:11:49.803 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:11:49.805 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.8848ms
2022-11-07 23:11:49.805 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:11:49.805 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 20.7806ms
2022-11-07 23:11:57.885 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:11:57.886 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:57.887 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.5305ms
2022-11-07 23:11:57.888 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-07 23:11:57.888 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:57.890 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 23:11:57.892 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:11:57.896 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:57.903 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:11:57.907 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:57.910 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:57.916 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-07 23:11:57.923 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-07 23:11:57.927 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-07 23:11:57.927 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.8015ms
2022-11-07 23:11:57.927 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-07 23:11:57.927 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 38.9318ms
2022-11-07 23:11:58.608 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:11:58.608 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.610 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:58.611 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:11:58.613 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:58.617 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:11:58.617 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.618 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.8607ms
2022-11-07 23:11:58.619 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:11:58.619 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.619 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:11:58.619 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:11:58.620 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:11:58.620 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:11:58.620 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.305ms
2022-11-07 23:11:58.620 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:11:58.620 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7472ms
2022-11-07 23:11:58.624 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:58.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:58.632 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:11:58.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:11:58.634 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.5534ms
2022-11-07 23:11:58.635 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:58.635 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 26.8807ms
2022-11-07 23:11:58.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:11:58.636 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.637 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:58.637 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:11:58.638 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:58.642 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:11:58.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:58.649 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:11:58.655 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:11:58.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:11:58.656 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.1602ms
2022-11-07 23:11:58.656 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:11:58.656 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 20.0497ms
2022-11-07 23:11:58.681 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:11:58.681 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.681 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4292ms
2022-11-07 23:11:58.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:11:58.682 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:11:58.682 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:11:58.682 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:11:58.684 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:11:58.687 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:11:58.687 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:11:58.691 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:11:58.691 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.8632ms
2022-11-07 23:11:58.691 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:11:58.692 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 9.7153ms
2022-11-07 23:13:10.257 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:13:10.257 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:13:10.259 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.259 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.2837ms
2022-11-07 23:13:10.259 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.259 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.6323ms
2022-11-07 23:13:10.267 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:13:10.275 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.287 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:13:10.287 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.287 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4704ms
2022-11-07 23:13:10.289 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:13:10.289 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:13:10.289 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.290 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:13:10.292 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:13:10.292 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:13:10.293 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:13:10.295 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.6314ms
2022-11-07 23:13:10.295 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:13:10.296 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.5314ms
2022-11-07 23:13:10.308 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:13:10.390 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:13:10.407 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:13:10.412 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:13:10.424 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:13:10.425 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:13:10.426 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 134.0883ms
2022-11-07 23:13:10.426 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:13:10.427 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 160.9064ms
2022-11-07 23:13:10.428 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:13:10.428 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.429 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:13:10.429 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:13:10.433 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:13:10.441 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:13:10.449 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:13:10.457 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:13:10.469 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:13:10.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:13:10.471 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 41.2529ms
2022-11-07 23:13:10.471 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:13:10.471 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 43.4139ms
2022-11-07 23:13:10.708 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:13:10.709 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.709 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4763ms
2022-11-07 23:13:10.712 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:13:10.712 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:13:10.713 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:13:10.713 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:13:10.717 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:13:10.722 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:13:10.724 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:13:10.733 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:13:10.735 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 21.0554ms
2022-11-07 23:13:10.735 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:13:10.736 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 23.3493ms
2022-11-07 23:14:00.212 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:14:00.218 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.219 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 6.4417ms
2022-11-07 23:14:00.226 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:14:00.226 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.230 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:14:00.234 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:14:00.253 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:14:00.299 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:14:00.299 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.299 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6034ms
2022-11-07 23:14:00.302 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:14:00.302 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.302 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:14:00.302 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:14:00.303 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:14:00.304 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.2814ms
2022-11-07 23:14:00.304 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:14:00.304 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.5891ms
2022-11-07 23:14:00.345 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:14:00.352 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:14:00.355 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:14:00.362 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:14:00.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:14:00.365 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 131.2727ms
2022-11-07 23:14:00.365 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:14:00.366 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 140.1954ms
2022-11-07 23:14:00.367 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:14:00.367 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.367 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:14:00.369 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:14:00.371 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:14:00.378 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:14:00.382 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:14:00.385 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:14:00.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:14:00.390 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:14:00.390 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.5948ms
2022-11-07 23:14:00.390 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:14:00.391 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 23.6103ms
2022-11-07 23:14:00.509 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:14:00.509 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.509 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2832ms
2022-11-07 23:14:00.510 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:14:00.510 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:14:00.510 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:14:00.510 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:14:00.512 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:14:00.516 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:14:00.516 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:14:00.520 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:14:00.521 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.5718ms
2022-11-07 23:14:00.521 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:14:00.521 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.2098ms
2022-11-07 23:15:17.682 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:15:17.683 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.683 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6898ms
2022-11-07 23:15:17.685 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:15:17.685 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:15:17.685 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.688 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.688 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.1439ms
2022-11-07 23:15:17.694 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:15:17.695 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.8184ms
2022-11-07 23:15:17.696 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:15:17.699 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:15:17.700 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:15:17.717 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.718 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:15:17.718 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:15:17.719 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:15:17.719 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6082ms
2022-11-07 23:15:17.719 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:15:17.720 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 19.3155ms
2022-11-07 23:15:17.724 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:15:17.749 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:15:17.769 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:15:17.771 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:15:17.777 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:15:17.778 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:15:17.779 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 61.462ms
2022-11-07 23:15:17.779 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:15:17.779 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 94.0890ms
2022-11-07 23:15:17.779 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:15:17.780 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.780 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:15:17.781 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:15:17.786 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:15:17.790 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:15:17.793 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:15:17.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:15:17.796 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:15:17.796 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.796 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2175ms
2022-11-07 23:15:17.798 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:15:17.799 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:15:17.799 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:15:17.799 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:15:17.801 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:15:17.803 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:15:17.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:15:17.812 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 27.6545ms
2022-11-07 23:15:17.812 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:15:17.812 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 32.3700ms
2022-11-07 23:15:17.904 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:15:17.905 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:15:17.911 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:15:17.911 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 111.9421ms
2022-11-07 23:15:17.911 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:15:17.911 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 112.9027ms
2022-11-07 23:17:35.471 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:17:35.471 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:17:35.472 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.472 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.472 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4369ms
2022-11-07 23:17:35.472 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4680ms
2022-11-07 23:17:35.473 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:17:35.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:17:35.473 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.2642ms
2022-11-07 23:17:35.474 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:17:35.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:35.475 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:17:35.475 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:35.475 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:17:35.476 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:17:35.477 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.0075ms
2022-11-07 23:17:35.477 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:17:35.477 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.9935ms
2022-11-07 23:17:35.480 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:35.522 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:17:35.574 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:35.579 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:35.585 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:17:35.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:17:35.586 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 110.936ms
2022-11-07 23:17:35.587 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:35.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 113.3378ms
2022-11-07 23:17:35.589 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:17:35.589 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:35.590 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:35.590 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:35.593 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:35.596 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:17:35.600 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:35.603 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:35.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:17:36.099 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:36.102 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 365.1165ms
2022-11-07 23:17:36.108 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:17:36.109 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:36.110 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:17:36.111 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:17:36.115 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:36.121 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:17:36.121 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:17:36.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:17:36.126 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:17:36.126 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 536.0531ms
2022-11-07 23:17:36.126 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:36.127 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 537.6056ms
2022-11-07 23:17:36.137 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:17:36.140 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 29.1878ms
2022-11-07 23:17:36.140 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:17:36.140 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 32.1712ms
2022-11-07 23:17:39.823 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:17:39.825 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:39.828 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:39.829 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:39.832 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:17:39.832 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:39.832 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:17:39.833 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:17:39.834 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:17:39.835 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:39.835 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1843ms
2022-11-07 23:17:39.835 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:17:39.836 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.0960ms
2022-11-07 23:17:39.855 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:17:39.862 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:39.867 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:39.874 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:17:39.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:17:39.875 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 45.9589ms
2022-11-07 23:17:39.876 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:17:39.876 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:39.876 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:39.876 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 53.8043ms
2022-11-07 23:17:39.877 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:39.877 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:39.879 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:39.901 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:17:39.904 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:39.908 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:17:39.912 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:17:39.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:17:39.913 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 36.048ms
2022-11-07 23:17:39.927 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:17:39.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 51.1505ms
2022-11-07 23:17:39.981 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:17:39.982 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:39.983 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:17:39.983 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:17:39.996 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:40.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:17:40.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:17:40.024 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:17:40.025 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.0365ms
2022-11-07 23:17:40.025 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:17:40.026 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 44.9792ms
2022-11-07 23:17:44.946 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:17:44.946 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:44.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5184ms
2022-11-07 23:17:44.947 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71
2022-11-07 23:17:44.948 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:44.948 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:44.966 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:44.993 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:45.005 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-07 23:17:45.012 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 23:17:45.015 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2022-11-07 23:17:45.015 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi) in 47.1103ms
2022-11-07 23:17:45.015 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:45.015 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71 - 200 - application/json;+charset=utf-8 68.1526ms
2022-11-07 23:17:45.690 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71
2022-11-07 23:17:45.691 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:45.691 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:45.691 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:45.693 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:45.705 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-07 23:17:45.709 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 23:17:45.712 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2022-11-07 23:17:45.713 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi) in 20.9632ms
2022-11-07 23:17:45.713 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:45.713 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71 - 200 - application/json;+charset=utf-8 22.5352ms
2022-11-07 23:17:46.365 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71
2022-11-07 23:17:46.365 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:46.366 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:46.366 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:46.372 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:46.377 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-07 23:17:46.385 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 23:17:46.389 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2022-11-07 23:17:46.389 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi) in 22.0239ms
2022-11-07 23:17:46.389 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:46.389 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71 - 200 - application/json;+charset=utf-8 24.2266ms
2022-11-07 23:17:52.117 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:17:52.118 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:52.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7627ms
2022-11-07 23:17:52.132 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71
2022-11-07 23:17:52.132 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:17:52.267 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:52.268 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:17:52.284 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:17:52.424 +03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-07 23:17:52.459 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-07 23:17:52.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2022-11-07 23:17:52.481 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi) in 212.341ms
2022-11-07 23:17:52.483 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.UpdateQuantity (ECommerce.WebApi)'
2022-11-07 23:17:52.483 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7129/api/baskets application/json 71 - 200 - application/json;+charset=utf-8 351.3953ms
2022-11-07 23:21:04.620 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:21:04.623 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.624 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.9444ms
2022-11-07 23:21:04.630 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:21:04.630 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.630 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.3513ms
2022-11-07 23:21:04.650 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:21:04.680 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:21:04.681 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.681 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5227ms
2022-11-07 23:21:04.681 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.746 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:21:04.747 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.749 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:21:04.754 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:21:04.755 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:21:04.756 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:21:04.756 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:21:04.757 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.6446ms
2022-11-07 23:21:04.762 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:21:04.763 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 16.7902ms
2022-11-07 23:21:04.782 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:21:04.872 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:21:04.872 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.873 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7506ms
2022-11-07 23:21:04.875 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:21:04.875 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.875 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:21:04.877 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:21:04.901 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:21:04.903 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:21:04.915 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:21:04.919 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:21:04.933 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:21:04.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:21:04.941 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:21:04.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:21:04.942 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 179.5667ms
2022-11-07 23:21:04.943 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:21:04.943 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:21:04.943 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:21:04.943 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 292.8073ms
2022-11-07 23:21:04.943 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:21:04.943 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:21:04.944 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:21:04.945 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:21:04.945 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 45.8925ms
2022-11-07 23:21:04.945 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:21:04.945 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 69.8830ms
2022-11-07 23:21:04.948 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:21:04.950 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:21:04.952 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:21:04.958 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:21:04.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:21:04.960 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 15.9779ms
2022-11-07 23:21:04.960 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:21:04.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 16.9732ms
2022-11-07 23:22:28.209 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:22:28.212 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.212 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.9503ms
2022-11-07 23:22:28.219 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:22:28.220 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.223 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:22:28.224 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:22:28.239 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:22:28.275 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:22:28.277 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:22:28.277 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.278 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6120ms
2022-11-07 23:22:28.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:22:28.279 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.279 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:22:28.279 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:22:28.280 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:22:28.281 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1143ms
2022-11-07 23:22:28.281 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:22:28.281 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.0879ms
2022-11-07 23:22:28.285 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:22:28.289 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:22:28.300 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:22:28.303 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:22:28.304 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 79.888ms
2022-11-07 23:22:28.304 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:22:28.304 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 84.8881ms
2022-11-07 23:22:28.305 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:22:28.305 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.306 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:22:28.306 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:22:28.307 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:22:28.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:22:28.315 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:22:28.321 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:22:28.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:22:28.326 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:22:28.326 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.2208ms
2022-11-07 23:22:28.326 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:22:28.327 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 21.6615ms
2022-11-07 23:22:28.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:22:28.756 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.757 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7666ms
2022-11-07 23:22:28.758 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:22:28.758 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:22:28.758 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:22:28.758 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:22:28.760 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:22:28.765 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:22:28.766 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:22:28.773 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:22:28.775 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.3071ms
2022-11-07 23:22:28.775 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:22:28.775 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.3278ms
2022-11-07 23:26:24.744 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:26:24.745 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.745 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6507ms
2022-11-07 23:26:24.747 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:26:24.747 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.747 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.3496ms
2022-11-07 23:26:24.757 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:24.757 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 8.4545ms
2022-11-07 23:26:24.766 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:24.766 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.768 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:24.771 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:24.771 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:24.771 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:24.772 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 5.5889ms
2022-11-07 23:26:24.773 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:24.773 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:24.773 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.773 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:24.773 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:24.773 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:24.773 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:26:24.774 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:24.774 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:26:24.774 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:24.774 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3302ms
2022-11-07 23:26:24.774 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:24.774 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:24.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 1.1176ms
2022-11-07 23:26:24.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1983ms
2022-11-07 23:26:25.025 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:26:25.025 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.026 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:26:25.026 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:25.026 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.1620ms
2022-11-07 23:26:25.026 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.026 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7720ms
2022-11-07 23:26:25.027 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.028 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:25.036 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 10.4684ms
2022-11-07 23:26:25.036 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.036 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:25.040 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:25.040 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:25.060 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.060 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:25.060 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:26:25.060 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:25.072 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:25.072 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:25.073 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:25.088 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:25.088 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:25.088 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:25.263 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:26:25.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:26:25.269 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:25.270 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:25.289 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:26:25.290 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 217.2286ms
2022-11-07 23:26:25.295 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 222.2629ms
2022-11-07 23:26:25.299 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:25.297 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:25.301 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 229.4202ms
2022-11-07 23:26:25.303 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:25.308 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 279.7481ms
2022-11-07 23:26:25.312 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:25.312 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:25.352 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:25.345 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:25.356 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 316.0600ms
2022-11-07 23:26:25.356 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 315.8992ms
2022-11-07 23:26:29.559 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:29.560 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.562 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:29.562 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:29.563 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:29.563 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:29.563 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.5732ms
2022-11-07 23:26:29.564 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:29.564 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.565 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:29.565 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:29.565 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:29.565 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:29.566 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 1.6582ms
2022-11-07 23:26:29.572 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:29.572 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.572 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:29.573 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:26:29.573 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:26:29.574 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.009ms
2022-11-07 23:26:29.574 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:29.574 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.2011ms
2022-11-07 23:26:29.578 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:29.578 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.578 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:29.578 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:29.585 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:29.592 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:29.595 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 17.2657ms
2022-11-07 23:26:29.596 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:29.597 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:29.601 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:29.602 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 23.9963ms
2022-11-07 23:26:29.710 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:29.711 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.711 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:29.711 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:29.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:29.718 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:29.718 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:29.720 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:26:29.722 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:29.727 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:29.728 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:29.731 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:26:29.732 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 20.3336ms
2022-11-07 23:26:29.732 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:26:29.732 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:29.732 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:29.738 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:29.739 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 29.0092ms
2022-11-07 23:26:29.742 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:26:29.742 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 19.9472ms
2022-11-07 23:26:29.743 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:29.743 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 26.1507ms
2022-11-07 23:26:35.204 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:26:35.205 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.205 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.9939ms
2022-11-07 23:26:35.206 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:35.206 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.207 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:35.207 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:35.208 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:35.208 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:35.208 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 2.4402ms
2022-11-07 23:26:35.209 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:26:35.210 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.210 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:26:35.210 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:26:35.210 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:26:35.210 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:26:35.211 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 1.2876ms
2022-11-07 23:26:35.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:35.214 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.214 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3195ms
2022-11-07 23:26:35.215 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:35.215 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.215 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:35.215 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:26:35.215 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:26:35.216 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.4829ms
2022-11-07 23:26:35.216 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:35.216 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.2885ms
2022-11-07 23:26:35.218 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:26:35.218 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.218 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6473ms
2022-11-07 23:26:35.219 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:35.219 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.219 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:35.219 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:35.222 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:35.226 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:35.228 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 8.1966ms
2022-11-07 23:26:35.229 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:35.229 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:35.234 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:35.234 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 15.3108ms
2022-11-07 23:26:35.286 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:35.286 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.286 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4384ms
2022-11-07 23:26:35.287 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:35.288 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.288 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:35.288 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:26:35.289 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:35.293 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:26:35.293 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:35.294 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:35.294 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:35.294 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:26:35.295 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:26:35.296 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:35.304 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:26:35.304 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:26:35.308 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 14.1678ms
2022-11-07 23:26:35.318 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:26:35.318 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 30.1086ms
2022-11-07 23:26:35.318 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:35.318 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 30.9912ms
2022-11-07 23:26:35.319 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:26:35.323 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:26:35.323 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 30.6268ms
2022-11-07 23:26:39.161 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 23:26:39.161 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:39.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.4232ms
2022-11-07 23:26:39.162 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 23:26:39.162 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:39.162 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:26:39.162 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:26:39.179 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:39.189 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:26:39.196 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:26:39.203 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:26:39.206 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:26:39.206 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 23:26:39.211 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:26:39.218 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:26:39.222 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 23:26:39.222 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 59.4754ms
2022-11-07 23:26:39.222 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:26:39.222 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 60.6066ms
2022-11-07 23:26:46.239 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:46.239 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:46.239 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4043ms
2022-11-07 23:26:46.240 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:26:46.241 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:46.241 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:46.241 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:26:46.241 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:26:46.241 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2581ms
2022-11-07 23:26:46.241 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:26:46.241 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4070ms
2022-11-07 23:26:46.247 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:46.248 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:46.248 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3533ms
2022-11-07 23:26:46.248 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:26:46.248 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:26:46.249 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:46.249 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:26:46.251 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:26:46.264 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:26:46.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:26:46.271 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:26:46.272 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 22.9876ms
2022-11-07 23:26:46.272 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:26:46.273 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 24.4385ms
2022-11-07 23:27:15.051 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:27:15.053 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.053 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.5058ms
2022-11-07 23:27:15.055 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:27:15.055 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.057 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:27:15.058 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:27:15.058 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:27:15.059 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:27:15.059 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.3997ms
2022-11-07 23:27:15.097 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:27:15.097 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.097 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:27:15.098 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.098 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3753ms
2022-11-07 23:27:15.098 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:27:15.099 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:27:15.099 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:27:15.099 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:27:15.100 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 2.5578ms
2022-11-07 23:27:15.100 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:27:15.100 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:27:15.100 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.100 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.100 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4565ms
2022-11-07 23:27:15.100 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:27:15.101 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:27:15.101 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:27:15.101 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3055ms
2022-11-07 23:27:15.101 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:27:15.102 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7097ms
2022-11-07 23:27:15.102 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:27:15.102 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.102 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:27:15.102 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:27:15.106 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:27:15.123 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:27:15.135 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:27:15.143 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:27:15.151 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 23:27:15.151 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 48.9559ms
2022-11-07 23:27:15.151 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:27:15.151 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 49.9430ms
2022-11-07 23:27:15.506 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:27:15.506 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.507 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:27:15.507 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:27:15.519 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:27:15.520 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.520 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.6529ms
2022-11-07 23:27:15.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:27:15.522 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:15.522 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:27:15.523 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:27:15.524 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:27:15.524 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:27:15.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:27:15.533 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:27:15.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:27:15.535 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 15.2399ms
2022-11-07 23:27:15.536 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:27:15.537 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:27:15.544 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:27:15.545 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:27:15.545 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 22.4507ms
2022-11-07 23:27:15.545 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:27:15.546 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 23.5804ms
2022-11-07 23:27:15.546 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 39.7392ms
2022-11-07 23:27:42.882 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-07 23:27:42.883 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:42.883 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.9202ms
2022-11-07 23:27:42.884 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-07 23:27:42.884 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:42.885 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:27:42.885 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:27:42.906 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:27:42.922 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:27:42.928 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:27:42.933 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-07 23:27:42.936 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-07 23:27:42.936 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-07 23:27:42.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:27:42.944 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:27:42.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-07 23:27:42.946 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 61.4301ms
2022-11-07 23:27:42.946 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-07 23:27:42.947 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 62.6291ms
2022-11-07 23:27:49.513 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:27:49.514 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:49.514 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.2110ms
2022-11-07 23:27:49.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:27:49.517 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:49.517 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:27:49.517 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:27:49.517 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:27:49.517 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2668ms
2022-11-07 23:27:49.518 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:27:49.518 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5386ms
2022-11-07 23:27:49.522 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:27:49.522 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:49.522 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2634ms
2022-11-07 23:27:49.523 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:27:49.523 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:27:49.524 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:27:49.524 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:27:49.525 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:27:49.530 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:27:49.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:27:49.534 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:27:49.535 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.3742ms
2022-11-07 23:27:49.535 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:27:49.536 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.3344ms
2022-11-07 23:28:20.236 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:28:20.237 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.237 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.0947ms
2022-11-07 23:28:20.239 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:28:20.239 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.239 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.2755ms
2022-11-07 23:28:20.244 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:28:20.245 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.246 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:28:20.246 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:28:20.247 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:28:20.247 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:28:20.247 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 2.6024ms
2022-11-07 23:28:20.249 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:28:20.249 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.249 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3198ms
2022-11-07 23:28:20.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:28:20.251 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.251 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-07 23:28:20.252 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-07 23:28:20.253 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-07 23:28:20.253 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-07 23:28:20.253 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 2.7220ms
2022-11-07 23:28:20.257 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:28:20.257 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.258 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:28:20.258 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:28:20.258 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:28:20.258 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.328ms
2022-11-07 23:28:20.258 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:28:20.259 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3120ms
2022-11-07 23:28:20.261 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-07 23:28:20.261 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.261 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.2560ms
2022-11-07 23:28:20.262 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:28:20.262 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.262 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:28:20.262 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:28:20.265 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:20.287 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:28:20.296 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-07 23:28:20.303 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-07 23:28:20.309 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-07 23:28:20.309 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 46.8687ms
2022-11-07 23:28:20.309 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:28:20.309 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 47.4565ms
2022-11-07 23:28:20.629 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-07 23:28:20.629 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.630 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:28:20.630 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-07 23:28:20.632 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:20.635 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-07 23:28:20.635 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:28:20.636 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.636 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2921ms
2022-11-07 23:28:20.637 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:28:20.637 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:20.637 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 7.0547ms
2022-11-07 23:28:20.637 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:28:20.637 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-07 23:28:20.637 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:28:20.638 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-07 23:28:20.640 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:20.661 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-07 23:28:20.662 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 32.4713ms
2022-11-07 23:28:20.665 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:28:20.666 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:28:20.675 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:28:20.676 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 37.69ms
2022-11-07 23:28:20.676 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:28:20.676 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 39.4419ms
2022-11-07 23:28:26.934 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:28:26.934 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:26.935 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5842ms
2022-11-07 23:28:26.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:28:26.936 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:26.937 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:28:26.937 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:28:26.938 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:26.944 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:28:26.949 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:28:26.961 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:28:26.968 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:28:26.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:28:26.970 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 32.8856ms
2022-11-07 23:28:26.970 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:28:26.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 35.6037ms
2022-11-07 23:28:26.973 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:28:26.973 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:26.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:28:26.973 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5413ms
2022-11-07 23:28:26.973 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:26.974 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:28:26.975 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:28:26.976 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:28:26.976 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:26.976 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:28:26.976 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:26.976 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:28:26.977 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:28:26.977 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.1675ms
2022-11-07 23:28:26.977 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:28:26.977 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.7907ms
2022-11-07 23:28:26.982 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:28:26.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:28:26.989 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:28:26.993 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:28:26.994 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:28:26.994 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.7077ms
2022-11-07 23:28:26.994 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:28:26.995 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 21.5280ms
2022-11-07 23:28:27.374 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:28:27.375 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:27.375 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4841ms
2022-11-07 23:28:27.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:28:27.376 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:27.376 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:28:27.376 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:28:27.378 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:27.380 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:28:27.381 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:28:27.384 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:28:27.385 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.603ms
2022-11-07 23:28:27.385 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:28:27.385 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 9.4385ms
2022-11-07 23:28:36.355 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets/796c7b2b-c163-4a81-b2e6-931bec683f6d - -
2022-11-07 23:28:36.357 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:36.358 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets/796c7b2b-c163-4a81-b2e6-931bec683f6d - - - 204 - - 3.5159ms
2022-11-07 23:28:36.359 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7129/api/baskets/796c7b2b-c163-4a81-b2e6-931bec683f6d - -
2022-11-07 23:28:36.362 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:28:36.383 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi)'
2022-11-07 23:28:36.430 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ECommerce.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:28:36.472 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:28:36.492 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-07 23:28:36.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2022-11-07 23:28:36.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2022-11-07 23:28:36.534 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi) in 103.5848ms
2022-11-07 23:28:36.534 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi)'
2022-11-07 23:28:36.534 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7129/api/baskets/796c7b2b-c163-4a81-b2e6-931bec683f6d - - - 200 - application/json;+charset=utf-8 174.3646ms
2022-11-07 23:32:23.003 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:32:23.004 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.004 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.8007ms
2022-11-07 23:32:23.005 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-07 23:32:23.005 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.006 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.3372ms
2022-11-07 23:32:23.011 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:32:23.011 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.012 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.2297ms
2022-11-07 23:32:23.012 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:32:23.012 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.015 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:32:23.017 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:32:23.019 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-07 23:32:23.020 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.020 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:32:23.020 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-07 23:32:23.020 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-07 23:32:23.021 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.2229ms
2022-11-07 23:32:23.021 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-07 23:32:23.021 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.1573ms
2022-11-07 23:32:23.025 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:32:23.128 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:32:23.133 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:32:23.136 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:32:23.142 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:32:23.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:32:23.143 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 126.8095ms
2022-11-07 23:32:23.144 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:32:23.144 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 131.9891ms
2022-11-07 23:32:23.145 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-07 23:32:23.145 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.145 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:32:23.146 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-07 23:32:23.147 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:32:23.152 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-07 23:32:23.160 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:32:23.165 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-07 23:32:23.172 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-07 23:32:23.173 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-07 23:32:23.174 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.0942ms
2022-11-07 23:32:23.174 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-07 23:32:23.174 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 29.3997ms
2022-11-07 23:32:23.551 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:32:23.551 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.551 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4475ms
2022-11-07 23:32:23.553 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-07 23:32:23.553 +03:00 [INF] CORS policy execution successful.
2022-11-07 23:32:23.553 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:32:23.553 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-07 23:32:23.555 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-07 23:32:23.560 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-07 23:32:23.561 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-07 23:32:23.567 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-07 23:32:23.568 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.41ms
2022-11-07 23:32:23.568 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-07 23:32:23.568 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.3841ms
2022-11-08 00:17:38.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:17:38.517 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.518 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.1792ms
2022-11-08 00:17:38.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:17:38.521 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.529 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:17:38.579 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:17:38.580 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.580 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.0722ms
2022-11-08 00:17:38.580 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:17:38.583 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:17:38.583 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.584 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:17:38.585 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:17:38.587 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:17:38.588 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 66.9162ms
2022-11-08 00:17:38.588 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:17:38.588 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:17:38.589 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.2618ms
2022-11-08 00:17:38.589 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:17:38.589 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.7090ms
2022-11-08 00:17:38.615 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:17:38.615 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.7584ms
2022-11-08 00:17:38.617 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:17:38.617 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:38.617 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:17:38.617 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:17:38.689 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:17:38.791 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:17:38.795 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 119.0069ms
2022-11-08 00:17:38.796 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:17:38.796 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:17:38.811 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:17:38.813 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 195.7405ms
2022-11-08 00:17:39.137 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:17:39.137 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:39.137 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3932ms
2022-11-08 00:17:39.138 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:17:39.138 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:17:39.138 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:17:39.139 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:17:39.141 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:17:39.147 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:17:39.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:17:39.157 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:17:39.157 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 18.2834ms
2022-11-08 00:17:39.157 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:17:39.158 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 19.5734ms
2022-11-08 00:33:00.279 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:33:00.280 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:00.281 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.4757ms
2022-11-08 00:33:00.285 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:33:00.286 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:00.290 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:33:00.306 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:33:00.306 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:33:00.307 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:33:00.307 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 22.1933ms
2022-11-08 00:33:00.341 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:33:00.341 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:00.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4354ms
2022-11-08 00:33:00.346 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:33:00.347 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:00.347 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:33:00.348 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:33:00.348 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:33:00.349 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6364ms
2022-11-08 00:33:00.349 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:33:00.349 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.8312ms
2022-11-08 00:33:01.039 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:33:01.039 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:01.039 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4387ms
2022-11-08 00:33:01.060 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:33:01.060 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:01.093 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:33:01.093 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:33:01.096 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:33:01.097 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:01.097 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3899ms
2022-11-08 00:33:01.103 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:33:01.103 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:01.103 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:33:01.104 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:33:01.104 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:33:01.107 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:33:01.188 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:33:01.190 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:33:01.192 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:33:01.196 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 101.919ms
2022-11-08 00:33:01.196 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:33:01.197 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:33:01.204 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:33:01.209 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:33:01.212 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 106.7429ms
2022-11-08 00:33:01.212 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:33:01.213 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 109.6649ms
2022-11-08 00:33:01.213 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 153.6783ms
2022-11-08 00:33:03.577 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:33:03.578 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:03.579 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:33:03.619 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:33:03.620 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:33:03.622 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:33:03.623 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 46.3191ms
2022-11-08 00:33:03.677 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:33:03.677 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:03.678 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:33:03.679 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:33:03.680 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:33:03.680 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.62ms
2022-11-08 00:33:03.681 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:33:03.681 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.7595ms
2022-11-08 00:33:03.697 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:33:03.698 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:03.698 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:33:03.698 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:33:03.704 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:33:03.730 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:33:03.744 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 44.9267ms
2022-11-08 00:33:03.745 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:33:03.747 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:33:03.765 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:33:03.766 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 68.1457ms
2022-11-08 00:33:04.512 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:33:04.513 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:33:04.513 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:33:04.513 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:33:04.518 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:33:04.551 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:33:04.552 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:33:04.570 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:33:04.621 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 107.1206ms
2022-11-08 00:33:04.621 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:33:04.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 109.5786ms
2022-11-08 00:35:28.637 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:35:28.638 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:28.639 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.8298ms
2022-11-08 00:35:28.642 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:35:28.643 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:28.643 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4068ms
2022-11-08 00:35:28.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:35:28.663 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:28.664 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:35:28.666 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:35:28.666 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:35:28.667 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:35:28.667 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.2030ms
2022-11-08 00:35:28.668 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:35:28.668 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:28.668 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:35:28.668 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:35:28.669 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:35:28.669 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.452ms
2022-11-08 00:35:28.669 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:35:28.669 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.6395ms
2022-11-08 00:35:29.123 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:35:29.124 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:29.124 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4060ms
2022-11-08 00:35:29.125 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:35:29.125 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:29.125 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:35:29.125 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:35:29.126 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:35:29.126 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:29.126 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2967ms
2022-11-08 00:35:29.127 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:35:29.127 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:35:29.127 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:35:29.127 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:35:29.129 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:35:29.130 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:35:29.161 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:35:29.161 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:35:29.162 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:35:29.164 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 38.89ms
2022-11-08 00:35:29.164 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:35:29.167 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:35:29.172 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:35:29.176 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:35:29.176 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 51.8816ms
2022-11-08 00:35:29.177 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 50.1357ms
2022-11-08 00:35:29.178 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:35:29.178 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 51.0510ms
2022-11-08 00:36:15.107 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:36:15.118 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 12.4048ms
2022-11-08 00:36:15.121 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:36:15.122 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.124 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:36:15.129 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:36:15.130 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:36:15.130 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:36:15.131 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 9.6197ms
2022-11-08 00:36:15.134 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:36:15.134 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.134 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.2692ms
2022-11-08 00:36:15.135 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:36:15.135 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.135 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:36:15.136 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:36:15.148 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:36:15.153 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.154 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:36:15.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 6.0003ms
2022-11-08 00:36:15.154 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8377ms
2022-11-08 00:36:15.154 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:36:15.154 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 19.1182ms
2022-11-08 00:36:15.155 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:36:15.155 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.155 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:36:15.155 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:36:15.163 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:36:15.185 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:36:15.193 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 36.9903ms
2022-11-08 00:36:15.193 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:36:15.200 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:36:15.212 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:36:15.212 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 57.6212ms
2022-11-08 00:36:15.637 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:36:15.637 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.637 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3992ms
2022-11-08 00:36:15.638 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:36:15.638 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:36:15.639 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:36:15.639 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:36:15.641 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:36:15.646 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:36:15.647 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:36:15.659 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:36:15.662 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 23.357ms
2022-11-08 00:36:15.662 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:36:15.662 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 24.2044ms
2022-11-08 00:48:58.172 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:48:58.174 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.195 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.4269ms
2022-11-08 00:48:58.196 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:48:58.196 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.196 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3852ms
2022-11-08 00:48:58.197 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:48:58.197 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.198 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:48:58.217 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:48:58.246 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.246 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:48:58.246 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:48:58.246 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:48:58.246 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:48:58.255 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:48:58.255 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 58.0497ms
2022-11-08 00:48:58.256 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:48:58.269 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 14.0947ms
2022-11-08 00:48:58.269 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:48:58.269 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 51.4727ms
2022-11-08 00:48:58.605 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:48:58.605 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.605 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4073ms
2022-11-08 00:48:58.606 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:48:58.607 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.607 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:48:58.607 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:48:58.609 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:48:58.612 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.613 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 3.5093ms
2022-11-08 00:48:58.614 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:48:58.614 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:48:58.622 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:48:58.622 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:48:58.627 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:48:58.628 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:48:58.718 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:48:58.718 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:48:58.719 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:48:58.722 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 109.181ms
2022-11-08 00:48:58.725 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:48:58.725 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:48:58.730 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:48:58.736 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:48:58.737 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 130.3706ms
2022-11-08 00:48:58.737 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 111.6544ms
2022-11-08 00:48:58.737 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:48:58.748 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 133.6305ms
2022-11-08 00:53:56.583 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:53:56.585 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:56.586 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.3995ms
2022-11-08 00:53:56.596 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:53:56.598 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:56.601 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:53:56.604 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:53:56.605 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:53:56.606 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:53:56.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 9.6698ms
2022-11-08 00:53:56.609 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:53:56.609 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:56.644 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 35.1161ms
2022-11-08 00:53:56.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:53:56.647 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:56.647 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:53:56.648 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:53:56.649 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:53:56.649 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.1027ms
2022-11-08 00:53:56.650 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:53:56.650 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.7993ms
2022-11-08 00:53:57.147 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:53:57.147 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:57.147 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4022ms
2022-11-08 00:53:57.148 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:53:57.149 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:57.149 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:53:57.149 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:53:57.149 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:53:57.149 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:57.150 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2916ms
2022-11-08 00:53:57.150 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:53:57.151 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:53:57.151 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:53:57.151 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:53:57.155 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:53:57.155 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:53:57.185 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:53:57.185 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:53:57.186 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:53:57.189 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 39.9247ms
2022-11-08 00:53:57.190 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:53:57.191 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:53:57.194 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:53:57.197 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:53:57.198 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 49.6959ms
2022-11-08 00:53:57.198 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 46.5219ms
2022-11-08 00:53:57.198 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:53:57.199 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 48.2558ms
2022-11-08 00:54:00.969 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:54:00.970 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:00.972 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:54:00.974 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:54:00.974 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:54:00.974 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:54:00.975 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 6.1450ms
2022-11-08 00:54:00.994 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:54:00.994 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:00.995 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:54:00.995 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:54:00.995 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:54:00.996 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5296ms
2022-11-08 00:54:00.996 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:54:00.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.2430ms
2022-11-08 00:54:01.001 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:54:01.001 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:01.001 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:54:01.001 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:54:01.008 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:54:01.089 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:54:01.093 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 90.8185ms
2022-11-08 00:54:01.096 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:54:01.098 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 00:54:01.103 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 00:54:01.105 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 104.2320ms
2022-11-08 00:54:01.379 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:54:01.379 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:01.379 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:54:01.380 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:54:01.382 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:54:01.386 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:54:01.387 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:54:01.393 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:54:01.394 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.5448ms
2022-11-08 00:54:01.394 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:54:01.395 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.8544ms
2022-11-08 00:54:11.597 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 00:54:11.597 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:11.598 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.1055ms
2022-11-08 00:54:11.599 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 00:54:11.599 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:11.599 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 00:54:11.599 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:54:11.777 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:54:11.793 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 00:54:11.799 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 00:54:11.802 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 00:54:11.805 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 00:54:11.805 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 00:54:11.812 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 00:54:11.823 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 00:54:11.827 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 00:54:11.827 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 227.2478ms
2022-11-08 00:54:11.827 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 00:54:11.827 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 228.7540ms
2022-11-08 00:54:13.396 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:54:13.396 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:13.396 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4063ms
2022-11-08 00:54:13.397 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:54:13.398 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:13.398 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:54:13.398 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:54:13.398 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:54:13.415 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 17.1647ms
2022-11-08 00:54:13.415 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:54:13.416 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 18.2045ms
2022-11-08 00:54:13.420 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:54:13.421 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:13.421 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4027ms
2022-11-08 00:54:13.422 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:54:13.422 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:54:13.423 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:54:13.423 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:54:13.425 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:54:13.429 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:54:13.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:54:13.436 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:54:13.437 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.7222ms
2022-11-08 00:54:13.437 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:54:13.437 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.8694ms
2022-11-08 00:57:37.442 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:57:37.443 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.0909ms
2022-11-08 00:57:37.445 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:37.445 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.447 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 00:57:37.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:57:37.474 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 00:57:37.474 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.474 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 00:57:37.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.8657ms
2022-11-08 00:57:37.474 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 00:57:37.475 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 29.9601ms
2022-11-08 00:57:37.477 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:57:37.477 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.477 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:57:37.478 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:57:37.481 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:57:37.481 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5522ms
2022-11-08 00:57:37.481 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:57:37.482 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.9978ms
2022-11-08 00:57:37.834 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 00:57:37.835 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.835 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6516ms
2022-11-08 00:57:37.836 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 00:57:37.836 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.836 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:57:37.836 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:57:37.836 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 00:57:37.840 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.840 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 4.0070ms
2022-11-08 00:57:37.841 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:57:37.841 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:37.842 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:57:37.842 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:57:37.846 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:37.851 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:37.880 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 00:57:37.886 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 00:57:37.893 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 00:57:37.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 00:57:37.902 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 61.6372ms
2022-11-08 00:57:37.902 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 00:57:37.902 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 66.1500ms
2022-11-08 00:57:37.912 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:57:37.919 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:57:37.937 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:57:37.938 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 89.3517ms
2022-11-08 00:57:37.938 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:57:37.938 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 96.5844ms
2022-11-08 00:57:39.559 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:39.560 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:39.561 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:39.562 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:39.565 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:39.576 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:39.586 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:39.589 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:39.599 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:39.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:39.612 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 50.2859ms
2022-11-08 00:57:39.612 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:39.613 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 53.9061ms
2022-11-08 00:57:41.969 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:41.969 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:41.970 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:41.970 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:41.973 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:41.983 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:41.987 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:41.991 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:41.997 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:41.998 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:41.998 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 27.6764ms
2022-11-08 00:57:41.998 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:41.999 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.5192ms
2022-11-08 00:57:44.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:57:44.537 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.537 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5731ms
2022-11-08 00:57:44.538 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:44.538 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.539 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:44.539 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:44.542 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:44.566 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:44.570 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:57:44.570 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.570 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3312ms
2022-11-08 00:57:44.571 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 00:57:44.571 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.572 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:57:44.572 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 00:57:44.572 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 00:57:44.573 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6649ms
2022-11-08 00:57:44.573 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:44.573 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 00:57:44.575 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.1839ms
2022-11-08 00:57:44.575 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:44.580 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:44.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:44.582 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 42.916ms
2022-11-08 00:57:44.583 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:44.583 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 44.3937ms
2022-11-08 00:57:44.884 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:57:44.885 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.885 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.2212ms
2022-11-08 00:57:44.886 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 00:57:44.886 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:44.886 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:57:44.886 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 00:57:44.890 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:44.893 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 00:57:44.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 00:57:44.899 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 00:57:44.900 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.2875ms
2022-11-08 00:57:44.900 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 00:57:44.900 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.3467ms
2022-11-08 00:57:46.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:46.931 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:46.932 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:46.932 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:46.935 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:46.941 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:46.945 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:46.947 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:46.951 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:46.952 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:46.952 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.6727ms
2022-11-08 00:57:46.952 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:46.952 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 22.1586ms
2022-11-08 00:57:50.699 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:57:50.700 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:50.700 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4503ms
2022-11-08 00:57:50.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:50.701 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:50.702 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:50.702 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:50.705 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:50.712 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:50.716 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:50.719 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:50.726 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:50.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:50.729 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.3861ms
2022-11-08 00:57:50.729 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:50.729 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.7935ms
2022-11-08 00:57:53.961 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:53.962 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:53.963 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:53.963 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:53.965 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:53.970 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:53.972 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:53.975 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:53.980 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:53.981 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:53.983 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.5157ms
2022-11-08 00:57:53.983 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:53.983 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 21.5447ms
2022-11-08 00:57:56.505 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:57:56.506 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:56.506 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4287ms
2022-11-08 00:57:56.507 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:57:56.507 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:57:56.508 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:56.508 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:57:56.510 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:57:56.515 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:57:56.518 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:56.521 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:57:56.527 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:57:56.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:57:56.529 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.222ms
2022-11-08 00:57:56.529 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:57:56.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 22.1740ms
2022-11-08 00:58:00.378 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:58:00.378 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:00.379 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:00.379 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:58:00.384 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:58:00.388 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:58:00.392 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:00.398 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:00.402 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:58:00.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:58:00.403 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.7371ms
2022-11-08 00:58:00.403 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:00.403 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.1395ms
2022-11-08 00:58:02.861 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:58:02.861 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:02.861 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4227ms
2022-11-08 00:58:02.863 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:58:02.863 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:02.864 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:02.864 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:58:02.866 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:58:02.873 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:58:02.881 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:02.885 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:02.891 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:58:02.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:58:02.893 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.9511ms
2022-11-08 00:58:02.893 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:02.894 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.9828ms
2022-11-08 00:58:06.197 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:58:06.198 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:06.198 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4699ms
2022-11-08 00:58:06.199 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 00:58:06.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:06.200 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 00:58:06.201 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:58:06.207 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:58:06.212 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:58:06.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:06.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:06.230 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 00:58:06.263 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 00:58:06.269 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 00:58:06.269 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 68.4376ms
2022-11-08 00:58:06.269 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 00:58:06.285 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 85.8586ms
2022-11-08 00:58:07.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:58:07.452 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:07.453 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:07.453 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:58:07.456 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:58:07.462 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:58:07.467 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:07.470 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:07.479 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:58:07.481 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:58:07.481 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 27.3807ms
2022-11-08 00:58:07.481 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:07.482 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.5392ms
2022-11-08 00:58:56.877 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:58:56.878 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:56.879 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.3236ms
2022-11-08 00:58:56.880 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:58:56.880 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:58:56.880 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:56.880 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:58:56.885 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:58:56.918 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:58:56.922 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:56.925 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:58:56.931 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:58:56.935 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:58:56.936 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 54.9658ms
2022-11-08 00:58:56.953 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:58:56.956 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 74.0202ms
2022-11-08 00:59:01.233 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 00:59:01.234 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:59:01.234 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8750ms
2022-11-08 00:59:01.235 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 00:59:01.235 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:59:01.236 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 00:59:01.236 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:59:01.240 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:59:01.245 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:59:01.249 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:01.252 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:01.258 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 00:59:01.267 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 00:59:01.272 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 00:59:01.272 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 36.1367ms
2022-11-08 00:59:01.272 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 00:59:01.273 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 38.0031ms
2022-11-08 00:59:03.686 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:59:03.686 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:59:03.687 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:59:03.687 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:59:03.689 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:59:03.694 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:59:03.698 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:03.703 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:03.712 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:59:03.714 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:59:03.715 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 27.6149ms
2022-11-08 00:59:03.715 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:59:03.715 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 29.2971ms
2022-11-08 00:59:05.621 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 00:59:05.622 +03:00 [INF] CORS policy execution successful.
2022-11-08 00:59:05.622 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:59:05.623 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 00:59:05.625 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 00:59:05.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 00:59:05.632 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:05.635 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 00:59:05.643 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 00:59:05.644 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 00:59:05.645 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 22.5267ms
2022-11-08 00:59:05.646 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 00:59:05.646 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 24.2724ms
2022-11-08 01:00:49.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:00:49.333 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.6135ms
2022-11-08 01:00:49.337 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:00:49.337 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.339 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:49.340 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:00:49.345 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:49.364 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:00:49.368 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:49.371 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:49.378 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:00:49.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:00:49.380 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 39.8122ms
2022-11-08 01:00:49.380 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:49.380 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 43.3712ms
2022-11-08 01:00:49.385 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:00:49.385 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.385 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4595ms
2022-11-08 01:00:49.387 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:00:49.387 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.387 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:00:49.387 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:00:49.392 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:00:49.392 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8346ms
2022-11-08 01:00:49.393 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:00:49.393 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.0979ms
2022-11-08 01:00:49.944 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:00:49.944 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.945 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.5005ms
2022-11-08 01:00:49.950 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:00:49.950 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:49.950 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:00:49.950 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:00:49.953 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:49.956 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:00:49.957 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:00:49.961 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:00:49.962 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.3924ms
2022-11-08 01:00:49.962 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:00:49.962 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.5064ms
2022-11-08 01:00:52.535 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:00:52.536 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:52.538 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:52.539 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:00:52.555 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:52.572 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:00:52.577 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:52.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:52.586 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:00:52.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:00:52.587 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 48.1614ms
2022-11-08 01:00:52.587 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:52.588 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 53.0229ms
2022-11-08 01:00:52.589 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:00:52.589 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:52.589 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:00:52.590 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:00:52.590 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:00:52.590 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5466ms
2022-11-08 01:00:52.591 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:00:52.591 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.0525ms
2022-11-08 01:00:52.877 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:00:52.878 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:52.878 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:00:52.878 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:00:52.882 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:52.886 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:00:52.887 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:00:52.891 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:00:52.892 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.9462ms
2022-11-08 01:00:52.892 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:00:52.893 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.1188ms
2022-11-08 01:00:56.138 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:00:56.139 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:56.139 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.2062ms
2022-11-08 01:00:56.140 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:00:56.141 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:56.142 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:56.143 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:00:56.145 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:56.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:00:56.158 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:56.162 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:56.171 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:00:56.172 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:00:56.173 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 30.5617ms
2022-11-08 01:00:56.174 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:56.177 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 35.4187ms
2022-11-08 01:00:59.288 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:00:59.288 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:00:59.289 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:59.289 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:00:59.292 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:00:59.296 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:00:59.301 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:59.306 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:00:59.312 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:00:59.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:00:59.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 24.4873ms
2022-11-08 01:00:59.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:00:59.316 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.5300ms
2022-11-08 01:01:13.307 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:01:13.309 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.309 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.9628ms
2022-11-08 01:01:13.311 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:01:13.312 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.314 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:13.315 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:01:13.320 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:01:13.348 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:01:13.349 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.349 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.3485ms
2022-11-08 01:01:13.351 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:01:13.351 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.351 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:01:13.354 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:01:13.366 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:01:13.373 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:01:13.373 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7132ms
2022-11-08 01:01:13.373 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:01:13.374 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 22.7468ms
2022-11-08 01:01:13.377 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:13.383 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:13.394 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:01:13.396 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:01:13.396 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 81.6218ms
2022-11-08 01:01:13.396 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:13.397 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 85.1380ms
2022-11-08 01:01:13.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:01:13.705 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.705 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7979ms
2022-11-08 01:01:13.707 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:01:13.707 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:13.707 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:01:13.707 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:01:13.710 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:01:13.714 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:01:13.716 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:01:13.723 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:01:13.735 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 27.5079ms
2022-11-08 01:01:13.735 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:01:13.736 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 29.6725ms
2022-11-08 01:01:15.881 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:01:15.881 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:15.882 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:15.882 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:01:15.885 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:01:15.894 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:01:15.900 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:15.907 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:15.913 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:01:15.915 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:01:15.917 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 34.7231ms
2022-11-08 01:01:15.917 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:15.919 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 37.0016ms
2022-11-08 01:01:20.583 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:01:20.584 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:20.584 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7525ms
2022-11-08 01:01:20.585 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 01:01:20.585 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:20.586 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 01:01:20.586 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:01:20.589 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:01:20.595 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:01:20.600 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:20.604 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:20.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 01:01:20.621 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 01:01:20.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 01:01:20.626 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 40.2923ms
2022-11-08 01:01:20.626 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 01:01:20.627 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 41.4463ms
2022-11-08 01:01:21.941 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:01:21.941 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:01:21.942 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:21.942 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:01:21.945 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:01:21.952 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:01:21.958 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:21.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:01:21.970 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:01:21.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:01:21.973 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 30.9235ms
2022-11-08 01:01:21.973 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:01:21.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 32.9036ms
2022-11-08 01:02:23.203 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:02:23.206 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:23.207 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.6547ms
2022-11-08 01:02:23.224 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:02:23.225 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:23.228 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:23.235 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:02:23.256 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:23.305 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:02:23.346 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:23.355 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:23.388 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:02:23.405 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:02:23.406 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 167.6329ms
2022-11-08 01:02:23.406 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:23.418 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:23.422 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:23.422 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.3981ms
2022-11-08 01:02:23.422 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 197.5832ms
2022-11-08 01:02:23.427 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:23.503 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:23.504 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:23.504 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:02:23.718 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:02:23.718 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9925ms
2022-11-08 01:02:23.719 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:23.720 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 293.6323ms
2022-11-08 01:02:24.267 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:24.267 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:24.267 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5243ms
2022-11-08 01:02:24.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:24.272 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:24.272 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:24.273 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:02:24.275 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:24.282 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:02:24.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:02:24.288 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:02:24.289 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.2626ms
2022-11-08 01:02:24.289 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:24.290 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 18.2035ms
2022-11-08 01:02:37.415 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:02:37.418 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:37.419 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.2293ms
2022-11-08 01:02:37.422 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:02:37.423 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:37.427 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:37.428 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:02:37.444 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:37.499 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:02:37.514 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:37.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:37.531 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:02:37.535 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:02:37.536 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 108.1689ms
2022-11-08 01:02:37.537 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:37.537 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 115.2097ms
2022-11-08 01:02:37.547 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:37.547 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:37.548 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.9056ms
2022-11-08 01:02:37.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:37.553 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:37.553 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:37.554 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:02:37.554 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:02:37.555 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.3189ms
2022-11-08 01:02:37.556 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:37.556 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.7509ms
2022-11-08 01:02:38.201 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:38.201 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:38.201 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5490ms
2022-11-08 01:02:38.203 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:38.203 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:38.203 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:38.204 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:02:38.206 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:38.210 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:02:38.210 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:02:38.222 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:02:38.224 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 20.0122ms
2022-11-08 01:02:38.225 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:38.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 21.9862ms
2022-11-08 01:02:40.573 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:02:40.573 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:40.574 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:40.574 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:02:40.577 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:40.586 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:02:40.592 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:40.597 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:40.602 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:02:40.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:02:40.604 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.0547ms
2022-11-08 01:02:40.604 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:40.604 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 31.5620ms
2022-11-08 01:02:56.626 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:02:56.628 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:56.629 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.9072ms
2022-11-08 01:02:56.632 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:02:56.633 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:56.638 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:56.641 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:02:56.653 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:56.686 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:02:56.696 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:56.698 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:56.698 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.1304ms
2022-11-08 01:02:56.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:02:56.701 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:56.702 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:56.702 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:02:56.702 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:02:56.703 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8077ms
2022-11-08 01:02:56.703 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:02:56.703 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.9636ms
2022-11-08 01:02:56.706 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:56.712 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:56.727 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:02:56.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:02:56.732 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 90.6497ms
2022-11-08 01:02:56.732 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:56.732 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 100.1953ms
2022-11-08 01:02:57.255 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:57.255 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:57.256 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6634ms
2022-11-08 01:02:57.257 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:02:57.257 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:57.257 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:57.258 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:02:57.260 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:57.265 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:02:57.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:02:57.271 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:02:57.272 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.4295ms
2022-11-08 01:02:57.273 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:02:57.273 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 16.0226ms
2022-11-08 01:02:58.988 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:02:58.988 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:02:58.989 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:58.989 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:02:58.992 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:02:58.997 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:02:59.001 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:59.004 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:02:59.010 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:02:59.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:02:59.011 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 22.232ms
2022-11-08 01:02:59.011 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:02:59.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 23.9169ms
2022-11-08 01:03:57.468 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 01:03:57.470 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:57.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.0802ms
2022-11-08 01:03:57.472 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 01:03:57.473 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:57.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:03:57.475 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 01:03:57.484 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:03:57.517 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:03:57.517 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:57.518 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4787ms
2022-11-08 01:03:57.524 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 01:03:57.524 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:57.524 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:03:57.525 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 01:03:57.526 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 01:03:57.526 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.0635ms
2022-11-08 01:03:57.527 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 01:03:57.532 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 01:03:57.532 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.0438ms
2022-11-08 01:03:57.564 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:03:57.567 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 01:03:57.574 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 01:03:57.575 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 01:03:57.577 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 101.7178ms
2022-11-08 01:03:57.577 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 01:03:57.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 105.0534ms
2022-11-08 01:03:58.062 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:03:58.062 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:58.063 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4134ms
2022-11-08 01:03:58.064 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 01:03:58.064 +03:00 [INF] CORS policy execution successful.
2022-11-08 01:03:58.064 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:03:58.065 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 01:03:58.068 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 01:03:58.072 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 01:03:58.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 01:03:58.078 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 01:03:58.078 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.2438ms
2022-11-08 01:03:58.078 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 01:03:58.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.4643ms
2022-11-08 14:05:05.597 +03:00 [INF] Application is shutting down...
2022-11-08 14:08:18.667 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 14:08:18.861 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 14:08:18.861 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 14:08:18.863 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 14:08:18.863 +03:00 [INF] Hosting environment: Development
2022-11-08 14:08:18.864 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 14:09:25.937 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 14:09:26.091 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:26.106 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 178.1338ms
2022-11-08 14:09:26.117 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 14:09:26.142 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:26.432 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 14:09:26.463 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 14:09:26.468 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 14:09:26.477 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 14:09:26.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 360.8415ms
2022-11-08 14:09:26.487 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 14:09:26.488 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:26.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.3022ms
2022-11-08 14:09:26.490 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 14:09:26.491 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:26.496 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 14:09:26.533 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 14:09:28.303 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 14:09:28.775 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 14:09:28.922 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2380.1068ms
2022-11-08 14:09:28.924 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 14:09:28.934 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 14:09:28.953 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 14:09:28.982 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 2491.8282ms
2022-11-08 14:09:32.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 14:09:32.379 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:32.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.9454ms
2022-11-08 14:09:32.380 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 14:09:32.381 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:32.383 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 14:09:32.388 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 14:09:32.783 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 14:09:32.796 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 14:09:32.855 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 14:09:32.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 14:09:32.870 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 14:09:32.872 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 14:09:32.925 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 14:09:33.085 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 14:09:33.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 14:09:33.125 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 736.8973ms
2022-11-08 14:09:33.125 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 14:09:33.125 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 745.0846ms
2022-11-08 14:09:34.197 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 14:09:34.197 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:34.197 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6239ms
2022-11-08 14:09:34.199 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 14:09:34.200 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:34.200 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 14:09:34.202 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 14:09:34.204 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 14:09:34.205 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.1055ms
2022-11-08 14:09:34.206 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 14:09:34.206 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.4511ms
2022-11-08 14:09:34.209 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 14:09:34.209 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:34.209 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3734ms
2022-11-08 14:09:34.210 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 14:09:34.210 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:34.210 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 14:09:34.218 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 14:09:34.255 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 14:09:34.295 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 14:09:34.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 14:09:34.331 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 14:09:34.332 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 14:09:34.422 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 14:09:34.441 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 222.438ms
2022-11-08 14:09:34.441 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 14:09:34.441 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 231.1132ms
2022-11-08 14:09:36.971 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 14:09:36.972 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:36.972 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6829ms
2022-11-08 14:09:36.973 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 14:09:36.973 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:36.999 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 14:09:37.001 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 14:09:37.010 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 14:09:37.043 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 14:09:37.101 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 14:09:37.109 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 14:09:37.146 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 14:09:37.192 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 14:09:37.195 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 193.7136ms
2022-11-08 14:09:37.195 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 14:09:37.197 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 224.4817ms
2022-11-08 14:09:39.864 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 14:09:39.864 +03:00 [INF] CORS policy execution successful.
2022-11-08 14:09:39.867 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 14:09:39.868 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 14:09:39.870 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 14:09:39.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 14:09:39.883 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 14:09:39.888 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 14:09:39.893 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 14:09:39.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 14:09:39.896 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.159ms
2022-11-08 14:09:39.896 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 14:09:39.897 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 33.0962ms
2022-11-08 14:10:42.046 +03:00 [INF] Application is shutting down...
2022-11-08 15:43:02.334 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:43:15.698 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:43:15.928 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:43:15.964 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:43:15.981 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 15:43:15.996 +03:00 [INF] Applying migration '20221108124302_mig3'.
2022-11-08 15:43:16.033 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2022-11-08 15:43:16.034 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ALTER COLUMN "CustomerId" DROP NOT NULL;
2022-11-08 15:43:16.045 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD CONSTRAINT "FK_Orders_Customers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "Customers" ("Id");
2022-11-08 15:43:16.046 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108124302_mig3', '6.0.8');
2022-11-08 15:45:42.119 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:45:47.321 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:45:47.490 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:45:47.503 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:45:47.509 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 15:45:47.524 +03:00 [INF] Applying migration '20221108124542_mig4'.
2022-11-08 15:45:47.551 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "OrderProduct";
2022-11-08 15:45:47.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108124542_mig4', '6.0.8');
2022-11-08 15:56:19.500 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:56:25.348 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 15:56:25.540 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:56:25.563 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 15:56:25.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 15:56:25.588 +03:00 [INF] Applying migration '20221108125619_mig5'.
2022-11-08 15:56:25.614 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP CONSTRAINT "FK_Orders_Customers_CustomerId";
2022-11-08 15:56:25.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Orders_CustomerId";
2022-11-08 15:56:25.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "CustomerId";
2022-11-08 15:56:25.618 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "BasketId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2022-11-08 15:56:25.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108125619_mig5', '6.0.8');
2022-11-08 16:18:05.501 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 16:18:05.685 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 16:18:05.686 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 16:18:05.687 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 16:18:05.687 +03:00 [INF] Hosting environment: Development
2022-11-08 16:18:05.687 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 16:19:16.002 +03:00 [INF] Application is shutting down...
2022-11-08 16:19:19.467 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 16:19:19.612 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 16:19:19.612 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 16:19:19.613 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 16:19:19.614 +03:00 [INF] Hosting environment: Development
2022-11-08 16:19:19.614 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 16:52:29.597 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 16:52:29.597 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:52:29.835 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:29.836 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:29.885 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 302.6491ms
2022-11-08 16:52:29.885 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 301.3340ms
2022-11-08 16:52:29.907 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 16:52:29.907 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:52:29.938 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:29.939 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:30.001 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:52:30.067 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 16:52:30.088 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 16:52:30.120 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 36.903ms
2022-11-08 16:52:30.129 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:52:30.130 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 222.8958ms
2022-11-08 16:52:30.282 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:52:30.282 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:30.282 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6916ms
2022-11-08 16:52:30.284 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:52:30.285 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:30.289 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:52:30.358 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 16:52:30.494 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 16:52:30.540 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 16:52:30.545 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 16:52:30.565 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 16:52:30.567 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 659.2260ms
2022-11-08 16:52:30.577 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 16:52:30.577 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:30.578 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.1982ms
2022-11-08 16:52:30.583 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 16:52:30.586 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:52:30.587 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:52:30.597 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 16:52:32.822 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:52:32.822 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:52:33.151 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 16:52:33.173 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 16:52:33.173 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 16:52:33.211 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 16:52:33.212 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 16:52:33.296 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2699.0504ms
2022-11-08 16:52:33.298 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:52:33.306 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 16:52:33.325 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 16:52:33.351 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 2767.7845ms
2022-11-08 16:52:33.369 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 16:52:33.395 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 3036.4344ms
2022-11-08 16:52:33.395 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:52:33.395 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 3111.1790ms
2022-11-08 16:53:53.611 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 16:53:53.616 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.618 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 8.2806ms
2022-11-08 16:53:53.618 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 16:53:53.619 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.631 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 16:53:53.636 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 16:53:53.638 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 16:53:53.638 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 16:53:53.639 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 20.0607ms
2022-11-08 16:53:53.653 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:53:53.653 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.653 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6322ms
2022-11-08 16:53:53.664 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:53:53.664 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.665 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:53:53.669 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 16:53:53.669 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.670 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6104ms
2022-11-08 16:53:53.670 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 16:53:53.671 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 16:53:53.672 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 16:53:53.672 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7157ms
2022-11-08 16:53:53.672 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:53.672 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:53:53.672 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:53:53.674 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.1340ms
2022-11-08 16:53:53.674 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 16:53:53.746 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:53:53.781 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 16:53:53.784 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 109.7643ms
2022-11-08 16:53:53.785 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:53:53.786 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 16:53:53.790 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 16:53:53.791 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 119.6954ms
2022-11-08 16:53:54.012 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:53:54.012 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:54.012 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3598ms
2022-11-08 16:53:54.013 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:53:54.013 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:54.013 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:53:54.013 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 16:53:54.017 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:53:54.037 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 16:53:54.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 16:53:54.045 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 16:53:54.048 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 33.1862ms
2022-11-08 16:53:54.048 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:53:54.048 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 35.5927ms
2022-11-08 16:53:55.994 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 16:53:55.996 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:55.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:53:55.997 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:55.997 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:53:55.998 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 16:53:55.999 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 16:53:56.001 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.9875ms
2022-11-08 16:53:56.002 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:53:56.003 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.0388ms
2022-11-08 16:53:56.003 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 16:53:56.004 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 16:53:56.004 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 16:53:56.005 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 16:53:56.005 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 10.8843ms
2022-11-08 16:53:56.070 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:53:56.074 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:56.075 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 16:53:56.075 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:53:56.077 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:53:56.076 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:53:56.226 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 16:53:56.226 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 16:53:56.238 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:53:56.250 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:53:56.258 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 16:53:56.258 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 16:53:56.260 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 16:53:56.261 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 35.3265ms
2022-11-08 16:53:56.262 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:53:56.262 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 16:53:56.266 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 16:53:56.267 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 191.8526ms
2022-11-08 16:53:56.274 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 16:53:56.289 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 63.1122ms
2022-11-08 16:53:56.289 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:53:56.290 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 219.6254ms
2022-11-08 16:54:04.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 16:54:04.169 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:04.171 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 3.6809ms
2022-11-08 16:54:04.183 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 16:54:04.184 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:04.186 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 16:54:04.212 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 16:54:04.621 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:54:04.657 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 16:54:04.683 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 16:54:04.694 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 16:54:04.699 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 16:54:04.700 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 16:54:04.760 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 16:54:04.917 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 16:54:04.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 16:54:04.944 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 731.6757ms
2022-11-08 16:54:04.944 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 16:54:04.944 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 761.3905ms
2022-11-08 16:54:06.466 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:54:06.466 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:06.467 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5172ms
2022-11-08 16:54:06.467 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:54:06.468 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:06.468 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:54:06.468 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 16:54:06.468 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 16:54:06.469 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3478ms
2022-11-08 16:54:06.469 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:54:06.469 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.8911ms
2022-11-08 16:54:06.473 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:54:06.473 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:06.474 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5822ms
2022-11-08 16:54:06.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:54:06.475 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:06.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:54:06.475 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 16:54:06.477 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:54:06.481 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 16:54:06.482 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 16:54:06.488 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 16:54:06.489 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.3579ms
2022-11-08 16:54:06.489 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:54:06.489 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.5249ms
2022-11-08 16:54:08.290 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 16:54:08.290 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:08.291 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6970ms
2022-11-08 16:54:08.292 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 16:54:08.292 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:08.323 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 16:54:08.327 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 16:54:08.338 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:54:08.387 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 16:54:08.438 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 16:54:08.446 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 16:54:08.485 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 16:54:08.524 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 16:54:08.527 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 199.7518ms
2022-11-08 16:54:08.527 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 16:54:08.529 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 237.1730ms
2022-11-08 16:54:10.329 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 16:54:10.330 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:10.330 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.0149ms
2022-11-08 16:54:10.331 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 16:54:10.331 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:10.332 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 16:54:10.338 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 16:54:10.362 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 23.2733ms
2022-11-08 16:54:10.362 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 16:54:10.363 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Beklenmeyen bir hata ile karşılaşıldı)
 ---> System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ECommerce.Persistence.Services.BasketService.ContextUser() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/BasketService.cs:line 71
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at ECommerce.Persistence.Services.BasketService.get_GetUserActiveBasket() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/BasketService.cs:line 124
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 16:54:10.367 +03:00 [ERR] One or more errors occurred. (Beklenmeyen bir hata ile karşılaşıldı)
2022-11-08 16:54:10.367 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 36.5480ms
2022-11-08 16:54:20.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 16:54:20.731 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:20.737 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 9.2298ms
2022-11-08 16:54:20.747 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 16:54:20.748 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:54:20.752 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 16:54:20.758 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 16:54:20.772 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 14.1122ms
2022-11-08 16:54:20.772 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 16:54:20.773 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (Beklenmeyen bir hata ile karşılaşıldı)
 ---> System.Exception: Beklenmeyen bir hata ile karşılaşıldı
   at ECommerce.Persistence.Services.BasketService.ContextUser() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/BasketService.cs:line 71
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at ECommerce.Persistence.Services.BasketService.get_GetUserActiveBasket() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/BasketService.cs:line 124
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 16:54:20.778 +03:00 [ERR] One or more errors occurred. (Beklenmeyen bir hata ile karşılaşıldı)
2022-11-08 16:54:20.778 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 32.0458ms
2022-11-08 16:57:50.042 +03:00 [INF] Application is shutting down...
2022-11-08 16:58:58.913 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 16:58:59.205 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 16:58:59.205 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 16:58:59.209 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 16:58:59.209 +03:00 [INF] Hosting environment: Development
2022-11-08 16:58:59.209 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 16:59:28.026 +03:00 [INF] Application is shutting down...
2022-11-08 16:59:30.949 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 16:59:31.115 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 16:59:31.115 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 16:59:31.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 16:59:31.118 +03:00 [INF] Hosting environment: Development
2022-11-08 16:59:31.118 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 16:59:55.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:59:55.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 16:59:55.771 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:55.771 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:55.779 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 78.6883ms
2022-11-08 16:59:55.779 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 78.7010ms
2022-11-08 16:59:55.787 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 16:59:55.787 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 16:59:55.799 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:55.799 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:55.819 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:59:55.840 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 16:59:55.850 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 16:59:55.869 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 17.376ms
2022-11-08 16:59:55.872 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 16:59:55.873 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 85.3713ms
2022-11-08 16:59:56.166 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:59:56.167 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:56.167 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5742ms
2022-11-08 16:59:56.171 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 16:59:56.175 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 16:59:56.203 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:56.204 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 16:59:56.204 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:59:56.209 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 16:59:56.223 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 16:59:56.224 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 436.4190ms
2022-11-08 16:59:56.248 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 16:59:56.342 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 16:59:56.343 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:56.343 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.6078ms
2022-11-08 16:59:56.344 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 16:59:56.346 +03:00 [INF] CORS policy execution successful.
2022-11-08 16:59:56.346 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:59:56.350 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 16:59:58.022 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:59:58.022 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 16:59:58.340 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 16:59:58.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 16:59:58.377 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 16:59:58.400 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 16:59:58.401 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 16:59:58.526 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 16:59:58.538 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 16:59:58.563 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2314.7327ms
2022-11-08 16:59:58.564 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 16:59:58.580 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2404.8557ms
2022-11-08 16:59:58.699 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 16:59:58.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 16:59:58.735 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2384.4238ms
2022-11-08 16:59:58.736 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 16:59:58.736 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 2392.0911ms
2022-11-08 17:00:18.938 +03:00 [INF] Application is shutting down...
2022-11-08 17:01:10.854 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 17:01:11.013 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 17:01:11.013 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 17:01:11.015 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 17:01:11.016 +03:00 [INF] Hosting environment: Development
2022-11-08 17:01:11.016 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 17:04:30.987 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:04:30.987 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:04:31.034 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.034 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.041 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 57.5534ms
2022-11-08 17:04:31.041 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 57.5550ms
2022-11-08 17:04:31.047 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:04:31.047 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:04:31.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.070 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:04:31.090 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:04:31.101 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:04:31.116 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 18.1853ms
2022-11-08 17:04:31.119 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:04:31.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 72.5202ms
2022-11-08 17:04:31.157 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:04:31.157 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.158 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5522ms
2022-11-08 17:04:31.159 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:04:31.159 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:31.160 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:04:31.184 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:04:31.311 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:31.316 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:04:32.279 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:04:32.283 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:32.286 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:32.286 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:04:32.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:04:32.290 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:32.290 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:04:32.291 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:04:32.297 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:04:32.297 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 5.434ms
2022-11-08 17:04:32.297 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:04:32.298 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.1183ms
2022-11-08 17:04:32.357 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:04:32.357 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:32.357 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:04:32.357 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:04:33.085 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:04:33.085 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:04:33.085 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:04:33.085 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:04:33.396 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:04:33.404 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:04:33.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:04:33.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:04:33.443 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:04:33.444 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:04:33.475 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:04:33.475 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:04:33.494 +03:00 [ERR] An error occurred using the connection to database 'ECommerceDb' on server ''.
2022-11-08 17:04:33.517 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ECommerce.Persistence.Contexts.ECommerceDbContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Npgsql.TaskExtensions.ExecuteWithTimeout[TResult](Func`2 func, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithCancellation[T](Task`1 task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout[T](Task`1 task, NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|195_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Npgsql.TaskExtensions.ExecuteWithTimeout[TResult](Func`2 func, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithCancellation[T](Task`1 task, CancellationToken cancellationToken)
   at Npgsql.TaskExtensions.WithTimeout[T](Task`1 task, NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|195_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2022-11-08 17:04:33.523 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2338.3677ms
2022-11-08 17:04:33.523 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:04:33.531 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 0 - application/json;+charset=utf-8 2372.3561ms
2022-11-08 17:04:33.534 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:04:33.619 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 1261.64ms
2022-11-08 17:04:33.620 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:04:33.626 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 1269.8050ms
2022-11-08 17:04:33.674 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:33.675 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:33.686 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:33.686 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:33.760 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:04:33.760 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:04:33.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:04:33.811 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:04:33.814 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 1528.5029ms
2022-11-08 17:04:33.815 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:33.815 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2498.8364ms
2022-11-08 17:04:33.815 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:33.816 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 0 - application/json;+charset=utf-8 2769.5623ms
2022-11-08 17:04:33.816 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 1537.3297ms
2022-11-08 17:04:34.869 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:04:34.870 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:34.873 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:34.873 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:04:34.919 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:04:34.940 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:04:34.944 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:34.956 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:04:34.968 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:04:34.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:04:34.971 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 97.4055ms
2022-11-08 17:04:34.971 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:04:34.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 101.9065ms
2022-11-08 17:04:36.393 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:04:36.394 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:36.394 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.0134ms
2022-11-08 17:04:36.395 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:04:36.396 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:36.398 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 17:04:36.405 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-11-08 17:04:36.406 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 302 0 - 10.6482ms
2022-11-08 17:04:36.412 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders - -
2022-11-08 17:04:36.412 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:36.413 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders - - - 204 - - 1.2402ms
2022-11-08 17:04:36.416 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders application/json -
2022-11-08 17:04:36.417 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:36.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders application/json - - 404 0 - 1.2256ms
2022-11-08 17:04:43.182 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:04:43.183 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:43.183 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.3839ms
2022-11-08 17:04:43.184 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:04:43.184 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:43.185 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 17:04:43.185 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2022-11-08 17:04:43.186 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 302 0 - 1.2918ms
2022-11-08 17:04:43.188 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders - -
2022-11-08 17:04:43.188 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:43.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders - - - 204 - - 0.3532ms
2022-11-08 17:04:43.189 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders application/json -
2022-11-08 17:04:43.189 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:04:43.189 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/Account/Login?ReturnUrl=%2Fapi%2Forders application/json - - 404 0 - 0.4643ms
2022-11-08 17:06:20.108 +03:00 [INF] Application is shutting down...
2022-11-08 17:06:25.785 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 17:06:25.999 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 17:06:25.999 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 17:06:26.003 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 17:06:26.003 +03:00 [INF] Hosting environment: Development
2022-11-08 17:06:26.004 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 17:06:28.033 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:06:28.086 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:28.094 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 64.0238ms
2022-11-08 17:06:28.099 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:06:28.102 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:28.389 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:06:28.423 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:06:30.155 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:06:30.759 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:06:30.932 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:30.940 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:31.090 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerce.Persistence.Contexts.ECommerceDbContext'.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-11-08 17:06:31.110 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 2681.3167ms
2022-11-08 17:06:31.111 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:06:31.112 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerce.Persistence.Contexts.ECommerceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Contexts/ECommerceDbContext.cs:line 42
   at ECommerce.Persistence.Repositories.WriteRepository`1.SaveAsync() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Repositories/WriteRepository.cs:line 56
   at ECommerce.Persistence.Services.OrderService.CreateOrderAsync(CreateOrder createOrder) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/OrderService.cs:line 25
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 17:06:31.125 +03:00 [ERR] The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
2022-11-08 17:06:31.133 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 3033.8284ms
2022-11-08 17:06:45.663 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:06:45.666 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:45.667 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.2047ms
2022-11-08 17:06:45.668 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:06:45.685 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:45.692 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:06:45.701 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:06:45.719 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:06:45.719 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:45.719 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3942ms
2022-11-08 17:06:45.721 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:06:45.721 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:45.721 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:06:45.723 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:06:45.730 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:06:45.733 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 10.3332ms
2022-11-08 17:06:45.733 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:06:45.733 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 12.8774ms
2022-11-08 17:06:45.757 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:06:45.780 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:06:45.786 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:45.790 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:45.840 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:06:45.903 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:06:45.910 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 209.2491ms
2022-11-08 17:06:45.912 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:06:45.926 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 257.6344ms
2022-11-08 17:06:46.121 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:06:46.121 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:46.121 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4948ms
2022-11-08 17:06:46.122 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:06:46.123 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:46.123 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:06:46.128 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:06:46.164 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:06:46.204 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:06:46.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:06:46.237 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:06:46.238 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:06:46.271 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:06:46.302 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 173.8176ms
2022-11-08 17:06:46.302 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:06:46.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 179.8951ms
2022-11-08 17:06:48.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:06:48.704 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:48.706 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:06:48.707 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:06:48.709 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:06:48.724 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:06:48.729 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:48.735 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:48.746 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:06:48.747 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:06:48.747 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 40.1539ms
2022-11-08 17:06:48.747 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:06:48.747 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 43.7967ms
2022-11-08 17:06:49.708 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:06:49.708 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:49.708 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.7589ms
2022-11-08 17:06:49.709 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:06:49.710 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:06:49.711 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:06:49.711 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:06:49.715 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:06:49.728 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:06:49.732 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:49.735 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:06:49.737 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerce.Persistence.Contexts.ECommerceDbContext'.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-11-08 17:06:49.740 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 28.9875ms
2022-11-08 17:06:49.740 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:06:49.741 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerce.Persistence.Contexts.ECommerceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Contexts/ECommerceDbContext.cs:line 42
   at ECommerce.Persistence.Repositories.WriteRepository`1.SaveAsync() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Repositories/WriteRepository.cs:line 56
   at ECommerce.Persistence.Services.OrderService.CreateOrderAsync(CreateOrder createOrder) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/OrderService.cs:line 25
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 17:06:49.745 +03:00 [ERR] The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
2022-11-08 17:06:49.745 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 35.8532ms
2022-11-08 17:07:01.617 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:07:01.618 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:07:01.619 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 2.5112ms
2022-11-08 17:07:01.621 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:07:01.621 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:07:01.623 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:07:01.623 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:07:01.645 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:07:01.687 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:07:01.693 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:07:01.695 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:07:01.697 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerce.Persistence.Contexts.ECommerceDbContext'.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-11-08 17:07:01.699 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 75.6324ms
2022-11-08 17:07:01.699 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:07:01.700 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerce.Persistence.Contexts.ECommerceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Contexts/ECommerceDbContext.cs:line 42
   at ECommerce.Persistence.Repositories.WriteRepository`1.SaveAsync() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Repositories/WriteRepository.cs:line 56
   at ECommerce.Persistence.Services.OrderService.CreateOrderAsync(CreateOrder createOrder) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/OrderService.cs:line 25
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 17:07:01.704 +03:00 [ERR] The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
2022-11-08 17:07:01.704 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 83.7582ms
2022-11-08 17:08:38.376 +03:00 [INF] Application is shutting down...
2022-11-08 17:08:42.890 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 17:08:43.047 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 17:08:43.047 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 17:08:43.050 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 17:08:43.050 +03:00 [INF] Hosting environment: Development
2022-11-08 17:08:43.050 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 17:08:46.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:08:46.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:08:46.792 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:46.792 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:46.803 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 68.3491ms
2022-11-08 17:08:46.803 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 68.3254ms
2022-11-08 17:08:46.814 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:08:46.817 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:08:46.825 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:46.826 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:46.844 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:08:46.864 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:08:46.876 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:08:46.890 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 17.9653ms
2022-11-08 17:08:46.894 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:08:46.894 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 77.3868ms
2022-11-08 17:08:47.154 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:08:47.154 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:47.154 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5650ms
2022-11-08 17:08:47.155 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:08:47.156 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:47.157 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:08:47.188 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:08:47.195 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:08:47.195 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:08:48.921 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:08:48.921 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:08:49.243 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:08:49.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:08:49.288 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:08:49.289 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:08:49.318 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:08:49.371 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:08:49.403 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2207.622ms
2022-11-08 17:08:49.404 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:08:49.425 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2269.8261ms
2022-11-08 17:08:49.484 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:49.492 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:49.571 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:08:49.623 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:08:49.627 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2431.6352ms
2022-11-08 17:08:49.627 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:08:49.629 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 2814.9739ms
2022-11-08 17:08:50.281 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:08:50.281 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:50.283 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:08:50.283 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:08:50.325 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:08:50.332 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:08:50.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:50.347 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:50.358 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:08:50.359 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:08:50.359 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 75.9432ms
2022-11-08 17:08:50.359 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:08:50.359 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 78.3010ms
2022-11-08 17:08:51.792 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:08:51.793 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:51.793 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.7327ms
2022-11-08 17:08:51.794 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:08:51.794 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:08:51.797 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:08:51.803 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:08:51.829 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:08:51.833 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:08:51.838 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:51.841 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."BasketId", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:08:51.945 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerce.Persistence.Contexts.ECommerceDbContext'.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-11-08 17:08:51.958 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 154.865ms
2022-11-08 17:08:51.958 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:08:51.959 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ECommerce.Persistence.Contexts.ECommerceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Contexts/ECommerceDbContext.cs:line 42
   at ECommerce.Persistence.Repositories.WriteRepository`1.SaveAsync() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Repositories/WriteRepository.cs:line 56
   at ECommerce.Persistence.Services.OrderService.CreateOrderAsync(CreateOrder createOrder) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/OrderService.cs:line 26
   at ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandHandler.Handle(CreateOrderCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/Order/CreateOrder/CreateOrderCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.OrdersController.CreateOrder(CreateOrderCommandRequest createOrderCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/OrdersController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 17:08:51.971 +03:00 [ERR] The value of 'Order.Id' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
2022-11-08 17:08:51.974 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 500 - application/json 179.4130ms
2022-11-08 17:11:17.856 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:11:27.237 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:11:27.459 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 17:11:27.477 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 17:11:27.487 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 17:11:27.509 +03:00 [INF] Applying migration '20221108141118_mig6'.
2022-11-08 17:11:27.550 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" DROP COLUMN "BasketId";
2022-11-08 17:11:27.552 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108141118_mig6', '6.0.8');
2022-11-08 17:11:58.143 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 17:11:58.325 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 17:11:58.325 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 17:11:58.328 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 17:11:58.328 +03:00 [INF] Hosting environment: Development
2022-11-08 17:11:58.328 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 17:12:41.879 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:12:41.879 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:12:41.944 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:41.944 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:41.954 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 78.6270ms
2022-11-08 17:12:41.954 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 78.6987ms
2022-11-08 17:12:41.964 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:12:41.964 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:12:41.977 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:41.977 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:41.999 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:12:42.022 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:12:42.039 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:12:42.057 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 25.2827ms
2022-11-08 17:12:42.060 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:12:42.060 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 95.8015ms
2022-11-08 17:12:42.346 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:12:42.346 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:42.346 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5862ms
2022-11-08 17:12:42.348 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:12:42.348 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:42.350 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:12:42.356 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:12:42.385 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:12:42.385 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:12:44.097 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:12:44.097 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:12:44.408 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:12:44.427 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:12:44.450 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:12:44.451 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 17:12:44.512 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:12:44.535 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:12:44.566 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2181.3703ms
2022-11-08 17:12:44.567 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:12:44.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2239.8772ms
2022-11-08 17:12:44.667 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:44.676 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:44.745 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:12:44.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:12:44.798 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2412.5539ms
2022-11-08 17:12:44.798 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:12:44.799 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 2835.0372ms
2022-11-08 17:12:45.491 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:12:45.492 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:45.493 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:12:45.493 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:12:45.535 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:12:45.544 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:12:45.563 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:45.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:45.569 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:12:45.570 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:12:45.570 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 77.3363ms
2022-11-08 17:12:45.571 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:12:45.571 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 79.3904ms
2022-11-08 17:12:47.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:12:47.017 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:47.018 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.5427ms
2022-11-08 17:12:47.020 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:12:47.021 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:12:47.023 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:12:47.031 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:12:47.057 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:12:47.075 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:12:47.079 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:47.081 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:12:47.312 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 17:12:47.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 17:12:47.356 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 325.4156ms
2022-11-08 17:12:47.357 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:12:47.357 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 336.7652ms
2022-11-08 17:13:23.324 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:13:23.327 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:23.328 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.0073ms
2022-11-08 17:13:23.330 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:13:23.330 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:23.333 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:23.334 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:23.378 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:23.407 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:23.413 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:23.457 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 17:13:23.469 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:13:23.471 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:13:23.471 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 136.4505ms
2022-11-08 17:13:23.471 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:23.471 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 141.3275ms
2022-11-08 17:13:29.657 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:13:29.658 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:29.658 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6252ms
2022-11-08 17:13:29.660 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:13:29.661 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:29.661 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:13:29.662 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:13:29.676 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:13:29.676 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6897ms
2022-11-08 17:13:29.676 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:13:29.676 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 16.0217ms
2022-11-08 17:13:29.684 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:13:29.684 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:29.684 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3624ms
2022-11-08 17:13:29.688 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:13:29.688 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:29.689 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:13:29.689 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:13:29.691 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:29.695 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:13:29.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:13:29.704 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:13:29.705 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.7907ms
2022-11-08 17:13:29.705 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:13:29.705 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.2568ms
2022-11-08 17:13:30.939 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:13:30.939 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:30.940 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5117ms
2022-11-08 17:13:30.941 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:13:30.941 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:30.942 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:30.946 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:30.986 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:30.994 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:30.997 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:31.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:31.021 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:13:31.041 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:13:31.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:13:31.047 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 99.9457ms
2022-11-08 17:13:31.047 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:31.047 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 105.7755ms
2022-11-08 17:13:32.204 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:13:32.205 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:32.205 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:32.206 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:32.207 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:32.212 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:32.218 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:32.222 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:32.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:13:32.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:13:32.229 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 22.8712ms
2022-11-08 17:13:32.229 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:32.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 24.8409ms
2022-11-08 17:13:34.668 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:13:34.668 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:34.669 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:34.669 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:34.671 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:34.684 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:34.688 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:34.690 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:34.698 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:13:34.703 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:13:34.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:13:34.711 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 41.7797ms
2022-11-08 17:13:34.711 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:34.711 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 43.4303ms
2022-11-08 17:13:35.333 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:13:35.334 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:35.335 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:35.335 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:35.339 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:35.344 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:35.350 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:35.353 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:35.361 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:13:35.372 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 17:13:35.375 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:13:35.376 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 40.5523ms
2022-11-08 17:13:35.376 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:13:35.376 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 42.5614ms
2022-11-08 17:13:36.738 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:13:36.739 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:36.739 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8437ms
2022-11-08 17:13:36.740 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:13:36.741 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:13:36.742 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:36.742 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:13:36.744 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:13:36.748 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:13:36.752 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:36.755 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:13:36.761 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:13:36.762 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:13:36.762 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.7902ms
2022-11-08 17:13:36.762 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:13:36.762 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 22.0472ms
2022-11-08 17:16:19.890 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:16:19.892 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:19.893 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.4933ms
2022-11-08 17:16:19.896 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:16:19.896 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:19.896 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4501ms
2022-11-08 17:16:19.898 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:16:19.898 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:19.904 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 17:16:19.922 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:16:19.923 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:19.923 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:16:19.924 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:16:19.924 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 17:16:19.925 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:16:19.926 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.4448ms
2022-11-08 17:16:19.926 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:16:19.926 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 17:16:19.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.9540ms
2022-11-08 17:16:19.939 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 17:16:19.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 41.6045ms
2022-11-08 17:16:20.187 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:16:20.187 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:20.187 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5044ms
2022-11-08 17:16:20.188 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:16:20.188 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:20.188 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:16:20.188 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:16:20.189 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 17:16:20.189 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:20.189 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4919ms
2022-11-08 17:16:20.190 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 17:16:20.192 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:20.193 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 17:16:20.199 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:16:20.200 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 17:16:20.222 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:16:20.223 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:16:20.225 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:16:20.231 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:16:20.236 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 47.4978ms
2022-11-08 17:16:20.236 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:16:20.236 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 48.5101ms
2022-11-08 17:16:20.236 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 17:16:20.269 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 17:16:20.293 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 17:16:20.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 17:16:20.303 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 101.3543ms
2022-11-08 17:16:20.303 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 17:16:20.303 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 112.9123ms
2022-11-08 17:16:36.143 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:16:36.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.146 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.6499ms
2022-11-08 17:16:36.147 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:16:36.147 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.150 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:16:36.151 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:16:36.158 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:16:36.168 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:16:36.169 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.169 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.8020ms
2022-11-08 17:16:36.172 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:16:36.172 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.172 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:16:36.173 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:16:36.173 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:16:36.174 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:16:36.174 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.9133ms
2022-11-08 17:16:36.174 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:16:36.174 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.1415ms
2022-11-08 17:16:36.180 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:16:36.184 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:16:36.189 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:16:36.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:16:36.192 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 40.491ms
2022-11-08 17:16:36.192 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:16:36.192 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 45.7687ms
2022-11-08 17:16:36.370 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:16:36.370 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.371 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6115ms
2022-11-08 17:16:36.371 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:16:36.372 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:36.373 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:16:36.373 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:16:36.375 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:16:36.379 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:16:36.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:16:36.386 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:16:36.386 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.8212ms
2022-11-08 17:16:36.386 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:16:36.386 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.8697ms
2022-11-08 17:16:41.668 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:16:41.668 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:41.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.5614ms
2022-11-08 17:16:41.670 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:16:41.670 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:16:41.671 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:16:41.671 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:16:41.675 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:16:41.679 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:16:41.684 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:16:41.688 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:16:41.693 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 17:16:41.697 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 17:16:41.697 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 25.589ms
2022-11-08 17:16:41.697 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:16:41.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 27.5075ms
2022-11-08 17:17:56.209 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:17:56.228 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:56.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 26.4981ms
2022-11-08 17:17:56.239 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:17:56.241 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:56.252 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:56.266 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:17:56.288 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:17:56.464 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:17:56.471 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:17:56.483 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 17:17:56.501 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:17:56.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:17:56.503 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 236.3842ms
2022-11-08 17:17:56.503 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:56.504 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 265.1272ms
2022-11-08 17:17:56.623 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:17:56.623 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:56.624 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:56.624 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:17:56.625 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:17:56.630 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:17:56.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:17:56.637 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:17:56.642 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:17:56.644 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:17:56.645 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.3553ms
2022-11-08 17:17:56.645 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:56.645 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 21.8247ms
2022-11-08 17:17:56.696 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:17:56.696 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:56.696 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5034ms
2022-11-08 17:17:56.729 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:17:56.729 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:56.734 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 5.0481ms
2022-11-08 17:17:58.972 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:17:58.973 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:58.977 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:58.979 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:17:58.985 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:17:59.019 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:17:59.043 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:17:59.047 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:17:59.052 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:17:59.052 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:17:59.053 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 73.6823ms
2022-11-08 17:17:59.053 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:59.053 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 81.5148ms
2022-11-08 17:17:59.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:17:59.997 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:17:59.998 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:17:59.998 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:18:00.002 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:00.020 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:00.033 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:00.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:00.043 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:18:00.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:18:00.043 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 44.6333ms
2022-11-08 17:18:00.043 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:18:00.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 46.3443ms
2022-11-08 17:18:00.053 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:00.053 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:00.053 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.3765ms
2022-11-08 17:18:00.055 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:00.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:00.055 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5435ms
2022-11-08 17:18:01.039 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:18:01.040 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:01.044 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:18:01.045 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:18:01.051 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:01.089 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:01.092 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:01.095 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:01.101 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:18:01.102 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:18:01.103 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 57.7935ms
2022-11-08 17:18:01.103 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:18:01.103 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 64.7841ms
2022-11-08 17:18:02.744 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:02.745 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:02.745 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.0199ms
2022-11-08 17:18:02.746 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:02.747 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:02.747 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4256ms
2022-11-08 17:18:04.765 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:04.765 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:04.766 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5709ms
2022-11-08 17:18:04.767 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:04.767 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:04.767 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4633ms
2022-11-08 17:18:06.780 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:06.780 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:06.780 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5016ms
2022-11-08 17:18:06.781 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:06.782 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:06.782 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3553ms
2022-11-08 17:18:08.799 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:08.800 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:08.800 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6207ms
2022-11-08 17:18:08.801 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:08.801 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:08.802 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5077ms
2022-11-08 17:18:10.047 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:18:10.047 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.047 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6633ms
2022-11-08 17:18:10.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:18:10.049 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.049 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:18:10.050 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:18:10.050 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:18:10.050 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5402ms
2022-11-08 17:18:10.050 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:18:10.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7405ms
2022-11-08 17:18:10.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:18:10.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4223ms
2022-11-08 17:18:10.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:18:10.057 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.057 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:18:10.057 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:18:10.061 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:10.069 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:18:10.070 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:18:10.084 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:18:10.086 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 28.5445ms
2022-11-08 17:18:10.086 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:18:10.086 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 29.8602ms
2022-11-08 17:18:10.816 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:10.816 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.817 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6246ms
2022-11-08 17:18:10.818 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:10.818 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:10.819 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.7110ms
2022-11-08 17:18:11.137 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:18:11.138 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:11.138 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7875ms
2022-11-08 17:18:11.139 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:18:11.139 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:11.140 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:18:11.140 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:18:11.144 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:11.150 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:11.156 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:11.161 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:11.168 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:18:11.174 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:18:11.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:18:11.179 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 38.66ms
2022-11-08 17:18:11.179 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:18:11.180 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 40.7500ms
2022-11-08 17:18:11.589 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:18:11.589 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:11.590 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:18:11.590 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:18:11.592 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:11.599 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:11.605 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:11.610 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:11.620 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:18:11.625 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:18:11.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:18:11.654 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 63.8412ms
2022-11-08 17:18:11.655 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:18:11.655 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 65.4907ms
2022-11-08 17:18:12.835 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:12.835 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:12.836 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5105ms
2022-11-08 17:18:12.837 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:12.837 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:12.837 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5418ms
2022-11-08 17:18:13.547 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:18:13.548 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:13.548 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:18:13.548 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:18:13.550 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:13.555 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:13.572 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:13.578 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:13.585 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:18:13.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:18:13.587 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 37.9373ms
2022-11-08 17:18:13.587 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:18:13.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 39.4822ms
2022-11-08 17:18:14.853 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:14.853 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:14.853 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5603ms
2022-11-08 17:18:14.855 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:14.855 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:14.856 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4960ms
2022-11-08 17:18:16.878 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:16.879 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:16.879 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.8284ms
2022-11-08 17:18:16.880 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:16.880 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:16.880 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5829ms
2022-11-08 17:18:18.899 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:18.899 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:18.899 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5063ms
2022-11-08 17:18:18.900 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:18.901 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:18.901 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4950ms
2022-11-08 17:18:19.102 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:18:19.102 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:19.102 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4128ms
2022-11-08 17:18:19.103 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:18:19.103 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:19.104 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:18:19.104 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:18:19.110 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:18:19.116 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:18:19.121 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:19.126 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:18:19.133 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 17:18:19.149 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 17:18:19.152 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 48.3096ms
2022-11-08 17:18:19.153 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:18:19.154 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 51.0302ms
2022-11-08 17:18:20.919 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:20.919 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:20.919 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5339ms
2022-11-08 17:18:20.920 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:20.921 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:20.921 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4646ms
2022-11-08 17:18:22.943 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:22.943 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:22.944 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.9993ms
2022-11-08 17:18:22.945 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:22.946 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:22.946 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5637ms
2022-11-08 17:18:24.962 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:24.962 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:24.962 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5076ms
2022-11-08 17:18:24.963 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:24.964 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:24.964 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3840ms
2022-11-08 17:18:26.984 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:26.985 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:26.986 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 2.1583ms
2022-11-08 17:18:26.987 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:26.987 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:26.988 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4287ms
2022-11-08 17:18:29.007 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:29.007 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:29.008 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5001ms
2022-11-08 17:18:29.009 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:29.009 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:29.009 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6459ms
2022-11-08 17:18:31.027 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:31.027 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:31.027 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4848ms
2022-11-08 17:18:31.028 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:31.028 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:31.029 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3265ms
2022-11-08 17:18:34.409 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:34.416 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:34.417 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 8.3420ms
2022-11-08 17:18:34.419 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:34.420 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:34.422 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 2.8189ms
2022-11-08 17:18:36.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:36.439 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:36.439 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.8439ms
2022-11-08 17:18:36.440 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:36.440 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:36.440 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.2861ms
2022-11-08 17:18:38.455 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:38.455 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:38.455 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.7562ms
2022-11-08 17:18:38.457 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:38.457 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:38.457 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4989ms
2022-11-08 17:18:40.471 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:40.471 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:40.471 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4510ms
2022-11-08 17:18:40.472 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:40.472 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:40.473 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6201ms
2022-11-08 17:18:43.232 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:43.233 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:43.233 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.4009ms
2022-11-08 17:18:43.234 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:43.235 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:43.235 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 1.0377ms
2022-11-08 17:18:46.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:46.161 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:46.161 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5952ms
2022-11-08 17:18:46.168 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:46.168 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:46.169 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5119ms
2022-11-08 17:18:49.131 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:49.132 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:49.132 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.7426ms
2022-11-08 17:18:49.134 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:49.134 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:49.135 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.8944ms
2022-11-08 17:18:52.033 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:52.034 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:52.034 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.9382ms
2022-11-08 17:18:52.036 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:52.036 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:52.036 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3935ms
2022-11-08 17:18:55.064 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:55.064 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:55.065 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.8239ms
2022-11-08 17:18:55.066 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:55.066 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:55.066 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4410ms
2022-11-08 17:18:58.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:18:58.033 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:58.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.0246ms
2022-11-08 17:18:58.035 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:18:58.035 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:18:58.035 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6309ms
2022-11-08 17:19:01.177 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:01.177 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:01.178 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5848ms
2022-11-08 17:19:01.180 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:01.180 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:01.188 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 8.5917ms
2022-11-08 17:19:04.217 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:04.217 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:04.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4986ms
2022-11-08 17:19:04.219 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:04.219 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:04.220 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5571ms
2022-11-08 17:19:07.148 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:07.149 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:07.149 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6729ms
2022-11-08 17:19:07.150 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:07.150 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:07.151 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6401ms
2022-11-08 17:19:10.101 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:10.102 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:10.102 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.1711ms
2022-11-08 17:19:10.104 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:10.105 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:10.105 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.9770ms
2022-11-08 17:19:13.045 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:13.046 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:13.046 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5494ms
2022-11-08 17:19:13.047 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:13.048 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:13.048 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5598ms
2022-11-08 17:19:16.042 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:16.042 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:16.043 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6128ms
2022-11-08 17:19:16.044 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:16.044 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:16.044 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4396ms
2022-11-08 17:19:19.047 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:19.048 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:19.048 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.9335ms
2022-11-08 17:19:19.049 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:19.049 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:19.050 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5232ms
2022-11-08 17:19:22.036 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:22.036 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:22.037 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4176ms
2022-11-08 17:19:22.039 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:22.039 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:22.039 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4799ms
2022-11-08 17:19:24.066 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:24.070 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:24.072 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 6.7870ms
2022-11-08 17:19:24.084 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:24.085 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:24.089 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 2.6940ms
2022-11-08 17:19:26.409 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:19:26.410 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:26.411 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.8416ms
2022-11-08 17:19:26.417 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:19:26.418 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:26.420 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:26.420 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:26.428 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:26.452 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:26.458 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:26.466 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 17:19:26.478 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:19:26.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:19:26.480 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 56.5284ms
2022-11-08 17:19:26.480 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:26.480 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 63.1413ms
2022-11-08 17:19:27.385 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:19:27.386 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:27.386 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:27.386 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:27.388 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:27.395 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:27.400 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:27.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:27.408 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:19:27.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:19:27.409 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 22.8451ms
2022-11-08 17:19:27.409 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:27.410 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 24.2092ms
2022-11-08 17:19:27.419 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:27.419 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:27.420 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4254ms
2022-11-08 17:19:27.421 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:27.421 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:27.422 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6539ms
2022-11-08 17:19:29.971 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:29.971 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:29.971 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4180ms
2022-11-08 17:19:29.972 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:29.972 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:29.973 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3892ms
2022-11-08 17:19:31.112 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:19:31.113 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:31.113 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:31.113 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:31.115 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:31.124 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:31.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:31.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:31.159 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:19:31.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:19:31.160 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 46.1252ms
2022-11-08 17:19:31.160 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:31.160 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 47.8287ms
2022-11-08 17:19:31.992 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:31.993 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:31.993 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6624ms
2022-11-08 17:19:31.994 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:31.995 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:31.995 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4807ms
2022-11-08 17:19:33.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:19:33.704 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:33.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8635ms
2022-11-08 17:19:33.716 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:19:33.716 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:33.717 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:33.777 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:33.778 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:33.784 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:33.793 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:33.796 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:33.801 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:19:33.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:19:33.803 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 25.9816ms
2022-11-08 17:19:33.803 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:33.803 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 87.1097ms
2022-11-08 17:19:34.220 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:34.221 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:34.221 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4363ms
2022-11-08 17:19:34.222 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:34.222 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:34.222 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3345ms
2022-11-08 17:19:36.349 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:36.350 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:36.350 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4694ms
2022-11-08 17:19:36.351 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:36.351 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:36.351 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3276ms
2022-11-08 17:19:38.372 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:38.373 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:38.373 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.9421ms
2022-11-08 17:19:38.375 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:38.375 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:38.375 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6467ms
2022-11-08 17:19:40.389 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:40.389 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.390 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.8382ms
2022-11-08 17:19:40.391 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:40.391 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.391 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5481ms
2022-11-08 17:19:40.856 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:19:40.856 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.857 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.5351ms
2022-11-08 17:19:40.858 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:19:40.858 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.859 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:19:40.859 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:19:40.859 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:19:40.859 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2913ms
2022-11-08 17:19:40.861 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:19:40.861 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.2597ms
2022-11-08 17:19:40.865 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:19:40.865 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.865 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3160ms
2022-11-08 17:19:40.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:19:40.866 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:40.866 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:19:40.866 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:19:40.868 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:40.873 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:19:40.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:19:40.880 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:19:40.881 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.7598ms
2022-11-08 17:19:40.881 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:19:40.881 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.7322ms
2022-11-08 17:19:42.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:19:42.030 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:42.031 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4481ms
2022-11-08 17:19:42.032 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:19:42.032 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:42.032 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:19:42.033 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:42.036 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:42.044 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:42.048 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:42.052 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:42.065 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:19:42.070 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:19:42.074 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:19:42.074 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 41.3482ms
2022-11-08 17:19:42.074 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:19:42.074 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 42.8415ms
2022-11-08 17:19:42.406 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:42.406 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:42.407 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6381ms
2022-11-08 17:19:42.408 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:42.408 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:42.409 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6285ms
2022-11-08 17:19:44.123 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:19:44.123 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:44.124 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:44.124 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:19:44.127 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:44.133 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:44.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:44.142 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:44.148 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:19:44.150 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:19:44.150 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.0706ms
2022-11-08 17:19:44.150 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:19:44.150 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.8355ms
2022-11-08 17:19:44.423 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:44.423 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:44.424 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4477ms
2022-11-08 17:19:44.425 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:44.425 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:44.426 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4191ms
2022-11-08 17:19:46.445 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:46.445 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:46.445 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4305ms
2022-11-08 17:19:46.446 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:46.447 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:46.447 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3128ms
2022-11-08 17:19:47.858 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:19:47.859 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:47.859 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.7437ms
2022-11-08 17:19:47.860 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:19:47.861 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:47.862 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:19:47.870 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:19:47.874 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:19:47.880 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:19:47.885 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:47.889 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:19:47.894 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 17:19:47.898 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 17:19:47.898 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 28.1272ms
2022-11-08 17:19:47.898 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:19:47.898 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 38.0081ms
2022-11-08 17:19:48.467 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:48.468 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:48.468 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4298ms
2022-11-08 17:19:48.469 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:48.469 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:48.469 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4047ms
2022-11-08 17:19:50.487 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:50.487 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:50.487 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5123ms
2022-11-08 17:19:50.488 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:50.489 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:50.489 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.2963ms
2022-11-08 17:19:52.509 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:52.510 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:52.510 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6595ms
2022-11-08 17:19:52.511 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:52.511 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:52.511 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3589ms
2022-11-08 17:19:54.529 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:54.530 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:54.530 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6367ms
2022-11-08 17:19:54.532 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:54.532 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:54.532 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4549ms
2022-11-08 17:19:56.549 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:56.550 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:56.550 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4718ms
2022-11-08 17:19:56.551 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:56.551 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:56.551 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.2665ms
2022-11-08 17:19:58.573 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:19:58.573 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:58.573 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.7917ms
2022-11-08 17:19:58.574 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:19:58.574 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:19:58.575 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.2572ms
2022-11-08 17:20:00.592 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:00.592 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:00.593 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6340ms
2022-11-08 17:20:00.594 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:00.594 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:00.594 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6435ms
2022-11-08 17:20:02.614 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:02.614 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:02.614 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6080ms
2022-11-08 17:20:02.616 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:02.616 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:02.617 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4047ms
2022-11-08 17:20:04.636 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:04.637 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:04.637 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.8636ms
2022-11-08 17:20:04.638 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:04.638 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:04.639 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5170ms
2022-11-08 17:20:06.655 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:06.656 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:06.656 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4697ms
2022-11-08 17:20:06.657 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:06.657 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:06.657 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3658ms
2022-11-08 17:20:08.676 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:08.676 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:08.677 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5953ms
2022-11-08 17:20:08.678 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:08.678 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:08.678 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3653ms
2022-11-08 17:20:10.101 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:20:10.101 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:10.101 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4719ms
2022-11-08 17:20:10.102 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:20:10.102 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:10.104 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:10.104 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:10.110 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:10.117 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:10.122 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:10.128 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 17:20:10.134 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:20:10.135 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:20:10.135 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 30.4191ms
2022-11-08 17:20:10.135 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:10.136 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 33.7193ms
2022-11-08 17:20:10.138 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:10.138 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:10.138 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.5018ms
2022-11-08 17:20:10.139 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:10.139 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:10.141 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 1.9747ms
2022-11-08 17:20:12.596 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:12.597 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:12.597 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.5285ms
2022-11-08 17:20:12.599 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:12.599 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:12.600 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.5152ms
2022-11-08 17:20:14.619 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:14.620 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:14.620 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.7106ms
2022-11-08 17:20:14.621 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:14.621 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:14.622 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4275ms
2022-11-08 17:20:16.637 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:16.637 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:16.637 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.6990ms
2022-11-08 17:20:16.639 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:16.639 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:16.639 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.6305ms
2022-11-08 17:20:19.046 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:19.049 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:19.051 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 4.2416ms
2022-11-08 17:20:19.055 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:19.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:19.059 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 4.0274ms
2022-11-08 17:20:22.430 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:22.430 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:22.430 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4418ms
2022-11-08 17:20:22.432 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:22.432 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:22.432 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.3834ms
2022-11-08 17:20:25.306 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:25.307 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:25.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.9527ms
2022-11-08 17:20:25.308 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:25.308 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:25.309 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4143ms
2022-11-08 17:20:28.263 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:28.263 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:28.263 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 0.4428ms
2022-11-08 17:20:28.265 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:28.265 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:28.267 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 1.8600ms
2022-11-08 17:20:31.226 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:31.227 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:31.227 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 1.4876ms
2022-11-08 17:20:31.228 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:31.229 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:31.229 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 0.4641ms
2022-11-08 17:20:34.156 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:34.157 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:34.158 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/negotiate?negotiateVersion=1 - - - 204 - - 2.1018ms
2022-11-08 17:20:34.162 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:34.163 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:34.258 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 404 0 - 95.9059ms
2022-11-08 17:20:36.724 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:20:36.725 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:36.725 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4803ms
2022-11-08 17:20:36.731 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:20:36.731 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:36.734 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:36.734 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:36.740 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:36.767 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:36.772 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:36.775 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:36.781 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:20:36.781 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:20:36.782 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 47.0964ms
2022-11-08 17:20:36.782 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:36.782 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 51.2171ms
2022-11-08 17:20:36.979 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:20:36.980 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:36.980 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:36.980 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:37.052 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:37.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:37.061 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:37.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:37.068 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:20:37.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:20:37.071 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 90.3025ms
2022-11-08 17:20:37.071 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:37.071 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 91.7839ms
2022-11-08 17:20:37.092 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:37.093 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:37.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5700ms
2022-11-08 17:20:37.095 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:37.096 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:37.096 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 17:20:37.124 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 17:20:37.125 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 29.3231ms
2022-11-08 17:20:38.246 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=6BsYxsmF0cCVX0rug_HN4g - -
2022-11-08 17:20:38.247 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:38.247 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 17:20:43.954 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 17:20:43.954 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:43.954 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6799ms
2022-11-08 17:20:43.955 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:20:43.955 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:43.955 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 17:20:43.956 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 17:20:43.956 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.9961ms
2022-11-08 17:20:44.022 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=LpHUXsPTijngIWDR7Kls7w - -
2022-11-08 17:20:44.022 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:44.023 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 17:20:48.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:20:48.469 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:48.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6502ms
2022-11-08 17:20:48.471 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 17:20:48.471 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:48.471 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:20:48.472 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 17:20:48.472 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 17:20:48.474 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 2.7165ms
2022-11-08 17:20:48.475 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 17:20:48.475 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.8804ms
2022-11-08 17:20:48.479 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:20:48.479 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:48.480 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3918ms
2022-11-08 17:20:48.480 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 17:20:48.481 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:48.481 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:20:48.481 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 17:20:48.485 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:48.490 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 17:20:48.491 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 17:20:48.496 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 17:20:48.497 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.4578ms
2022-11-08 17:20:48.497 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 17:20:48.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.0744ms
2022-11-08 17:20:49.764 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:20:49.764 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:49.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4257ms
2022-11-08 17:20:49.765 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:20:49.765 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:49.767 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:20:49.767 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:49.769 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:49.778 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:49.783 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:49.787 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:49.793 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:20:49.801 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:20:49.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:20:49.806 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 39.0993ms
2022-11-08 17:20:49.806 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:20:49.807 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 41.5972ms
2022-11-08 17:20:50.746 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 17:20:50.747 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:50.748 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:20:50.748 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:50.750 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:50.759 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:50.764 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:50.769 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:50.775 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 17:20:50.781 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 17:20:50.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 17:20:50.786 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 37.5187ms
2022-11-08 17:20:50.786 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 17:20:50.787 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 40.1903ms
2022-11-08 17:20:55.228 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 17:20:55.228 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:55.228 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4522ms
2022-11-08 17:20:55.229 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 17:20:55.230 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:55.230 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:55.230 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 17:20:55.232 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:55.236 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:55.240 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:55.244 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:55.249 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 17:20:55.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 17:20:55.250 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.3335ms
2022-11-08 17:20:55.250 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 17:20:55.250 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 21.0732ms
2022-11-08 17:20:59.398 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 17:20:59.400 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:59.400 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.3610ms
2022-11-08 17:20:59.401 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 17:20:59.401 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:20:59.402 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:20:59.402 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 17:20:59.404 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 17:20:59.409 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 17:20:59.413 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:59.417 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 17:20:59.422 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 17:20:59.427 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 17:20:59.428 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 25.469ms
2022-11-08 17:20:59.428 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 17:20:59.428 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 27.0480ms
2022-11-08 17:25:53.632 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 17:25:53.632 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=6BsYxsmF0cCVX0rug_HN4g - - - 101 - - 315394.8382ms
2022-11-08 17:38:38.319 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 17:38:38.322 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=LpHUXsPTijngIWDR7Kls7w - - - 101 - - 1074375.2407ms
2022-11-08 17:38:38.422 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 17:38:38.426 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:38.427 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 4.7238ms
2022-11-08 17:38:38.574 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:38:38.575 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:38.583 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 17:38:38.669 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 17:38:38.670 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 97.5454ms
2022-11-08 17:38:38.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=9wQrDQZMOmovVsB1V1QZ2Q - -
2022-11-08 17:38:38.866 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:38.866 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 17:38:44.763 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 17:38:44.764 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=9wQrDQZMOmovVsB1V1QZ2Q - - - 101 - - 5907.0577ms
2022-11-08 17:38:44.818 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 17:38:44.819 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:44.819 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 1.1651ms
2022-11-08 17:38:44.861 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 17:38:44.861 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:44.861 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 17:38:44.862 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 17:38:44.862 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.0267ms
2022-11-08 17:38:44.932 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=0CZICl6FbsVbNvTXOJIhKQ - -
2022-11-08 17:38:44.933 +03:00 [INF] CORS policy execution successful.
2022-11-08 17:38:44.933 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 18:01:03.655 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 18:01:03.657 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=0CZICl6FbsVbNvTXOJIhKQ - - - 101 - - 20412.6515ms
2022-11-08 18:01:03.731 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 18:01:03.731 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:01:03.732 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6651ms
2022-11-08 18:01:03.774 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 18:01:03.775 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:01:03.776 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 18:01:03.777 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 18:01:03.777 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.8387ms
2022-11-08 18:01:03.808 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=lnjgxVo2PLEvFD6s4wfx6g - -
2022-11-08 18:01:03.808 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:01:03.809 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 18:18:08.967 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 18:18:08.969 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=lnjgxVo2PLEvFD6s4wfx6g - - - 101 - - 484399.8291ms
2022-11-08 18:18:09.478 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:18:09.479 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:09.479 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.1042ms
2022-11-08 18:18:09.480 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:09.481 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:09.493 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 18:18:09.501 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 18:18:09.502 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 18:18:09.512 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 18:18:09.512 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 32.0376ms
2022-11-08 18:18:09.836 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 18:18:09.836 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:09.836 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4417ms
2022-11-08 18:18:09.837 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 18:18:09.837 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:09.838 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:09.839 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 18:18:09.861 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:09.942 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 18:18:09.975 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 135.0229ms
2022-11-08 18:18:09.975 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:09.982 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 18:18:10.056 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 18:18:10.067 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 229.4949ms
2022-11-08 18:18:11.207 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:11.207 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:11.208 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 18:18:11.210 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 18:18:11.210 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 18:18:11.211 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 18:18:11.211 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 3.8677ms
2022-11-08 18:18:11.241 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 18:18:11.241 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:11.242 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:11.243 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 18:18:11.260 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:11.264 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 18:18:11.266 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 22.8393ms
2022-11-08 18:18:11.266 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:11.267 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 18:18:11.272 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 18:18:11.272 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 30.8939ms
2022-11-08 18:18:16.963 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 18:18:16.964 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:16.964 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.6960ms
2022-11-08 18:18:16.965 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 18:18:16.966 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:16.966 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 18:18:16.985 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 18:18:17.342 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:17.367 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 18:18:17.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 18:18:17.397 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 18:18:17.398 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 18:18:17.399 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 18:18:17.405 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 18:18:17.424 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 18:18:17.429 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 18:18:17.430 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 444.333ms
2022-11-08 18:18:17.430 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 18:18:17.430 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 464.6323ms
2022-11-08 18:18:18.411 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:18:18.411 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:18.411 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4720ms
2022-11-08 18:18:18.412 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:18:18.413 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:18.413 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:18:18.413 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:18:18.413 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:18:18.413 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2705ms
2022-11-08 18:18:18.414 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:18:18.414 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.2440ms
2022-11-08 18:18:18.421 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:18:18.421 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:18.422 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7520ms
2022-11-08 18:18:18.426 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:18:18.426 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:18.426 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:18:18.426 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:18:18.428 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:18.436 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:18:18.438 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:18:18.447 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:18:18.448 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 21.1044ms
2022-11-08 18:18:18.448 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:18:18.448 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 22.4912ms
2022-11-08 18:18:19.872 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:18:19.872 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:19.872 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4340ms
2022-11-08 18:18:19.874 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:19.874 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:19.874 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:19.875 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:18:19.876 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:19.883 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:18:19.887 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:19.897 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 18:18:19.910 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:18:19.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:18:19.911 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 36.3256ms
2022-11-08 18:18:19.911 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:19.911 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 37.8726ms
2022-11-08 18:18:23.447 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:23.448 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:23.448 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:23.449 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:18:23.450 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:23.460 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:18:23.464 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:23.467 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:23.476 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:18:23.477 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:18:23.477 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.6166ms
2022-11-08 18:18:23.477 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:23.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.1811ms
2022-11-08 18:18:23.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:18:23.516 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:23.516 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4060ms
2022-11-08 18:18:23.518 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:18:23.518 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:23.518 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:18:23.518 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:18:23.519 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:18:23.519 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3905ms
2022-11-08 18:18:23.519 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:18:23.521 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.7692ms
2022-11-08 18:18:23.955 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:18:23.956 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:23.956 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3985ms
2022-11-08 18:18:23.957 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:18:23.957 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:23.957 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:18:23.957 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:18:23.959 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:23.961 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:18:23.962 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:18:23.967 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:18:23.967 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.0552ms
2022-11-08 18:18:23.968 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:18:23.968 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.3303ms
2022-11-08 18:18:26.361 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:18:26.361 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:26.361 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5870ms
2022-11-08 18:18:26.362 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:26.362 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:26.363 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:26.363 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:18:26.364 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:26.370 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:18:26.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:26.377 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:26.382 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:18:26.382 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:18:26.383 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 19.4935ms
2022-11-08 18:18:26.383 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:26.383 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 20.8767ms
2022-11-08 18:18:31.931 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:18:31.932 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:31.932 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4401ms
2022-11-08 18:18:31.932 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:18:31.932 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:31.933 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:18:31.933 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:18:31.935 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:31.940 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:18:31.945 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:31.949 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:31.958 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:18:31.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:18:31.967 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:18:31.967 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.3212ms
2022-11-08 18:18:31.968 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:18:31.968 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 35.5344ms
2022-11-08 18:18:32.836 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:32.836 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:32.837 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 18:18:32.840 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 18:18:32.840 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 18:18:32.840 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 18:18:32.840 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.5125ms
2022-11-08 18:18:32.848 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 18:18:32.848 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:32.848 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3832ms
2022-11-08 18:18:32.848 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 18:18:32.849 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:32.849 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:32.849 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 18:18:32.852 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:32.855 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 18:18:32.863 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 18:18:32.868 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 18:18:32.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 18:18:32.875 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 25.5164ms
2022-11-08 18:18:32.875 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:18:32.875 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 26.5469ms
2022-11-08 18:18:36.548 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:18:36.548 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:18:36.548 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:36.549 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:18:36.550 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:18:36.557 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:18:36.564 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:36.569 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:18:36.577 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:18:36.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:18:36.578 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.5922ms
2022-11-08 18:18:36.578 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:18:36.579 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.8838ms
2022-11-08 18:19:17.684 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:19:17.687 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.688 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.8742ms
2022-11-08 18:19:17.689 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:19:17.690 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.692 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:19:17.693 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:19:17.699 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:19:17.732 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:19:17.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:19:17.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:19:17.744 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:19:17.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:19:17.746 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 53.1847ms
2022-11-08 18:19:17.746 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:19:17.746 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 57.6875ms
2022-11-08 18:19:17.747 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:19:17.747 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.747 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3116ms
2022-11-08 18:19:17.748 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:19:17.748 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.748 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:19:17.748 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:19:17.749 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:19:17.749 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.417ms
2022-11-08 18:19:17.749 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:19:17.749 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3741ms
2022-11-08 18:19:17.952 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:19:17.953 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.953 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 1.3399ms
2022-11-08 18:19:17.954 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:19:17.954 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:19:17.954 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:19:17.954 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:19:17.965 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:19:17.973 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:19:17.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:19:17.978 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:19:17.980 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 25.2543ms
2022-11-08 18:19:17.980 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:19:17.980 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 26.3020ms
2022-11-08 18:22:45.035 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:22:45.037 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.037 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.2680ms
2022-11-08 18:22:45.038 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:22:45.038 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.038 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.1932ms
2022-11-08 18:22:45.039 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:22:45.039 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.041 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:22:45.041 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:22:45.050 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:22:45.053 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:22:45.053 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.053 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:22:45.053 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:22:45.054 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:22:45.054 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.4312ms
2022-11-08 18:22:45.054 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:22:45.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5745ms
2022-11-08 18:22:45.064 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:22:45.070 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:22:45.073 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:22:45.093 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:22:45.095 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:22:45.095 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 50.2822ms
2022-11-08 18:22:45.096 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:22:45.096 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 56.6332ms
2022-11-08 18:22:45.261 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:22:45.261 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.262 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4645ms
2022-11-08 18:22:45.263 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:22:45.265 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:22:45.265 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:22:45.266 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:22:45.269 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:22:45.273 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:22:45.274 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:22:45.285 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:22:45.299 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.7828ms
2022-11-08 18:22:45.300 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:22:45.300 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 37.2426ms
2022-11-08 18:26:18.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:26:18.031 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.031 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.1870ms
2022-11-08 18:26:18.032 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:26:18.033 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.033 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4014ms
2022-11-08 18:26:18.033 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:26:18.034 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.036 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:18.036 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:26:18.041 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:26:18.071 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:26:18.072 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.072 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:26:18.072 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:26:18.075 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:26:18.076 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.0896ms
2022-11-08 18:26:18.076 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:26:18.079 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.0861ms
2022-11-08 18:26:18.117 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:26:18.122 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:18.125 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:18.129 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:26:18.130 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:26:18.130 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 93.6405ms
2022-11-08 18:26:18.130 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:18.130 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 96.9787ms
2022-11-08 18:26:18.175 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:26:18.175 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.176 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.8406ms
2022-11-08 18:26:18.177 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:26:18.177 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:18.177 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:26:18.185 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:26:18.186 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:26:18.190 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:26:18.191 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:26:18.196 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:26:18.197 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.9395ms
2022-11-08 18:26:18.197 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:26:18.197 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 20.3939ms
2022-11-08 18:26:21.403 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:26:21.403 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:21.404 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:21.404 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:26:21.405 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:26:21.412 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:26:21.417 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:21.421 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:21.428 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:26:21.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:26:21.430 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.1646ms
2022-11-08 18:26:21.430 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:21.430 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.6615ms
2022-11-08 18:26:28.614 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:26:28.615 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:28.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.2746ms
2022-11-08 18:26:28.616 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:26:28.616 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:26:28.617 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:28.617 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:26:28.619 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:26:28.623 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:26:28.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:28.631 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:26:28.640 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:26:28.641 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:26:28.642 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 24.2896ms
2022-11-08 18:26:28.642 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:26:28.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 26.0256ms
2022-11-08 18:31:28.107 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:31:28.109 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.109 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.2012ms
2022-11-08 18:31:28.110 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:31:28.110 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.111 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:28.112 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:31:28.117 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:31:28.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:31:28.168 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.171 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 3.7606ms
2022-11-08 18:31:28.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:31:28.174 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.175 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:31:28.175 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:31:28.175 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:31:28.175 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6559ms
2022-11-08 18:31:28.176 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:31:28.176 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.8918ms
2022-11-08 18:31:28.211 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:31:28.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:28.220 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:28.234 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:31:28.235 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:31:28.235 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 123.1655ms
2022-11-08 18:31:28.235 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:28.235 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 125.4180ms
2022-11-08 18:31:28.373 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:31:28.373 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.373 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3893ms
2022-11-08 18:31:28.374 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:31:28.374 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:28.374 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:31:28.374 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:31:28.376 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:31:28.379 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:31:28.380 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:31:28.385 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:31:28.386 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.096ms
2022-11-08 18:31:28.386 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:31:28.386 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.8929ms
2022-11-08 18:31:41.105 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:31:41.107 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.107 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.1754ms
2022-11-08 18:31:41.108 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:31:41.109 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.111 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:41.111 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:31:41.115 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:31:41.135 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:31:41.145 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:31:41.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.145 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4187ms
2022-11-08 18:31:41.146 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:31:41.146 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.146 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:31:41.147 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:31:41.147 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:41.147 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:31:41.149 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7748ms
2022-11-08 18:31:41.149 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:31:41.149 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.2304ms
2022-11-08 18:31:41.152 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:41.159 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:31:41.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:31:41.159 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 48.2241ms
2022-11-08 18:31:41.159 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:41.159 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 51.2839ms
2022-11-08 18:31:41.284 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:31:41.285 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.285 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3718ms
2022-11-08 18:31:41.285 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:31:41.285 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:41.286 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:31:41.286 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:31:41.288 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:31:41.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:31:41.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:31:41.296 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:31:41.299 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.169ms
2022-11-08 18:31:41.299 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:31:41.300 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.2885ms
2022-11-08 18:31:45.129 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:31:45.131 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:31:45.132 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:45.141 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:31:45.149 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:31:45.184 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:31:45.207 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:45.212 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:31:45.221 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:31:45.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:31:45.231 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 87.1241ms
2022-11-08 18:31:45.231 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:31:45.231 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 102.0816ms
2022-11-08 18:38:46.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:38:46.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:38:46.906 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.906 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.906 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.0819ms
2022-11-08 18:38:46.906 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 2.3315ms
2022-11-08 18:38:46.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:38:46.911 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:38:46.912 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.912 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:38:46.915 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:38:46.919 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 18:38:46.919 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:38:46.926 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 18:38:46.926 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 18:38:46.926 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 7.2987ms
2022-11-08 18:38:46.926 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:38:46.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 15.5006ms
2022-11-08 18:38:46.927 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 18:38:46.927 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 16.7725ms
2022-11-08 18:38:46.987 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:38:46.987 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.987 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.2511ms
2022-11-08 18:38:46.988 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:38:46.988 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.988 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:38:46.988 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:38:46.988 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 18:38:46.989 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.989 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.1821ms
2022-11-08 18:38:46.990 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 18:38:46.990 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:46.990 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:38:46.990 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 18:38:46.991 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:46.995 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:47.069 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 18:38:47.069 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:38:47.070 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:38:47.074 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:38:47.075 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 87.1343ms
2022-11-08 18:38:47.076 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:38:47.076 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 87.8666ms
2022-11-08 18:38:47.076 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 18:38:47.082 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 18:38:47.085 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 18:38:47.086 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 95.317ms
2022-11-08 18:38:47.086 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 18:38:47.086 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 96.0746ms
2022-11-08 18:38:51.911 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:38:51.911 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:51.912 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:51.912 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:38:51.913 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:51.918 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:38:51.931 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:51.938 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:51.949 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:38:51.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:38:51.950 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 37.7567ms
2022-11-08 18:38:51.950 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:51.950 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 39.3816ms
2022-11-08 18:38:55.108 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:38:55.109 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:55.109 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5767ms
2022-11-08 18:38:55.110 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:38:55.110 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:55.111 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:38:55.111 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:38:55.115 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:55.122 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:38:55.126 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:55.129 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:55.135 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:38:55.140 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 18:38:55.144 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:38:55.144 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 32.9798ms
2022-11-08 18:38:55.144 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:38:55.145 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 34.7965ms
2022-11-08 18:38:56.080 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:38:56.080 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:56.081 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:56.081 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:38:56.084 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:56.090 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:38:56.099 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:56.104 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:56.111 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:38:56.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:38:56.112 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 31.4438ms
2022-11-08 18:38:56.112 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:56.113 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 32.8212ms
2022-11-08 18:38:58.261 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:38:58.262 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:58.262 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:38:58.262 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:38:58.266 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:58.274 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:38:58.278 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:58.280 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:58.289 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:38:58.299 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:38:58.304 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:38:58.304 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 42.1729ms
2022-11-08 18:38:58.305 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:38:58.305 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 43.5172ms
2022-11-08 18:38:59.079 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:38:59.080 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:38:59.080 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:59.080 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:38:59.082 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:38:59.087 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:38:59.091 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:59.099 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:38:59.104 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:38:59.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:38:59.106 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.043ms
2022-11-08 18:38:59.107 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:38:59.107 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.5795ms
2022-11-08 18:39:01.814 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets/f37eae8f-9dbf-402f-847a-f2a62dc648f6 - -
2022-11-08 18:39:01.816 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:01.817 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets/f37eae8f-9dbf-402f-847a-f2a62dc648f6 - - - 204 - - 2.2171ms
2022-11-08 18:39:01.818 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7129/api/baskets/f37eae8f-9dbf-402f-847a-f2a62dc648f6 - -
2022-11-08 18:39:01.819 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:01.820 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi)'
2022-11-08 18:39:01.833 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ECommerce.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:01.855 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:01.869 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2022-11-08 18:39:01.888 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2022-11-08 18:39:01.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2022-11-08 18:39:01.908 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi) in 74.305ms
2022-11-08 18:39:01.908 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.RemoveBasketItem (ECommerce.WebApi)'
2022-11-08 18:39:01.908 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7129/api/baskets/f37eae8f-9dbf-402f-847a-f2a62dc648f6 - - - 200 - application/json;+charset=utf-8 90.0022ms
2022-11-08 18:39:28.183 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:39:28.183 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:28.184 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.3680ms
2022-11-08 18:39:28.184 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:39:28.184 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:28.185 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:28.185 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:28.190 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:28.197 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:28.204 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:28.209 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:28.216 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:39:28.225 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:39:28.229 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:39:28.229 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 42.371ms
2022-11-08 18:39:28.230 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:28.230 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 45.9567ms
2022-11-08 18:39:29.667 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:39:29.667 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:29.668 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:29.668 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:29.670 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:29.673 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:29.677 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:29.681 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:29.688 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:39:29.692 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:39:29.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:39:29.696 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 27.4631ms
2022-11-08 18:39:29.696 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:29.697 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 29.4374ms
2022-11-08 18:39:30.132 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:39:30.133 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:30.133 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:30.133 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:30.137 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:30.146 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:30.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:30.153 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:30.160 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:39:30.168 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:39:30.172 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:39:30.172 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 38.755ms
2022-11-08 18:39:30.172 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:30.173 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 40.1485ms
2022-11-08 18:39:30.657 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:39:30.658 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:30.658 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:30.658 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:30.661 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:30.673 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:30.956 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:30.959 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:30.966 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:39:30.971 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:39:30.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:39:30.974 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 315.8213ms
2022-11-08 18:39:30.974 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:30.975 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 317.2537ms
2022-11-08 18:39:31.588 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:39:31.589 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:31.591 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:31.591 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:31.593 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:31.597 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:31.601 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:31.603 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:31.607 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:39:31.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:39:31.613 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:39:31.613 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 22.0947ms
2022-11-08 18:39:31.614 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:39:31.614 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 25.3270ms
2022-11-08 18:39:33.516 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:39:33.516 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:33.517 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6584ms
2022-11-08 18:39:33.517 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:39:33.518 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:39:33.519 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:39:33.519 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:39:33.521 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:39:33.528 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:39:33.532 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:33.536 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:39:33.547 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:39:33.548 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:39:33.549 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.6285ms
2022-11-08 18:39:33.549 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:39:33.549 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 31.5399ms
2022-11-08 18:40:49.937 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:40:49.938 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:49.940 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.3282ms
2022-11-08 18:40:49.941 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:40:49.942 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:49.945 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:40:49.946 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:40:49.960 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:40:49.995 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:40:50.002 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:40:50.002 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:50.002 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3375ms
2022-11-08 18:40:50.004 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:40:50.005 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:50.005 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:40:50.005 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:40:50.008 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:40:50.010 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.979ms
2022-11-08 18:40:50.010 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:40:50.011 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.2240ms
2022-11-08 18:40:50.019 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:40:50.026 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:40:50.037 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:40:50.040 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:40:50.041 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 95.3346ms
2022-11-08 18:40:50.041 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:40:50.041 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 99.8709ms
2022-11-08 18:40:50.173 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:40:50.173 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:50.173 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4579ms
2022-11-08 18:40:50.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:40:50.174 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:50.174 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:40:50.175 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:40:50.177 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:40:50.182 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:40:50.183 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:40:50.188 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:40:50.189 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.2766ms
2022-11-08 18:40:50.189 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:40:50.189 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.2116ms
2022-11-08 18:40:50.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:40:50.663 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:40:50.664 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:40:50.665 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:40:50.667 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:40:50.673 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:40:50.679 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:40:50.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:40:50.692 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:40:50.693 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:40:50.694 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.4017ms
2022-11-08 18:40:50.694 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:40:50.695 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 32.3876ms
2022-11-08 18:43:09.712 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:43:09.713 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.714 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4720ms
2022-11-08 18:43:09.715 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:43:09.716 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.717 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:43:09.718 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:43:09.722 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:43:09.737 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:43:09.745 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:43:09.749 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.749 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 4.1463ms
2022-11-08 18:43:09.750 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:43:09.750 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.750 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:43:09.750 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:43:09.750 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:43:09.751 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8913ms
2022-11-08 18:43:09.751 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:43:09.751 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.9643ms
2022-11-08 18:43:09.754 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:43:09.758 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:43:09.765 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:43:09.765 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:43:09.766 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 48.0032ms
2022-11-08 18:43:09.766 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:43:09.766 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 51.0051ms
2022-11-08 18:43:09.915 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:43:09.915 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.915 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3910ms
2022-11-08 18:43:09.916 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:43:09.916 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:43:09.916 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:43:09.916 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:43:09.919 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:43:09.923 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:43:09.923 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:43:09.930 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:43:09.931 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.5959ms
2022-11-08 18:43:09.931 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:43:09.932 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.9834ms
2022-11-08 18:46:10.405 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:46:10.415 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.416 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 11.1028ms
2022-11-08 18:46:10.418 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:46:10.418 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.419 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6172ms
2022-11-08 18:46:10.420 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:46:10.420 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.422 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:46:10.422 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:46:10.425 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:46:10.432 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:46:10.432 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.433 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:46:10.433 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:46:10.433 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:46:10.434 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.6286ms
2022-11-08 18:46:10.434 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:46:10.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.8528ms
2022-11-08 18:46:10.496 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:46:10.506 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:46:10.512 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:46:10.525 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:46:10.526 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:46:10.527 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 104.7133ms
2022-11-08 18:46:10.527 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:46:10.527 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 107.2520ms
2022-11-08 18:46:10.674 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:46:10.675 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.676 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3993ms
2022-11-08 18:46:10.676 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:46:10.676 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:10.676 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:46:10.677 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:46:10.678 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:46:10.683 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:46:10.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:46:10.691 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:46:10.692 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.5702ms
2022-11-08 18:46:10.693 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:46:10.693 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 16.8814ms
2022-11-08 18:46:13.925 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:46:13.927 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:46:13.930 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:46:13.931 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:46:13.948 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:46:14.003 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:46:14.014 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:46:14.031 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:46:14.038 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:46:14.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:46:14.042 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 110.6674ms
2022-11-08 18:46:14.042 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:46:14.043 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 117.2922ms
2022-11-08 18:47:19.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:47:19.875 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:19.875 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.5354ms
2022-11-08 18:47:19.876 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:47:19.876 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:19.878 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:47:19.879 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:47:19.883 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:47:19.904 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:47:19.909 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:47:19.916 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:19.918 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 8.4182ms
2022-11-08 18:47:19.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:47:19.930 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:19.930 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:47:19.934 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:47:19.935 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:47:19.935 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:47:19.937 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 1.7128ms
2022-11-08 18:47:19.937 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:47:19.937 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.6126ms
2022-11-08 18:47:19.938 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:47:19.942 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:47:19.944 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:47:19.944 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 65.3902ms
2022-11-08 18:47:19.945 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:47:19.945 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 69.0075ms
2022-11-08 18:47:20.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:47:20.151 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:20.151 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3735ms
2022-11-08 18:47:20.151 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:47:20.152 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:47:20.152 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:47:20.153 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:47:20.155 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:47:20.158 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:47:20.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:47:20.168 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:47:20.170 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 16.5943ms
2022-11-08 18:47:20.170 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:47:20.170 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 18.8014ms
2022-11-08 18:48:08.279 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:48:08.283 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.284 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.7199ms
2022-11-08 18:48:08.289 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:48:08.290 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.299 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:48:08.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:48:08.356 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.356 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:48:08.356 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 23.6425ms
2022-11-08 18:48:08.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:48:08.371 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.374 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:48:08.375 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:48:08.378 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:48:08.405 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:48:08.407 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 7.6759ms
2022-11-08 18:48:08.409 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:48:08.409 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 40.1211ms
2022-11-08 18:48:08.440 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:48:08.444 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:48:08.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:48:08.454 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:48:08.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:48:08.455 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 92.3671ms
2022-11-08 18:48:08.455 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:48:08.455 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 166.0230ms
2022-11-08 18:48:08.614 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:48:08.615 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.615 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.8491ms
2022-11-08 18:48:08.617 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:48:08.617 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:08.617 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:48:08.617 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:48:08.619 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:48:08.624 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:48:08.624 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:48:08.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:48:08.630 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 12.8263ms
2022-11-08 18:48:08.630 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:48:08.631 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 13.9690ms
2022-11-08 18:48:10.913 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:48:10.913 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:48:10.915 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:48:10.916 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:48:10.917 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:48:10.926 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:48:10.931 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:48:10.934 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:48:10.941 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:48:10.943 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:48:10.944 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.398ms
2022-11-08 18:48:10.944 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:48:10.945 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 31.4984ms
2022-11-08 18:49:21.845 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:21.845 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:49:21.846 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.846 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.3286ms
2022-11-08 18:49:21.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.4752ms
2022-11-08 18:49:21.847 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:21.848 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:21.848 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.849 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:21.849 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.849 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:49:21.850 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:49:21.850 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.8239ms
2022-11-08 18:49:21.850 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:21.850 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:21.850 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:21.850 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.5377ms
2022-11-08 18:49:21.855 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:21.880 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:21.884 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:21.889 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:21.894 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:21.895 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:21.896 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 45.3538ms
2022-11-08 18:49:21.896 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:21.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 48.7539ms
2022-11-08 18:49:21.949 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:21.949 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.950 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4316ms
2022-11-08 18:49:21.952 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:21.952 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:21.952 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:21.953 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:49:21.963 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:21.968 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:49:21.968 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:49:21.975 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:49:21.976 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.2654ms
2022-11-08 18:49:21.977 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:21.977 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 24.8836ms
2022-11-08 18:49:22.401 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:22.402 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:22.402 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:22.402 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:22.404 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:22.411 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:22.417 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:22.422 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:22.430 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:22.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:22.432 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.383ms
2022-11-08 18:49:22.432 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:22.433 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 31.2443ms
2022-11-08 18:49:33.307 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:49:33.308 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.309 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.9806ms
2022-11-08 18:49:33.311 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:33.312 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.316 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:33.317 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:33.332 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:33.340 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:33.340 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4937ms
2022-11-08 18:49:33.347 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:33.348 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.348 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:33.349 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:49:33.349 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:49:33.349 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.742ms
2022-11-08 18:49:33.350 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:33.350 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.8037ms
2022-11-08 18:49:33.358 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:33.363 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:33.367 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:33.374 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:33.375 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:33.376 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 55.3423ms
2022-11-08 18:49:33.376 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:33.377 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 65.1870ms
2022-11-08 18:49:33.486 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:33.487 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.487 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.8453ms
2022-11-08 18:49:33.489 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:33.489 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.489 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:33.489 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:49:33.491 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:33.495 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:49:33.496 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:49:33.503 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:49:33.504 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.0005ms
2022-11-08 18:49:33.504 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:33.504 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.4797ms
2022-11-08 18:49:33.952 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:33.953 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:33.954 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:33.954 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:33.958 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:33.965 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:33.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:33.972 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:33.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:33.980 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:33.989 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 32.8064ms
2022-11-08 18:49:33.990 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:33.990 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 37.2971ms
2022-11-08 18:49:38.523 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:49:38.523 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:38.524 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4644ms
2022-11-08 18:49:38.524 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:38.524 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:38.525 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:38.525 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:38.527 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:38.534 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:38.537 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:38.541 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:38.549 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:38.551 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:38.555 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 30.2022ms
2022-11-08 18:49:38.556 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:38.557 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 31.9144ms
2022-11-08 18:49:40.488 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 18:49:40.489 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:40.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.5022ms
2022-11-08 18:49:40.489 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 18:49:40.490 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:40.491 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 18:49:40.491 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 18:49:40.496 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:40.502 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:40.507 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:40.511 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:40.526 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 18:49:40.532 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 18:49:40.533 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 41.768ms
2022-11-08 18:49:40.533 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 18:49:40.533 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 43.5316ms
2022-11-08 18:49:42.992 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:42.993 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:42.993 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3782ms
2022-11-08 18:49:42.993 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:49:42.994 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:42.994 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:42.994 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:49:42.994 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:49:42.995 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2255ms
2022-11-08 18:49:42.995 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:49:42.996 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.6030ms
2022-11-08 18:49:42.999 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:42.999 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:42.999 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3819ms
2022-11-08 18:49:43.000 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:49:43.000 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:43.000 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:43.001 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:49:43.003 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:43.006 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:49:43.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:49:43.010 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:49:43.011 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.6442ms
2022-11-08 18:49:43.012 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:49:43.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.9643ms
2022-11-08 18:49:43.872 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:49:43.872 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:43.872 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4295ms
2022-11-08 18:49:43.875 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:49:43.875 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:43.876 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:43.876 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:43.880 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:43.886 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:43.891 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:43.902 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 18:49:43.916 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:49:43.921 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:49:43.925 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:49:43.925 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 48.8335ms
2022-11-08 18:49:43.926 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:43.926 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 50.9686ms
2022-11-08 18:49:44.469 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:49:44.469 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:44.471 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:44.471 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:44.474 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:44.482 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:44.484 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:44.486 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:44.493 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:49:44.498 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:49:44.500 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:49:44.501 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 29.4413ms
2022-11-08 18:49:44.501 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:44.501 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 32.3218ms
2022-11-08 18:49:45.157 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 18:49:45.157 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:45.158 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:45.158 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:45.160 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:45.163 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:45.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:45.169 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:45.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 18:49:45.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 18:49:45.178 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 18:49:45.178 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 19.9503ms
2022-11-08 18:49:45.178 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 18:49:45.178 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 21.0070ms
2022-11-08 18:49:46.506 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:49:46.506 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:49:46.507 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:46.508 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:49:46.510 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:49:46.515 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:49:46.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:46.522 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:49:46.529 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:49:46.531 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:49:46.531 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.4562ms
2022-11-08 18:49:46.531 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:49:46.531 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.6762ms
2022-11-08 18:50:15.829 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 18:50:15.831 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.832 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7400ms
2022-11-08 18:50:15.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:50:15.834 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.837 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:50:15.837 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:50:15.843 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:50:15.864 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:50:15.865 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.865 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.7374ms
2022-11-08 18:50:15.866 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 18:50:15.867 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.867 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:50:15.867 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 18:50:15.869 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 18:50:15.870 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5832ms
2022-11-08 18:50:15.870 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 18:50:15.870 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.7087ms
2022-11-08 18:50:15.872 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:50:15.877 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:15.881 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:15.888 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:50:15.889 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:50:15.890 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 52.2381ms
2022-11-08 18:50:15.890 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:50:15.890 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 57.1712ms
2022-11-08 18:50:15.977 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:50:15.977 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3895ms
2022-11-08 18:50:15.978 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 18:50:15.978 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:15.978 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:50:15.979 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 18:50:15.982 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:50:15.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 18:50:15.988 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 18:50:16.003 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 18:50:16.004 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 24.8489ms
2022-11-08 18:50:16.004 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 18:50:16.004 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 25.8149ms
2022-11-08 18:50:17.886 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 18:50:17.887 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:17.887 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:50:17.887 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 18:50:17.904 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:50:17.958 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:50:17.961 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:17.966 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:17.970 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 18:50:17.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 18:50:17.971 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 68.375ms
2022-11-08 18:50:17.971 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 18:50:17.971 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 85.0844ms
2022-11-08 18:50:20.084 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 18:50:20.084 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:20.084 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.3804ms
2022-11-08 18:50:20.085 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 18:50:20.085 +03:00 [INF] CORS policy execution successful.
2022-11-08 18:50:20.086 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 18:50:20.086 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 18:50:20.089 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 18:50:20.095 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 18:50:20.099 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:20.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 18:50:20.110 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 18:50:20.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 18:50:20.115 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 28.3733ms
2022-11-08 18:50:20.115 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 18:50:20.115 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 30.3282ms
2022-11-08 19:01:25.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:01:25.648 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:25.648 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.0671ms
2022-11-08 19:01:25.650 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:01:25.650 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:25.654 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 19:01:25.661 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 19:01:25.662 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 19:01:25.664 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 19:01:25.664 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 14.2571ms
2022-11-08 19:01:25.685 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 19:01:25.685 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:25.686 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.0164ms
2022-11-08 19:01:25.687 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 19:01:25.687 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:25.688 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:01:25.689 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:01:25.704 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:25.806 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 19:01:25.814 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:01:25.822 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:01:25.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 19:01:25.827 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 137.308ms
2022-11-08 19:01:25.827 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:01:25.827 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 140.3690ms
2022-11-08 19:01:29.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:01:29.658 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:29.660 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:01:29.660 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:01:29.665 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:29.687 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:01:29.692 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:29.697 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 19:01:29.709 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:01:29.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:01:29.710 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 49.3763ms
2022-11-08 19:01:29.710 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:01:29.710 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 54.3293ms
2022-11-08 19:01:35.077 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:01:35.078 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.078 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 1.6799ms
2022-11-08 19:01:35.080 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:01:35.080 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.081 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:01:35.081 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:01:35.082 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:01:35.082 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5501ms
2022-11-08 19:01:35.082 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:01:35.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.1983ms
2022-11-08 19:01:35.096 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:01:35.096 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.097 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.6310ms
2022-11-08 19:01:35.098 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:01:35.099 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.099 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:01:35.099 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:01:35.102 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:35.109 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:01:35.110 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:01:35.118 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:01:35.119 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 19.3725ms
2022-11-08 19:01:35.119 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:01:35.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 20.5322ms
2022-11-08 19:01:35.968 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:01:35.969 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.969 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.9537ms
2022-11-08 19:01:35.970 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:01:35.971 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:35.972 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:35.972 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:01:35.978 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:35.984 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:01:35.988 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:35.992 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:35.998 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:01:36.002 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:01:36.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:01:36.005 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 32.2219ms
2022-11-08 19:01:36.005 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:36.005 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 34.7356ms
2022-11-08 19:01:36.509 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:01:36.509 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:36.510 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:36.510 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:01:36.512 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:36.518 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:01:36.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:36.528 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:36.533 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:01:36.538 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:01:36.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:01:36.543 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 33.2002ms
2022-11-08 19:01:36.543 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:36.543 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 34.9072ms
2022-11-08 19:01:37.233 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:01:37.233 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:37.234 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:37.234 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:01:37.236 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:37.241 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:01:37.248 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:37.251 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:37.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:01:37.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:01:37.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:01:37.266 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 31.8006ms
2022-11-08 19:01:37.267 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:01:37.267 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 33.8577ms
2022-11-08 19:01:38.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:01:38.475 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:01:38.476 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:01:38.476 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:01:38.478 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:01:38.483 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:01:38.487 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:38.490 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:01:38.495 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:01:38.496 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:01:38.497 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 20.3317ms
2022-11-08 19:01:38.497 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:01:38.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 22.5590ms
2022-11-08 19:08:59.811 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:08:59.813 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:08:59.814 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7827ms
2022-11-08 19:08:59.815 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:08:59.815 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:08:59.815 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3346ms
2022-11-08 19:08:59.817 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:08:59.817 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:08:59.819 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:08:59.819 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:08:59.825 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:08:59.829 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:08:59.830 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:08:59.830 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:08:59.830 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:08:59.831 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:08:59.831 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.4594ms
2022-11-08 19:08:59.831 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:08:59.831 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.9951ms
2022-11-08 19:08:59.931 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:08:59.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:08:59.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:08:59.947 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:08:59.948 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:08:59.948 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 129.1635ms
2022-11-08 19:08:59.949 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:08:59.949 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 132.0307ms
2022-11-08 19:09:00.287 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:09:00.287 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:00.288 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.9166ms
2022-11-08 19:09:00.296 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:09:00.296 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:00.297 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:00.297 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:09:00.298 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:00.302 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:09:00.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:09:00.306 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:09:00.307 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.9604ms
2022-11-08 19:09:00.307 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:00.307 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 11.0068ms
2022-11-08 19:09:02.009 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:09:02.009 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:02.010 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:09:02.010 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:09:02.014 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:02.021 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:02.027 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:02.033 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:02.041 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:09:02.041 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:02.042 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:09:02.042 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:09:02.043 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:09:02.043 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.5364ms
2022-11-08 19:09:02.044 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:09:02.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.6584ms
2022-11-08 19:09:02.047 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:09:02.049 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:09:02.049 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 38.1714ms
2022-11-08 19:09:02.049 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:09:02.049 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 39.9112ms
2022-11-08 19:09:02.255 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:09:02.256 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:02.256 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:02.257 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:09:02.259 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:02.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:09:02.262 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:09:02.266 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:09:02.267 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 10.0138ms
2022-11-08 19:09:02.267 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:02.267 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.1973ms
2022-11-08 19:09:04.107 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:09:04.107 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:04.108 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:09:04.108 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:09:04.110 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:04.118 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:04.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:04.124 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:04.132 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:09:04.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:09:04.135 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.4324ms
2022-11-08 19:09:04.135 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:09:04.135 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 28.7626ms
2022-11-08 19:09:08.917 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 19:09:08.917 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:08.917 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.9509ms
2022-11-08 19:09:08.918 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 19:09:08.918 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:08.919 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:09:08.919 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 19:09:08.922 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:08.927 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:08.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:08.933 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:08.943 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 19:09:08.949 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 19:09:08.950 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 30.1102ms
2022-11-08 19:09:08.950 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:09:08.950 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 31.8222ms
2022-11-08 19:09:11.093 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:09:11.093 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.7229ms
2022-11-08 19:09:11.094 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:09:11.094 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.095 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:09:11.095 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:09:11.095 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:09:11.095 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2502ms
2022-11-08 19:09:11.095 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:09:11.095 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1482ms
2022-11-08 19:09:11.103 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:09:11.103 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.103 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5310ms
2022-11-08 19:09:11.104 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:09:11.105 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.105 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:11.105 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:09:11.107 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:11.112 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:09:11.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:09:11.117 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:09:11.118 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.0972ms
2022-11-08 19:09:11.118 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:09:11.119 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 14.3238ms
2022-11-08 19:09:11.952 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:09:11.952 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.953 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7393ms
2022-11-08 19:09:11.954 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:09:11.954 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:11.955 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:11.955 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:09:11.958 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:11.966 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:11.970 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:11.980 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 19:09:11.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:09:11.989 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:09:11.992 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:09:11.993 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 37.2937ms
2022-11-08 19:09:11.993 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:11.993 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 39.1974ms
2022-11-08 19:09:12.492 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:09:12.492 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:12.492 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:12.492 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:09:12.496 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:12.502 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:12.507 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:12.511 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:12.518 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:09:12.526 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:09:12.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:09:12.531 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 38.0109ms
2022-11-08 19:09:12.531 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:12.531 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 39.4265ms
2022-11-08 19:09:12.943 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:09:12.943 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:12.944 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:12.944 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:09:12.947 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:09:12.952 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:09:12.958 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:12.963 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:09:12.969 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:09:12.975 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:09:12.978 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:09:12.979 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.5847ms
2022-11-08 19:09:12.979 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:09:12.980 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 37.2601ms
2022-11-08 19:09:58.846 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:09:58.846 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:58.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4853ms
2022-11-08 19:09:58.871 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:09:58.872 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:58.872 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:09:58.879 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:09:58.879 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 8.0133ms
2022-11-08 19:09:58.909 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=k2NLUJPhVdDc2GFtHyCsig - -
2022-11-08 19:09:58.909 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:09:58.909 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:13:43.437 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:13:43.441 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=k2NLUJPhVdDc2GFtHyCsig - - - 101 - - 224541.9291ms
2022-11-08 19:13:44.068 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:13:44.068 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.069 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7119ms
2022-11-08 19:13:44.071 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:13:44.072 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.074 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:13:44.088 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:13:44.095 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:13:44.111 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:13:44.115 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:13:44.115 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.115 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2584ms
2022-11-08 19:13:44.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:13:44.119 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:13:44.120 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.120 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5175ms
2022-11-08 19:13:44.123 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:13:44.138 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:13:44.139 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:13:44.139 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 51.2405ms
2022-11-08 19:13:44.139 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:13:44.139 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 67.8635ms
2022-11-08 19:13:44.176 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:13:44.176 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.176 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:13:44.176 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.176 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:13:44.176 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:13:44.177 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:13:44.177 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:13:44.177 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.8657ms
2022-11-08 19:13:44.177 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.4882ms
2022-11-08 19:13:44.733 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=RRpgPMpagdFi2nlSbF-3yA - -
2022-11-08 19:13:44.733 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.734 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:13:44.788 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=Tk1US5Qr4jvp-6ztN4Ly5g - -
2022-11-08 19:13:44.788 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:13:44.788 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:16:39.367 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:16:39.369 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=Tk1US5Qr4jvp-6ztN4Ly5g - - - 101 - - 174589.6860ms
2022-11-08 19:16:39.370 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:16:39.371 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=RRpgPMpagdFi2nlSbF-3yA - - - 101 - - 174647.3134ms
2022-11-08 19:16:39.933 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:16:39.934 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:39.934 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5795ms
2022-11-08 19:16:39.935 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:16:39.935 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:39.937 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 19:16:39.938 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 19:16:39.938 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 19:16:39.939 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 19:16:39.939 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.1110ms
2022-11-08 19:16:39.962 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 19:16:39.963 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:39.963 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.4036ms
2022-11-08 19:16:39.963 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 19:16:39.963 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:39.964 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:16:39.964 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:16:39.968 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:16:40.034 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 19:16:40.041 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:16:40.048 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:16:40.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 19:16:40.056 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 91.5417ms
2022-11-08 19:16:40.056 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:16:40.056 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 92.4593ms
2022-11-08 19:16:46.607 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 19:16:46.608 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:46.608 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.4247ms
2022-11-08 19:16:46.612 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 19:16:46.612 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:46.612 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:16:46.613 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:16:46.638 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:16:46.647 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:16:46.651 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:16:46.655 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:16:46.658 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:16:46.658 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 19:16:46.662 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:16:46.665 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:16:46.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 19:16:46.668 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 54.5227ms
2022-11-08 19:16:46.668 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:16:46.669 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 56.7672ms
2022-11-08 19:16:48.618 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:16:48.619 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.619 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3788ms
2022-11-08 19:16:48.620 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:16:48.620 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.620 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2732ms
2022-11-08 19:16:48.694 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:16:48.694 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.694 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:16:48.695 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.695 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:16:48.695 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:16:48.698 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:16:48.698 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:16:48.698 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.5307ms
2022-11-08 19:16:48.698 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.4795ms
2022-11-08 19:16:48.726 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=lgQo26jFEtaoPoorVqcWaQ - -
2022-11-08 19:16:48.726 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.726 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:16:48.762 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=ctKCcxWYJHIVKvcOaMG4Yg - -
2022-11-08 19:16:48.762 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:16:48.763 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:18:20.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:18:20.556 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:20.556 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.9072ms
2022-11-08 19:18:20.557 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:18:20.557 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:20.567 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:18:20.567 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:18:20.572 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:18:20.589 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:18:20.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:18:20.597 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:18:20.598 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 30.686ms
2022-11-08 19:18:20.598 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:18:20.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 41.5974ms
2022-11-08 19:18:28.211 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:18:28.212 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:28.213 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.5709ms
2022-11-08 19:18:28.214 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:18:28.214 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:28.216 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 19:18:28.218 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 19:18:28.218 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 19:18:28.218 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 19:18:28.218 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 4.3859ms
2022-11-08 19:18:28.253 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 19:18:28.253 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:28.253 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3604ms
2022-11-08 19:18:28.254 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 19:18:28.254 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:18:28.254 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:18:28.254 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:18:28.257 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:18:28.261 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 19:18:28.267 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:18:28.273 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:18:28.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 19:18:28.279 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 24.6157ms
2022-11-08 19:18:28.279 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:18:28.279 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 25.4938ms
2022-11-08 19:19:04.810 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:19:04.811 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:04.811 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.3244ms
2022-11-08 19:19:04.811 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:19:04.812 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:04.814 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:19:04.815 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:19:04.821 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:04.837 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:19:04.843 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:04.847 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:04.853 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:19:04.855 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:19:04.855 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 40.0263ms
2022-11-08 19:19:04.855 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:19:04.856 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 44.2236ms
2022-11-08 19:19:07.254 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:19:07.254 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.255 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4371ms
2022-11-08 19:19:07.256 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:19:07.256 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.256 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3137ms
2022-11-08 19:19:07.318 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:19:07.318 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.318 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:19:07.319 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.320 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:19:07.320 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:19:07.321 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:19:07.324 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:19:07.325 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 6.4120ms
2022-11-08 19:19:07.324 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 6.6185ms
2022-11-08 19:19:07.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=ieMcNbO34v98Do6ZK-JrXg - -
2022-11-08 19:19:07.350 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.350 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:19:07.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Fq4g9femLNGLw7lMsEKvFg - -
2022-11-08 19:19:07.389 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:07.389 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:19:16.340 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products - -
2022-11-08 19:19:16.341 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:16.341 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products - - - 204 - - 0.4880ms
2022-11-08 19:19:16.342 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/products application/json 41
2022-11-08 19:19:16.343 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:16.343 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-08 19:19:16.364 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ECommerce.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:19:16.482 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:16.508 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:19:16.522 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2022-11-08 19:19:16.522 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi) in 157.7243ms
2022-11-08 19:19:16.522 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Add (ECommerce.WebApi)'
2022-11-08 19:19:16.522 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/products application/json 41 - 201 0 - 180.2865ms
2022-11-08 19:19:16.528 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:19:16.528 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:16.528 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5033ms
2022-11-08 19:19:16.529 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:19:16.529 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:16.529 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:19:16.529 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:19:16.530 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:16.533 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:19:16.533 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:19:16.537 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:19:16.537 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 8.023ms
2022-11-08 19:19:16.537 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:19:16.537 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 8.5376ms
2022-11-08 19:19:26.518 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:19:26.519 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:26.520 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6700ms
2022-11-08 19:19:26.521 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:19:26.521 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:26.522 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:19:26.523 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:19:26.525 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:26.534 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:19:26.539 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:26.545 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:26.553 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:19:26.554 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:19:26.555 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 32.005ms
2022-11-08 19:19:26.555 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:19:26.555 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 34.0921ms
2022-11-08 19:19:29.565 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 19:19:29.565 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:29.566 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4470ms
2022-11-08 19:19:29.567 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 19:19:29.568 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:29.568 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:19:29.568 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 19:19:29.570 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:29.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:19:29.582 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:29.587 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:19:29.597 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4);
2022-11-08 19:19:29.603 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 19:19:29.603 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 35.0227ms
2022-11-08 19:19:29.603 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:19:29.605 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 37.7026ms
2022-11-08 19:19:39.091 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:19:39.091 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:39.091 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3778ms
2022-11-08 19:19:39.092 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:19:39.093 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:39.093 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:19:39.093 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:19:39.093 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:19:39.093 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.2488ms
2022-11-08 19:19:39.093 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:19:39.093 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.0118ms
2022-11-08 19:19:39.101 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:19:39.101 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:39.101 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5075ms
2022-11-08 19:19:39.102 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:19:39.102 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:19:39.102 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:19:39.103 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:19:39.108 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:19:39.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:19:39.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:19:39.118 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:19:39.119 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.1353ms
2022-11-08 19:19:39.119 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:19:39.120 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 17.8811ms
2022-11-08 19:22:54.520 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:22:54.520 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:22:54.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=ctKCcxWYJHIVKvcOaMG4Yg - - - 101 - - 365789.4547ms
2022-11-08 19:22:54.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=lgQo26jFEtaoPoorVqcWaQ - - - 101 - - 365825.3990ms
2022-11-08 19:22:54.591 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:22:54.591 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:22:54.596 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=ieMcNbO34v98Do6ZK-JrXg - - - 101 - - 227258.3350ms
2022-11-08 19:22:54.596 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Fq4g9femLNGLw7lMsEKvFg - - - 101 - - 227218.3366ms
2022-11-08 19:23:33.069 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:23:33.070 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.071 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6502ms
2022-11-08 19:23:33.071 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:23:33.071 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.072 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.3178ms
2022-11-08 19:23:33.072 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:23:33.072 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.074 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:23:33.074 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:23:33.079 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:23:33.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:23:33.091 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.091 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:23:33.091 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:23:33.092 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:23:33.092 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.7552ms
2022-11-08 19:23:33.092 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:23:33.093 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:23:33.093 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.3103ms
2022-11-08 19:23:33.099 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:23:33.105 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 19:23:33.121 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:23:33.123 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:23:33.123 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 48.6868ms
2022-11-08 19:23:33.125 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:23:33.125 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 52.5110ms
2022-11-08 19:23:33.130 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:23:33.131 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.131 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3413ms
2022-11-08 19:23:33.132 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:23:33.133 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:33.133 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:23:33.133 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:23:33.134 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:23:33.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:23:33.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:23:33.142 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:23:33.142 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 9.3705ms
2022-11-08 19:23:33.145 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:23:33.145 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.4515ms
2022-11-08 19:23:34.873 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:23:34.873 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:34.874 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:23:34.874 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:23:34.876 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:23:34.881 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:23:34.884 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:23:34.886 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:23:34.887 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:34.887 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:23:34.887 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:34.887 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:23:34.888 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7320ms
2022-11-08 19:23:34.887 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7604ms
2022-11-08 19:23:34.892 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:23:34.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:23:34.892 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 18.2915ms
2022-11-08 19:23:34.892 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:23:34.893 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 19.3861ms
2022-11-08 19:23:34.939 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:23:34.939 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:23:34.939 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:34.939 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:34.939 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:23:34.939 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:23:34.941 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:23:34.941 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:23:34.941 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.0983ms
2022-11-08 19:23:34.941 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.2244ms
2022-11-08 19:23:35.038 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=IYwJmCCqq2aXa7vzYsXy7Q - -
2022-11-08 19:23:35.038 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:35.038 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:23:35.081 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=6Jz3IpInE0begt7dKBBwDQ - -
2022-11-08 19:23:35.081 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:23:35.081 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:23:37.141 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:23:37.142 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:23:37.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=IYwJmCCqq2aXa7vzYsXy7Q - - - 101 - - 2103.3214ms
2022-11-08 19:23:37.142 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=6Jz3IpInE0begt7dKBBwDQ - - - 101 - - 2060.7023ms
2022-11-08 19:29:55.491 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:29:55.491 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:29:55.493 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.493 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.493 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.1635ms
2022-11-08 19:29:55.493 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.1637ms
2022-11-08 19:29:55.536 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:29:55.536 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:29:55.537 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.537 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.538 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:29:55.538 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:29:55.539 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:29:55.539 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 2.9211ms
2022-11-08 19:29:55.539 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:29:55.540 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 3.3210ms
2022-11-08 19:29:55.566 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=-wqswpiRI4CI_7eUQ9hHPg - -
2022-11-08 19:29:55.566 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.566 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:29:55.611 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=WT1zgFn8eYsikN9HX0NRHA - -
2022-11-08 19:29:55.612 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:55.612 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:29:56.485 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:29:56.485 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:56.485 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5501ms
2022-11-08 19:29:56.486 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:29:56.486 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:56.486 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:29:56.486 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:29:56.490 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:29:56.529 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:29:56.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:29:56.536 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:29:56.540 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 53.2215ms
2022-11-08 19:29:56.540 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:29:56.540 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 54.4287ms
2022-11-08 19:29:58.907 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-08 19:29:58.908 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:58.908 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 204 - - 1.8161ms
2022-11-08 19:29:58.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-08 19:29:58.910 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:29:58.910 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-08 19:29:58.917 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:29:58.928 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:29:59.026 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:29:59.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:29:59.064 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 146.5826ms
2022-11-08 19:29:59.064 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-08 19:29:59.064 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/3714f710-928b-4a31-9c08-488e0069aed5 - - - 200 - application/json;+charset=utf-8 154.8378ms
2022-11-08 19:30:01.287 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=bbb6d693-09ea-46ea-86c3-722375c3fb9b&productId=3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-08 19:30:01.290 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:01.290 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/ChangeShowcaseImage?imageId=bbb6d693-09ea-46ea-86c3-722375c3fb9b&productId=3714f710-928b-4a31-9c08-488e0069aed5 - - - 204 - - 3.0181ms
2022-11-08 19:30:01.291 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=bbb6d693-09ea-46ea-86c3-722375c3fb9b&productId=3714f710-928b-4a31-9c08-488e0069aed5 - -
2022-11-08 19:30:01.291 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:01.292 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-08 19:30:01.304 +03:00 [INF] Route matched with {action = "ChangeShowcaseImage", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeShowcaseImage(ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:30:01.314 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:30:01.379 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND ((t."Id" = @__Parse_0) AND f."Showcase")
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-08 19:30:01.401 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId", t1."Id", t1."CreatedDate", t1."Name", t1."Price", t1."Stock", t1."UpdatedDate", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate"
FROM (
    SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase", t."Id" AS "Id0", t."CreatedDate" AS "CreatedDate0", t."Name", t."Price", t."Stock", t."UpdatedDate", t."ProductImageFilesId", t."ProductsId"
    FROM "Files" AS f
    INNER JOIN (
        SELECT p0."Id", p0."CreatedDate", p0."Name", p0."Price", p0."Stock", p0."UpdatedDate", p."ProductImageFilesId", p."ProductsId"
        FROM "ProductProductImageFile" AS p
        INNER JOIN "Products" AS p0 ON p."ProductsId" = p0."Id"
    ) AS t ON f."Id" = t."ProductImageFilesId"
    WHERE (f."Discriminator" = 'ProductImageFile') AND (f."Id" = @__Parse_0)
    LIMIT 1
) AS t0
LEFT JOIN (
    SELECT p1."ProductImageFilesId", p1."ProductsId", p2."Id", p2."CreatedDate", p2."Name", p2."Price", p2."Stock", p2."UpdatedDate"
    FROM "ProductProductImageFile" AS p1
    INNER JOIN "Products" AS p2 ON p1."ProductsId" = p2."Id"
) AS t1 ON t0."Id" = t1."ProductImageFilesId"
ORDER BY t0."Id", t0."ProductImageFilesId", t0."ProductsId", t0."Id0", t1."ProductImageFilesId", t1."ProductsId"
2022-11-08 19:30:01.410 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Files" SET "Showcase" = @p0
WHERE "Id" = @p1;
2022-11-08 19:30:01.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.ProductImageFile.ChangeShowCaseImage.ChangeShowCaseCommandResponse'.
2022-11-08 19:30:01.414 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi) in 109.2623ms
2022-11-08 19:30:01.414 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.ChangeShowcaseImage (ECommerce.WebApi)'
2022-11-08 19:30:01.414 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/ChangeShowcaseImage?imageId=bbb6d693-09ea-46ea-86c3-722375c3fb9b&productId=3714f710-928b-4a31-9c08-488e0069aed5 - - - 200 - application/json;+charset=utf-8 122.5174ms
2022-11-08 19:30:04.050 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:30:04.051 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:04.051 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6281ms
2022-11-08 19:30:04.052 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:30:04.052 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:04.053 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:30:04.055 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:30:04.055 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:30:04.055 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3769ms
2022-11-08 19:30:04.056 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:30:04.056 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.4379ms
2022-11-08 19:30:04.059 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:30:04.059 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:04.059 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.3855ms
2022-11-08 19:30:04.060 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:30:04.060 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:04.060 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:30:04.060 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:30:04.062 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:30:04.069 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:30:04.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:30:04.075 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:30:04.076 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.4947ms
2022-11-08 19:30:04.076 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:30:04.077 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 16.6308ms
2022-11-08 19:30:16.056 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:30:16.056 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.056 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4383ms
2022-11-08 19:30:16.057 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:30:16.057 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.057 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.2352ms
2022-11-08 19:30:16.058 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:30:16.058 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.058 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:30:16.058 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:30:16.058 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:30:16.058 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.058 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6742ms
2022-11-08 19:30:16.058 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:30:16.059 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:30:16.059 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.1970ms
2022-11-08 19:30:16.122 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=0K7pXOgJJ3yFSf9YjOdV1Q - -
2022-11-08 19:30:16.123 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.123 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:30:16.164 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=iL4dy29SAT2LrfuLHI-kBQ - -
2022-11-08 19:30:16.164 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:30:16.165 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:31:18.406 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:31:18.406 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:31:18.409 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:31:18.412 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:31:18.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=iL4dy29SAT2LrfuLHI-kBQ - - - 101 - - 62255.6215ms
2022-11-08 19:31:18.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=0K7pXOgJJ3yFSf9YjOdV1Q - - - 101 - - 62297.5217ms
2022-11-08 19:31:18.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=-wqswpiRI4CI_7eUQ9hHPg - - - 101 - - 82855.4387ms
2022-11-08 19:31:18.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=WT1zgFn8eYsikN9HX0NRHA - - - 101 - - 82809.4495ms
2022-11-08 19:32:39.974 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:32:39.975 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:39.975 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.9502ms
2022-11-08 19:32:39.976 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:32:39.977 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:39.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6682ms
2022-11-08 19:32:39.979 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:32:39.979 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:39.979 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4440ms
2022-11-08 19:32:39.980 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:32:39.980 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:39.983 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:32:39.983 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:32:39.988 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:32:40.026 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:32:40.032 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:32:40.036 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:32:40.042 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:32:40.042 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:32:40.043 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 60.0731ms
2022-11-08 19:32:40.043 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:32:40.044 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 63.5729ms
2022-11-08 19:32:40.054 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:32:40.054 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:40.054 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:32:40.055 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:32:40.055 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.2985ms
2022-11-08 19:32:40.055 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:32:40.055 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:40.055 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:32:40.056 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:32:40.056 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6665ms
2022-11-08 19:32:40.268 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=a1dVepO1kvKj5__qnpFaJA - -
2022-11-08 19:32:40.269 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:40.269 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:32:40.306 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=MwJsHnobp6vXT__UNHmfJw - -
2022-11-08 19:32:40.307 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:32:40.307 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:38:59.171 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:38:59.171 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:38:59.173 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=a1dVepO1kvKj5__qnpFaJA - - - 101 - - 378913.3094ms
2022-11-08 19:38:59.173 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=MwJsHnobp6vXT__UNHmfJw - - - 101 - - 378875.4243ms
2022-11-08 19:38:59.651 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:38:59.651 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:38:59.651 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6311ms
2022-11-08 19:38:59.652 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:38:59.653 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:38:59.654 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 19:38:59.658 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 19:38:59.658 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 19:38:59.658 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 19:38:59.659 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 6.1857ms
2022-11-08 19:38:59.673 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 19:38:59.673 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:38:59.673 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.7708ms
2022-11-08 19:38:59.679 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 19:38:59.681 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:38:59.682 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:38:59.684 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:38:59.694 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:38:59.738 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 19:38:59.750 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:38:59.761 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:38:59.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 19:38:59.765 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 80.5076ms
2022-11-08 19:38:59.765 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 19:38:59.765 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 86.1286ms
2022-11-08 19:39:06.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 19:39:06.876 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:06.876 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.8513ms
2022-11-08 19:39:06.877 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 19:39:06.878 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:06.879 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:39:06.880 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:39:07.063 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:39:07.086 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:39:07.092 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:39:07.097 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:39:07.113 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:39:07.114 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 19:39:07.121 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:39:07.126 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:39:07.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 19:39:07.129 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 249.4836ms
2022-11-08 19:39:07.130 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:39:07.130 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 252.4097ms
2022-11-08 19:39:08.610 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:39:08.610 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.610 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4236ms
2022-11-08 19:39:08.611 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 19:39:08.612 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.612 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3907ms
2022-11-08 19:39:08.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:39:08.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 19:39:08.685 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.685 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.685 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 19:39:08.685 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 19:39:08.685 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 19:39:08.685 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 19:39:08.685 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.4549ms
2022-11-08 19:39:08.685 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3298ms
2022-11-08 19:39:08.714 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=1tSj3V6DGNQHyDP1RzgAWg - -
2022-11-08 19:39:08.715 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.715 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 19:39:08.755 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=YHLVmmK9XxYPF2rYHj_Zpg - -
2022-11-08 19:39:08.755 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:08.756 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 19:39:09.634 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:39:09.634 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:09.634 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.7922ms
2022-11-08 19:39:09.635 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 19:39:09.636 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:09.636 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:39:09.636 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:39:09.639 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:39:09.647 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:39:09.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:39:09.660 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:39:09.661 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 24.5382ms
2022-11-08 19:39:09.661 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:39:09.661 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 25.5659ms
2022-11-08 19:39:12.868 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-08 19:39:12.869 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:12.870 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 204 - - 1.1835ms
2022-11-08 19:39:12.870 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - -
2022-11-08 19:39:12.871 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:39:12.871 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-08 19:39:12.872 +03:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:39:12.875 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:39:12.882 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:39:12.883 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:39:12.884 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi) in 11.7215ms
2022-11-08 19:39:12.884 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.GetProductImages (ECommerce.WebApi)'
2022-11-08 19:39:12.884 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products/getproductimages/222f10eb-aae1-4d4c-8c6b-5448ff1a3e20 - - - 200 - application/json;+charset=utf-8 13.3524ms
2022-11-08 19:43:29.538 +03:00 [INF] Application is shutting down...
2022-11-08 19:43:29.548 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 19:43:29.548 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 19:43:29.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=YHLVmmK9XxYPF2rYHj_Zpg - - - 101 - - 260805.5277ms
2022-11-08 19:43:29.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=1tSj3V6DGNQHyDP1RzgAWg - - - 101 - - 260846.4567ms
2022-11-08 19:43:41.542 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:43:52.366 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:43:52.597 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:43:52.619 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:43:52.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 19:43:52.651 +03:00 [INF] Applying migration '20221108164341_mig7'.
2022-11-08 19:43:52.694 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Orders" ADD "OrderCode" text NULL;
2022-11-08 19:43:52.696 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108164341_mig7', '6.0.8');
2022-11-08 19:48:41.237 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:48:49.026 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:48:49.249 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:48:49.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:48:49.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 19:48:49.301 +03:00 [INF] Applying migration '20221108164841_mig8'.
2022-11-08 19:48:49.352 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Orders_OrderCode" ON "Orders" ("OrderCode");
2022-11-08 19:48:49.353 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20221108164841_mig8', '6.0.8');
2022-11-08 19:54:11.567 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:11.788 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:54:11.808 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-11-08 19:54:11.817 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-11-08 19:54:11.839 +03:00 [INF] No migrations were applied. The database is already up to date.
2022-11-08 19:54:28.742 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 19:54:28.917 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 19:54:28.917 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 19:54:28.919 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 19:54:28.919 +03:00 [INF] Hosting environment: Development
2022-11-08 19:54:28.919 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 19:54:29.624 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 19:54:29.682 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:29.690 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 73.6816ms
2022-11-08 19:54:29.695 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 19:54:29.698 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:29.711 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:29.752 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:54:31.972 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:32.483 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:32.622 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:32.696 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:32.701 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:32.704 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 19:54:32.880 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:54:33.059 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:54:33.109 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 19:54:33.134 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 3373.1976ms
2022-11-08 19:54:33.136 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:33.166 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 3471.1241ms
2022-11-08 19:54:33.767 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 19:54:33.768 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:33.768 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 1.0489ms
2022-11-08 19:54:33.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 19:54:33.770 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:33.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.3822ms
2022-11-08 19:54:33.773 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 19:54:33.773 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:33.774 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:33.774 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:54:33.790 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 19:54:33.790 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:33.792 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:33.792 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 19:54:33.811 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:33.812 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:33.814 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:33.816 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:33.819 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:33.822 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:33.823 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 19:54:33.827 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:54:33.831 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:54:33.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 19:54:33.835 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 60.704ms
2022-11-08 19:54:33.835 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:33.835 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 62.2043ms
2022-11-08 19:54:33.864 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:33.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:33.869 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 19:54:33.873 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 19:54:33.873 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 19:54:33.876 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 19:54:33.879 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 19:54:33.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 19:54:33.881 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 88.9352ms
2022-11-08 19:54:33.881 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 19:54:33.881 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 91.0701ms
2022-11-08 19:54:36.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:54:36.379 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:36.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.8023ms
2022-11-08 19:54:36.380 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 19:54:36.390 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:36.390 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:54:36.393 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 19:54:36.395 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 19:54:36.397 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 3.5447ms
2022-11-08 19:54:36.397 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 19:54:36.397 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 16.7364ms
2022-11-08 19:54:36.401 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:54:36.401 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:36.401 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4238ms
2022-11-08 19:54:36.402 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 19:54:36.402 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:36.402 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:54:36.409 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 19:54:36.434 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:36.476 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 19:54:36.481 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 19:54:36.511 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 19:54:36.512 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 19:54:36.605 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 19:54:36.622 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 212.9229ms
2022-11-08 19:54:36.622 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 19:54:36.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 220.3325ms
2022-11-08 19:54:37.650 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 19:54:37.650 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:37.651 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8945ms
2022-11-08 19:54:37.652 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:54:37.652 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:37.811 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:37.815 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:37.830 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:37.865 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:37.917 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:37.924 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:37.955 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:54:37.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 19:54:37.990 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:54:37.991 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 175.0148ms
2022-11-08 19:54:37.991 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:37.994 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 342.3559ms
2022-11-08 19:54:38.381 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:54:38.382 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:38.383 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:38.383 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:38.384 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:38.389 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:38.392 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:38.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:38.396 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:54:38.399 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 19:54:38.401 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:54:38.401 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 18.6605ms
2022-11-08 19:54:38.402 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:38.402 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 20.3228ms
2022-11-08 19:54:39.228 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:54:39.228 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:39.230 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:39.231 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:39.243 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:39.248 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:39.252 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:39.255 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:39.259 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:54:39.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 19:54:39.264 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:54:39.264 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 33.5868ms
2022-11-08 19:54:39.264 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:39.265 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 36.8921ms
2022-11-08 19:54:40.453 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:54:40.453 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:40.456 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:40.457 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:40.463 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:40.473 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:40.478 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:40.480 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:40.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:54:40.487 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 19:54:40.491 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:54:40.491 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.1275ms
2022-11-08 19:54:40.491 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:40.492 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 39.3387ms
2022-11-08 19:54:40.921 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 19:54:40.921 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:40.922 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:40.922 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:40.924 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:40.932 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:40.937 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:40.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:40.946 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 19:54:40.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2022-11-08 19:54:40.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 19:54:40.953 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 30.8386ms
2022-11-08 19:54:40.953 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 19:54:40.953 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 32.8014ms
2022-11-08 19:54:42.377 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 19:54:42.378 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:42.379 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:54:42.387 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 19:54:42.398 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:42.404 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:42.408 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:42.410 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:42.432 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 19:54:42.459 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 19:54:42.462 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 74.8738ms
2022-11-08 19:54:42.462 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 19:54:42.462 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 85.4427ms
2022-11-08 19:54:44.947 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 19:54:44.947 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:44.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.8894ms
2022-11-08 19:54:44.948 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 19:54:44.949 +03:00 [INF] CORS policy execution successful.
2022-11-08 19:54:44.949 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:54:44.954 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 19:54:44.967 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 19:54:44.973 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 19:54:44.977 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:44.979 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 19:54:45.050 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 19:54:45.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 19:54:45.055 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 101.2067ms
2022-11-08 19:54:45.055 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 19:54:45.055 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 106.9790ms
2022-11-08 20:02:14.159 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:02:14.163 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:14.165 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 5.3937ms
2022-11-08 20:02:14.167 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:02:14.168 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:14.173 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 20:02:14.191 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 20:02:14.191 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 20:02:14.199 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 20:02:14.199 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 32.2363ms
2022-11-08 20:02:14.400 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 20:02:14.401 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:14.401 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3626ms
2022-11-08 20:02:14.402 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 20:02:14.402 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:14.402 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:02:14.406 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 20:02:14.416 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:14.470 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 20:02:14.475 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 20:02:14.479 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 20:02:14.483 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 20:02:14.484 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 78.2207ms
2022-11-08 20:02:14.484 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:02:14.484 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 82.6622ms
2022-11-08 20:02:15.726 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:02:15.726 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:15.727 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:15.728 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:15.730 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:15.740 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:15.783 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 20:02:15.800 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:02:15.801 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:02:15.801 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 73.1639ms
2022-11-08 20:02:15.801 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:15.801 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 75.4031ms
2022-11-08 20:02:17.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:02:17.947 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:17.948 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:17.948 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:17.952 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:17.958 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:17.963 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:17.965 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:17.971 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:02:17.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:02:17.972 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.7556ms
2022-11-08 20:02:17.972 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:17.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.3235ms
2022-11-08 20:02:19.956 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:02:19.957 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:19.957 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.7697ms
2022-11-08 20:02:19.958 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:02:19.958 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:19.959 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:02:19.959 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 20:02:19.959 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 20:02:19.960 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.4646ms
2022-11-08 20:02:19.960 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:02:19.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.8234ms
2022-11-08 20:02:19.964 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:02:19.964 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:19.964 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4990ms
2022-11-08 20:02:19.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:02:19.965 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:19.966 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:02:19.966 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 20:02:19.969 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:19.974 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 20:02:19.976 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 20:02:19.982 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 20:02:19.984 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.7497ms
2022-11-08 20:02:19.984 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:02:19.984 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 18.8464ms
2022-11-08 20:02:24.476 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:02:24.477 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:24.477 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7497ms
2022-11-08 20:02:24.479 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:02:24.479 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:24.480 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:24.480 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:24.482 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:24.488 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:24.491 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:24.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:24.499 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:02:24.512 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:02:24.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:02:24.518 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 37.9938ms
2022-11-08 20:02:24.519 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:24.519 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 39.8380ms
2022-11-08 20:02:24.911 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:02:24.911 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:24.912 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:24.912 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:24.913 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:24.917 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:24.922 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:24.928 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:24.938 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:02:24.942 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:02:24.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:02:24.946 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 33.7227ms
2022-11-08 20:02:24.946 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:24.946 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 34.9575ms
2022-11-08 20:02:25.491 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:02:25.491 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:25.492 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:25.492 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:25.494 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:25.497 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:25.503 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:25.507 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:25.511 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:02:25.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:02:25.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:02:25.517 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 25.1012ms
2022-11-08 20:02:25.517 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:02:25.517 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 26.7515ms
2022-11-08 20:02:35.824 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:02:35.824 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:35.825 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.9023ms
2022-11-08 20:02:35.825 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:02:35.826 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:02:35.826 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:35.826 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:02:35.828 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:02:35.833 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:02:35.843 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:35.847 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:02:35.853 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:02:35.855 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:02:35.855 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 28.5217ms
2022-11-08 20:02:35.855 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:02:35.855 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 29.9033ms
2022-11-08 20:10:18.488 +03:00 [INF] Application is shutting down...
2022-11-08 20:10:25.527 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 20:10:25.742 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 20:10:25.742 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 20:10:25.744 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 20:10:25.745 +03:00 [INF] Hosting environment: Development
2022-11-08 20:10:25.745 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 20:10:42.914 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 20:10:42.971 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:10:42.980 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 68.4551ms
2022-11-08 20:10:42.985 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 20:10:42.988 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:10:43.231 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:10:43.270 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 20:10:45.038 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:10:45.665 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:10:45.828 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:10:45.837 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:10:46.091 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:10:46.140 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 20:10:46.153 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 2875.315ms
2022-11-08 20:10:46.155 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:10:46.182 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 3196.5750ms
2022-11-08 20:11:07.234 +03:00 [INF] Application is shutting down...
2022-11-08 20:11:12.506 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 20:11:12.819 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 20:11:12.820 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 20:11:12.826 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 20:11:12.826 +03:00 [INF] Hosting environment: Development
2022-11-08 20:11:12.826 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 20:11:16.295 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:11:16.352 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:16.359 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 66.5817ms
2022-11-08 20:11:16.363 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:11:16.372 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:16.655 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:11:16.698 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:11:18.544 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:19.197 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:19.372 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:19.381 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:19.473 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:11:19.538 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:11:19.556 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2850.4565ms
2022-11-08 20:11:19.559 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:11:19.588 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 3225.1174ms
2022-11-08 20:11:26.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:11:26.668 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.670 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 4.8618ms
2022-11-08 20:11:26.672 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:11:26.672 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.672 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6825ms
2022-11-08 20:11:26.737 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:11:26.737 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:11:26.737 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.737 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.741 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 20:11:26.741 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 20:11:26.755 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 20:11:26.755 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 20:11:26.756 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 18.6545ms
2022-11-08 20:11:26.756 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 18.6150ms
2022-11-08 20:11:26.788 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=pWJKOOkNOK0dQXresiDwEg - -
2022-11-08 20:11:26.789 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.789 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 20:11:26.837 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Rr6gW1A0CO5v3dZXJU3T9Q - -
2022-11-08 20:11:26.837 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:26.837 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 20:11:28.315 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:11:28.316 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:28.316 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6971ms
2022-11-08 20:11:28.317 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:11:28.317 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:28.318 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:11:28.321 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 20:11:28.330 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 20:11:28.348 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 26.4118ms
2022-11-08 20:11:28.348 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:11:28.349 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 31.6483ms
2022-11-08 20:11:28.356 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:11:28.356 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:28.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5045ms
2022-11-08 20:11:28.359 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:11:28.359 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:28.359 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:11:28.364 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 20:11:28.413 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:28.440 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 20:11:28.442 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 20:11:28.461 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 20:11:28.461 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 20:11:28.482 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 20:11:28.496 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 131.8068ms
2022-11-08 20:11:28.496 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:11:28.496 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 137.8220ms
2022-11-08 20:11:29.307 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:11:29.307 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:29.308 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6497ms
2022-11-08 20:11:29.309 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:11:29.309 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:29.312 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:29.317 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:11:29.356 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:29.371 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:29.515 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 20:11:29.551 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:11:29.579 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:11:29.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:11:29.583 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 265.893ms
2022-11-08 20:11:29.583 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:29.583 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 274.5341ms
2022-11-08 20:11:30.012 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:11:30.012 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:30.013 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:30.013 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:11:30.015 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:30.018 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:30.020 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:30.023 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:30.027 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:11:30.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:11:30.032 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:11:30.032 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 18.2891ms
2022-11-08 20:11:30.032 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:30.032 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 20.5051ms
2022-11-08 20:11:30.583 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:11:30.583 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:30.584 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:30.584 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:11:30.607 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:30.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:30.622 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:30.625 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:30.629 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:11:30.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:11:30.636 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:11:30.636 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 51.9281ms
2022-11-08 20:11:30.636 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:11:30.636 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 53.9995ms
2022-11-08 20:11:31.488 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:11:31.488 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:31.489 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:11:31.489 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:11:31.492 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:31.497 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:31.500 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:31.503 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:31.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:11:31.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:11:31.512 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.3228ms
2022-11-08 20:11:31.513 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:11:31.513 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.0668ms
2022-11-08 20:11:35.814 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 20:11:35.814 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:35.815 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.5196ms
2022-11-08 20:11:35.815 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 20:11:35.816 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:11:35.816 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:11:35.820 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 20:11:35.835 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:11:35.841 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:11:35.845 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:35.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:11:35.896 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:11:35.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 20:11:35.905 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 83.7165ms
2022-11-08 20:11:35.905 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:11:35.905 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 89.9487ms
2022-11-08 20:11:57.688 +03:00 [INF] Application is shutting down...
2022-11-08 20:11:57.711 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 20:11:57.711 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 20:11:57.712 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Rr6gW1A0CO5v3dZXJU3T9Q - - - 101 - - 30876.1516ms
2022-11-08 20:11:57.712 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=pWJKOOkNOK0dQXresiDwEg - - - 101 - - 30924.5827ms
2022-11-08 20:12:03.310 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 20:12:03.494 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 20:12:03.495 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 20:12:03.498 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 20:12:03.498 +03:00 [INF] Hosting environment: Development
2022-11-08 20:12:03.498 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 20:12:09.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:12:09.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:12:09.937 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:09.937 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:09.944 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 54.1692ms
2022-11-08 20:12:09.944 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 54.1679ms
2022-11-08 20:12:09.969 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:12:09.970 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:09.981 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 20:12:09.986 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:12:09.986 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:09.986 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 20:12:09.993 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 20:12:09.993 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 20:12:09.994 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 8.0239ms
2022-11-08 20:12:09.994 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 24.9118ms
2022-11-08 20:12:10.037 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=TkZ-2pzMR1JDfSQJ360OEw - -
2022-11-08 20:12:10.044 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.045 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 20:12:10.091 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=3YY4eS4CP5zsgfUDU9oRyQ - -
2022-11-08 20:12:10.091 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.091 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 20:12:10.224 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:12:10.224 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.224 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.4998ms
2022-11-08 20:12:10.226 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 20:12:10.228 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.229 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:12:10.239 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 20:12:10.247 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 20:12:10.255 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 11.4869ms
2022-11-08 20:12:10.257 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 20:12:10.258 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 31.7980ms
2022-11-08 20:12:10.260 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:12:10.260 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.260 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4801ms
2022-11-08 20:12:10.261 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 20:12:10.261 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:10.261 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:12:10.284 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 20:12:11.911 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:12.240 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 20:12:12.260 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 20:12:12.323 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 20:12:12.323 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 20:12:12.540 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 20:12:12.577 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 2293.1561ms
2022-11-08 20:12:12.578 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 20:12:12.594 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 2332.8555ms
2022-11-08 20:12:13.812 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:12:13.813 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:13.814 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.0200ms
2022-11-08 20:12:13.815 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:12:13.816 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:14.094 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:14.098 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:12:14.151 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:14.194 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:12:14.485 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 20:12:14.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:12:14.571 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:12:14.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:12:14.585 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 486.6681ms
2022-11-08 20:12:14.585 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:14.586 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 770.9374ms
2022-11-08 20:12:14.981 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:12:14.981 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:14.982 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:14.982 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:12:14.991 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:15.000 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:12:15.014 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:15.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:15.025 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:12:15.031 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:12:15.034 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:12:15.034 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 51.7409ms
2022-11-08 20:12:15.034 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:15.035 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 53.3860ms
2022-11-08 20:12:15.632 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 20:12:15.632 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:15.635 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:15.635 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:12:15.657 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:15.662 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:12:15.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:15.668 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:15.671 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 20:12:15.674 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:12:15.680 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 20:12:15.681 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 45.5864ms
2022-11-08 20:12:15.681 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 20:12:15.681 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 49.0961ms
2022-11-08 20:12:16.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:12:16.523 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:16.523 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:12:16.528 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:12:16.539 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:16.544 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:12:16.548 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:16.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:16.575 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:12:16.594 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:12:16.597 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 69.0354ms
2022-11-08 20:12:16.597 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:12:16.597 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 75.0354ms
2022-11-08 20:12:18.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 20:12:18.614 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:18.614 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.6585ms
2022-11-08 20:12:18.615 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 20:12:18.615 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:12:18.616 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:12:18.621 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 20:12:18.638 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:12:18.642 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:12:18.645 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:18.648 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:12:18.673 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 20:12:18.678 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 20:12:18.679 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 57.475ms
2022-11-08 20:12:18.679 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 20:12:18.679 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 64.4330ms
2022-11-08 20:19:01.423 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 20:19:01.423 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 20:19:01.425 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=3YY4eS4CP5zsgfUDU9oRyQ - - - 101 - - 411349.5257ms
2022-11-08 20:19:01.425 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=TkZ-2pzMR1JDfSQJ360OEw - - - 101 - - 411402.8193ms
2022-11-08 20:19:01.971 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:19:01.972 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:19:01.973 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6145ms
2022-11-08 20:19:01.974 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:19:01.974 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:19:01.994 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 20:19:02.027 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 20:19:02.029 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 20:19:02.046 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 20:19:02.046 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 72.2033ms
2022-11-08 20:19:02.100 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 20:19:02.100 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:19:02.100 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.7170ms
2022-11-08 20:19:02.102 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 20:19:02.104 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:19:02.105 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:19:02.113 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 20:19:02.177 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:19:02.352 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 20:19:02.434 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 20:19:02.492 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 20:19:02.521 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 20:19:02.528 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 403.4288ms
2022-11-08 20:19:02.528 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:19:02.529 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 427.4203ms
2022-11-08 20:36:08.930 +03:00 [INF] Application is shutting down...
2022-11-08 20:51:09.686 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 20:51:09.963 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 20:51:09.963 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 20:51:09.967 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 20:51:09.968 +03:00 [INF] Hosting environment: Development
2022-11-08 20:51:09.968 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 20:57:44.008 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:57:44.070 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:44.079 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 74.0452ms
2022-11-08 20:57:44.084 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:57:44.095 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:44.313 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 20:57:44.339 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 20:57:44.346 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 20:57:44.369 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 20:57:44.371 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 286.3812ms
2022-11-08 20:57:44.407 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 20:57:44.409 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:44.410 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 2.3692ms
2022-11-08 20:57:44.414 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 20:57:44.416 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:44.423 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:57:44.547 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 20:57:46.537 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:57:47.002 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 20:57:47.139 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2582.8805ms
2022-11-08 20:57:47.141 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 20:57:47.149 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 20:57:47.166 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 20:57:47.192 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 2777.6556ms
2022-11-08 20:57:51.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 20:57:51.151 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:51.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.9481ms
2022-11-08 20:57:51.152 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 20:57:51.152 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:51.154 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 20:57:51.160 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 20:57:51.551 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:57:51.564 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 20:57:51.621 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 20:57:51.634 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 20:57:51.638 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 20:57:51.639 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 20:57:51.690 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 20:57:51.846 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 20:57:51.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 20:57:51.885 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 724.8154ms
2022-11-08 20:57:51.885 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 20:57:51.885 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 733.1199ms
2022-11-08 20:57:53.438 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:57:53.438 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.438 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5706ms
2022-11-08 20:57:53.439 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 20:57:53.439 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.440 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4697ms
2022-11-08 20:57:53.506 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:57:53.506 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.521 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 20:57:53.522 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 20:57:53.522 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.522 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 20:57:53.538 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 20:57:53.538 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 20:57:53.538 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 16.7825ms
2022-11-08 20:57:53.538 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 32.4249ms
2022-11-08 20:57:53.568 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=aSXD89SY5MsSAe4MMlAPcw - -
2022-11-08 20:57:53.568 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.569 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 20:57:53.621 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=Wn7nW46IcYrNS31__GQ28Q - -
2022-11-08 20:57:53.622 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:53.622 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 20:57:54.862 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 20:57:54.862 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:54.863 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.5152ms
2022-11-08 20:57:54.863 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders - -
2022-11-08 20:57:54.864 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:57:54.889 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 20:57:54.892 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 20:57:54.895 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 20:57:54.896 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 4.1094ms
2022-11-08 20:57:54.896 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 20:57:54.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders - - - 415 - application/problem+json;+charset=utf-8 32.7477ms
2022-11-08 20:58:03.411 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 20:58:03.412 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=aSXD89SY5MsSAe4MMlAPcw - - - 101 - - 9844.1719ms
2022-11-08 20:58:03.411 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 20:58:03.412 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=Wn7nW46IcYrNS31__GQ28Q - - - 101 - - 9791.0109ms
2022-11-08 20:58:03.832 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 20:58:03.832 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:58:03.833 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.2814ms
2022-11-08 20:58:03.836 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 20:58:03.839 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:58:03.844 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:58:03.852 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 20:58:03.879 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 20:58:03.882 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 20:58:03.883 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:58:03.883 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.3090ms
2022-11-08 20:58:03.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders - -
2022-11-08 20:58:03.884 +03:00 [INF] CORS policy execution successful.
2022-11-08 20:58:03.884 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 20:58:03.885 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 20:58:03.885 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 20:58:03.885 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 0.542ms
2022-11-08 20:58:03.885 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 20:58:03.885 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders - - - 415 - application/problem+json;+charset=utf-8 1.6951ms
2022-11-08 20:58:04.026 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 20:58:04.095 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 20:58:04.215 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 20:58:04.273 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 20:58:04.275 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 20:58:04.277 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 424.7341ms
2022-11-08 20:58:04.277 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 20:58:04.279 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 443.6705ms
2022-11-08 21:02:06.059 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:02:06.065 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:06.066 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 7.2729ms
2022-11-08 21:02:06.067 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:02:06.068 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:06.073 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 21:02:06.098 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 21:02:06.099 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 21:02:06.101 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 21:02:06.101 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 34.2786ms
2022-11-08 21:02:06.442 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 21:02:06.446 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:06.451 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 7.9270ms
2022-11-08 21:02:06.453 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 21:02:06.453 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:06.454 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:02:06.454 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 21:02:06.470 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:02:06.491 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 21:02:06.500 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 21:02:06.506 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 21:02:06.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 21:02:06.523 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 68.0711ms
2022-11-08 21:02:06.523 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:02:06.523 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 70.1998ms
2022-11-08 21:02:49.427 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:02:49.429 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:49.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.8938ms
2022-11-08 21:02:49.434 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:02:49.434 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:49.438 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:02:49.441 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:02:49.456 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:02:49.536 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:02:49.540 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:02:49.544 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:02:49.549 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:02:49.549 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:02:49.550 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 108.4583ms
2022-11-08 21:02:49.550 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:02:49.550 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 116.1847ms
2022-11-08 21:02:51.281 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:02:51.283 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.283 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.4431ms
2022-11-08 21:02:51.285 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:02:51.285 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.285 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4707ms
2022-11-08 21:02:51.350 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:02:51.350 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:02:51.350 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.350 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.352 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 21:02:51.352 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 21:02:51.354 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 21:02:51.354 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 21:02:51.354 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.5605ms
2022-11-08 21:02:51.354 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.6024ms
2022-11-08 21:02:51.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=Q_9cHCs2Lqdq9L68g66v6g - -
2022-11-08 21:02:51.382 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.382 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 21:02:51.422 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=vGlxH_mRDhvv81wjuNNXMg - -
2022-11-08 21:02:51.423 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:51.423 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 21:02:52.344 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:02:52.344 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:52.345 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5593ms
2022-11-08 21:02:52.346 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:02:52.346 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:02:52.348 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:02:52.349 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:02:52.353 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 21:02:52.353 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 4.2345ms
2022-11-08 21:02:52.354 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:02:52.354 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 415 - application/problem+json;+charset=utf-8 7.9472ms
2022-11-08 21:08:10.227 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 21:08:10.227 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 21:08:10.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=Q_9cHCs2Lqdq9L68g66v6g - - - 101 - - 318863.1059ms
2022-11-08 21:08:10.230 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=vGlxH_mRDhvv81wjuNNXMg - - - 101 - - 318822.2658ms
2022-11-08 21:08:10.621 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:08:10.622 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:08:10.622 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.1480ms
2022-11-08 21:08:10.624 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:08:10.624 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:08:10.625 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:08:10.626 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:08:10.636 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:08:10.681 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:08:10.681 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:08:10.682 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5797ms
2022-11-08 21:08:10.685 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:08:10.686 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:08:10.687 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:08:10.687 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:08:10.688 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 21:08:10.688 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 1.1152ms
2022-11-08 21:08:10.689 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:08:10.689 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 415 - application/problem+json;+charset=utf-8 3.3628ms
2022-11-08 21:08:10.720 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:08:10.725 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:08:10.728 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:08:10.733 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:08:10.734 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:08:10.734 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 107.962ms
2022-11-08 21:08:10.734 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:08:10.734 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 110.5627ms
2022-11-08 21:09:27.533 +03:00 [INF] Application is shutting down...
2022-11-08 21:11:02.427 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 21:11:02.575 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 21:11:02.575 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 21:11:02.577 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 21:11:02.577 +03:00 [INF] Hosting environment: Development
2022-11-08 21:11:02.577 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 21:11:20.146 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:11:20.146 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:11:20.182 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:11:20.182 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:11:20.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 44.4517ms
2022-11-08 21:11:20.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 44.4392ms
2022-11-08 21:11:20.193 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:11:20.193 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:11:20.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:11:20.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:11:20.351 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:11:20.351 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:11:20.376 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:11:20.376 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:11:20.403 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 21:11:20.415 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 32.1594ms
2022-11-08 21:11:20.417 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:11:20.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 415 - application/problem+json;+charset=utf-8 224.5839ms
2022-11-08 21:11:21.422 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:11:21.782 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:11:21.882 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:11:21.902 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:11:21.956 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:11:21.963 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:11:21.965 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 1588.9858ms
2022-11-08 21:11:21.966 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:11:21.980 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 1786.9377ms
2022-11-08 21:11:32.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:11:32.657 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 21:11:32.667 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 21:11:32.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 401 0 - 31.3463ms
2022-11-08 21:12:09.747 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:12:09.749 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:12:09.751 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 4.0504ms
2022-11-08 21:12:09.762 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:12:09.763 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:12:09.766 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:12:09.768 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:12:09.793 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:12:09.793 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:12:09.793 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3019ms
2022-11-08 21:12:09.794 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:12:09.794 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:12:09.794 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:12:09.795 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:12:09.796 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-11-08 21:12:09.796 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 1.5165ms
2022-11-08 21:12:09.796 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:12:09.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 415 - application/problem+json;+charset=utf-8 2.4395ms
2022-11-08 21:12:09.827 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:12:09.876 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:12:09.882 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:12:09.886 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:12:09.893 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:12:09.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:12:09.894 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 125.5977ms
2022-11-08 21:12:09.895 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:12:09.895 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 132.4689ms
2022-11-08 21:13:20.040 +03:00 [INF] Application is shutting down...
2022-11-08 21:13:23.039 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 21:13:23.179 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 21:13:23.180 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 21:13:23.181 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 21:13:23.181 +03:00 [INF] Hosting environment: Development
2022-11-08 21:13:23.181 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 21:13:26.229 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:26.228 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:13:26.297 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:26.297 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:26.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 78.1702ms
2022-11-08 21:13:26.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 82.7686ms
2022-11-08 21:13:26.317 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:26.317 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:13:26.328 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:26.328 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:26.501 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:13:26.501 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:26.526 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:13:26.526 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:13:27.643 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:13:27.643 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:13:27.779 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:13:27.780 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:13:27.958 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:13:27.972 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:13:28.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:13:28.020 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 1488.3767ms
2022-11-08 21:13:28.021 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:28.041 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 1724.2841ms
2022-11-08 21:13:28.077 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:13:28.098 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:13:28.147 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:13:28.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:13:28.149 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 1623.1429ms
2022-11-08 21:13:28.149 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:13:28.149 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 1832.8110ms
2022-11-08 21:13:37.177 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:13:37.177 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:37.178 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8421ms
2022-11-08 21:13:37.178 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:13:37.179 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:37.184 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:13:37.185 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:13:37.206 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:37.207 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:37.207 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3054ms
2022-11-08 21:13:37.208 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:37.209 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:37.209 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:37.209 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:13:37.231 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:13:37.231 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:13:37.244 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:13:37.244 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:13:37.245 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:13:37.245 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 35.6462ms
2022-11-08 21:13:37.245 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:37.245 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 36.7873ms
2022-11-08 21:13:37.248 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:13:37.252 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:13:37.255 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:13:37.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:13:37.256 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 70.8757ms
2022-11-08 21:13:37.256 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:13:37.256 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 77.2251ms
2022-11-08 21:13:42.153 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:13:42.153 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.153 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7704ms
2022-11-08 21:13:42.154 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:13:42.154 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.155 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6296ms
2022-11-08 21:13:42.200 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:13:42.200 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.201 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:13:42.201 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.202 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 21:13:42.202 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 21:13:42.209 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 21:13:42.209 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 21:13:42.209 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 8.2400ms
2022-11-08 21:13:42.209 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 8.6322ms
2022-11-08 21:13:42.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=RrszdKKATW_Gm3-9hpgEgQ - -
2022-11-08 21:13:42.243 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.243 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 21:13:42.291 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=x8ea1q6H4eJpZ9FdKgEc1A - -
2022-11-08 21:13:42.291 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:42.292 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 21:13:43.434 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:43.434 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:43.434 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5292ms
2022-11-08 21:13:43.435 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:13:43.435 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:13:43.436 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:43.436 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:13:43.443 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:13:43.450 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:13:43.450 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:13:43.451 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 14.2065ms
2022-11-08 21:13:43.451 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:13:43.451 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 15.7987ms
2022-11-08 21:15:37.367 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 21:15:37.367 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 21:15:37.379 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=RrszdKKATW_Gm3-9hpgEgQ - - - 101 - - 115141.0805ms
2022-11-08 21:15:37.380 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=x8ea1q6H4eJpZ9FdKgEc1A - - - 101 - - 115092.4275ms
2022-11-08 21:15:37.807 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:15:37.811 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:15:37.812 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 5.1801ms
2022-11-08 21:15:37.813 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:15:37.815 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:15:37.826 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:15:37.834 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:15:37.839 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:15:37.860 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:15:37.913 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:15:37.914 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 74.8980ms
2022-11-08 21:15:37.922 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:15:37.922 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:15:37.922 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:15:37.923 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:15:37.939 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:15:37.955 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:15:37.955 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:15:37.957 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:15:37.960 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 22.3517ms
2022-11-08 21:15:37.960 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:15:37.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 38.4152ms
2022-11-08 21:15:37.981 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:15:37.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:15:38.033 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:15:38.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:15:38.034 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 199.5905ms
2022-11-08 21:15:38.034 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:15:38.035 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 221.1882ms
2022-11-08 21:17:10.388 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:17:10.401 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:10.402 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 14.4363ms
2022-11-08 21:17:10.403 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:17:10.403 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:10.410 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 21:17:10.439 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 21:17:10.440 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 21:17:10.446 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 21:17:10.446 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 43.0720ms
2022-11-08 21:17:10.635 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 21:17:10.636 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:10.636 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.5379ms
2022-11-08 21:17:10.637 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 21:17:10.637 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:10.637 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:17:10.646 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 21:17:10.671 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:17:10.693 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 21:17:10.724 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 21:17:10.828 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 21:17:10.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 21:17:10.862 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 215.949ms
2022-11-08 21:17:10.862 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:17:10.863 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 226.1155ms
2022-11-08 21:17:18.774 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 21:17:18.779 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:18.780 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 5.5675ms
2022-11-08 21:17:18.784 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 21:17:18.785 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:18.787 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 21:17:18.796 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 21:17:19.147 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:17:19.172 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 21:17:19.185 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 21:17:19.191 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 21:17:19.194 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 21:17:19.195 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 21:17:19.199 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 21:17:19.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 21:17:19.210 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 21:17:19.211 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 414.6947ms
2022-11-08 21:17:19.211 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 21:17:19.211 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 427.3674ms
2022-11-08 21:17:21.297 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:17:21.298 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.298 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.9399ms
2022-11-08 21:17:21.301 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:17:21.301 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.302 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6047ms
2022-11-08 21:17:21.328 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:17:21.329 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.330 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 21:17:21.333 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 21:17:21.333 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 4.7592ms
2022-11-08 21:17:21.336 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:17:21.336 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.336 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 21:17:21.337 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 21:17:21.337 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.6564ms
2022-11-08 21:17:21.370 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=CjlExLfiZO_EbeJxOM7tQA - -
2022-11-08 21:17:21.371 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.371 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 21:17:21.413 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=g3GpoT3YFzlAiljQOojESQ - -
2022-11-08 21:17:21.413 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:21.413 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 21:17:22.990 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:17:22.991 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:22.991 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.6086ms
2022-11-08 21:17:22.992 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:17:22.992 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:17:22.994 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:17:22.994 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:17:22.997 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:17:23.005 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:17:23.006 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:17:23.007 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.9059ms
2022-11-08 21:17:23.007 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:17:23.008 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 15.5855ms
2022-11-08 21:21:43.315 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 21:21:43.315 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 21:21:43.317 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=CjlExLfiZO_EbeJxOM7tQA - - - 101 - - 261958.5040ms
2022-11-08 21:21:43.317 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=g3GpoT3YFzlAiljQOojESQ - - - 101 - - 261915.7932ms
2022-11-08 21:21:43.741 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:21:43.742 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:21:43.742 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.9506ms
2022-11-08 21:21:43.743 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:21:43.743 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:21:43.745 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 21:21:43.746 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 21:21:43.746 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 21:21:43.746 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 21:21:43.747 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 3.5390ms
2022-11-08 21:21:43.980 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 21:21:43.980 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:21:43.980 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.5377ms
2022-11-08 21:21:43.981 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 21:21:43.981 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:21:43.981 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:21:43.982 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 21:21:43.987 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:21:44.012 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 21:21:44.020 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 21:21:44.030 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 21:21:44.043 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 21:21:44.043 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 61.4525ms
2022-11-08 21:21:44.043 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:21:44.044 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 62.6459ms
2022-11-08 21:23:03.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:23:03.439 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:23:03.440 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.0068ms
2022-11-08 21:23:03.446 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:23:03.451 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:23:03.454 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:23:03.455 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:23:03.461 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:23:03.488 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:23:03.496 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:23:03.500 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:23:03.510 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:23:03.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:23:03.511 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 55.7269ms
2022-11-08 21:23:03.511 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:23:03.517 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 70.9620ms
2022-11-08 21:23:44.723 +03:00 [INF] Application is shutting down...
2022-11-08 21:26:25.295 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 21:26:25.464 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 21:26:25.464 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 21:26:25.466 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 21:26:25.466 +03:00 [INF] Hosting environment: Development
2022-11-08 21:26:25.466 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 21:27:05.149 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:27:05.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:05.206 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 59.1056ms
2022-11-08 21:27:05.213 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:27:05.220 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:05.458 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:05.485 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:27:06.968 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:27:07.400 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:27:07.532 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:07.556 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:07.650 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:27:07.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:27:07.720 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2224.2885ms
2022-11-08 21:27:07.722 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:07.743 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 2529.6465ms
2022-11-08 21:27:12.244 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:27:12.252 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:12.254 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 12.1162ms
2022-11-08 21:27:12.255 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:27:12.257 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:12.269 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:12.270 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:27:12.373 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:27:12.442 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:27:12.451 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:12.456 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:12.465 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:27:12.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:27:12.467 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 197.2947ms
2022-11-08 21:27:12.467 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:12.468 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 212.1682ms
2022-11-08 21:27:17.065 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:27:17.066 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.067 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 2.3225ms
2022-11-08 21:27:17.068 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:27:17.068 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.068 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4767ms
2022-11-08 21:27:17.144 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:27:17.144 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:27:17.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.152 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 21:27:17.152 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 21:27:17.174 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 21:27:17.174 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 21:27:17.174 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 30.3680ms
2022-11-08 21:27:17.174 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 30.2074ms
2022-11-08 21:27:17.201 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=FsbSxznPQnAk3PpkCb2TIQ - -
2022-11-08 21:27:17.202 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.202 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 21:27:17.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=IbGUiieDygXZRWYZp2JJjA - -
2022-11-08 21:27:17.252 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.252 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 21:27:17.889 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:27:17.889 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.890 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.6422ms
2022-11-08 21:27:17.891 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:27:17.891 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:17.893 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:27:17.903 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:27:17.932 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:27:17.968 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:27:17.968 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:27:18.001 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:27:18.004 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:27:18.011 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 108.048ms
2022-11-08 21:27:18.011 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:27:18.012 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 121.0834ms
2022-11-08 21:27:41.669 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 21:27:41.669 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 21:27:41.670 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=IbGUiieDygXZRWYZp2JJjA - - - 101 - - 24419.4780ms
2022-11-08 21:27:41.670 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=FsbSxznPQnAk3PpkCb2TIQ - - - 101 - - 24469.4650ms
2022-11-08 21:27:41.890 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:27:41.892 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:41.892 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.7331ms
2022-11-08 21:27:41.893 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:27:41.894 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:41.895 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:41.895 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:27:41.914 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:27:41.939 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:27:41.946 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:27:41.946 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:41.946 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4987ms
2022-11-08 21:27:41.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:27:41.947 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:27:41.947 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:27:41.947 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:27:41.948 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:27:41.985 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:41.988 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:27:41.995 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:27:41.996 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:27:41.996 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 99.093ms
2022-11-08 21:27:41.997 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:27:41.997 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 103.7026ms
2022-11-08 21:27:42.056 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:27:42.056 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:27:42.056 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 109.1343ms
2022-11-08 21:27:42.057 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:27:42.057 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 109.8837ms
2022-11-08 21:29:49.345 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:29:49.348 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:29:49.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 5.3763ms
2022-11-08 21:29:49.351 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:29:49.351 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:29:49.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3047ms
2022-11-08 21:29:49.352 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:29:49.353 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:29:49.356 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:29:49.363 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:29:49.366 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:29:49.366 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:29:49.367 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:29:49.367 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:29:49.377 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:29:49.377 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:29:49.414 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:29:49.414 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:29:49.416 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:29:49.416 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 49.0555ms
2022-11-08 21:29:49.416 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:29:49.417 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 60.5560ms
2022-11-08 21:29:49.420 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:29:49.423 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:29:49.430 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:29:49.431 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:29:49.431 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 63.1132ms
2022-11-08 21:29:49.431 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:29:49.432 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 80.1187ms
2022-11-08 21:31:55.924 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:31:55.926 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:31:55.927 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.3770ms
2022-11-08 21:31:55.938 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:31:55.938 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:31:55.941 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:31:55.972 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:31:55.979 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:31:55.983 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:31:55.983 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:31:55.984 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.7510ms
2022-11-08 21:31:55.986 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:31:55.986 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:31:55.987 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:31:55.987 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:31:56.010 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:31:56.079 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:31:56.080 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:31:56.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:31:56.081 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 75.2409ms
2022-11-08 21:31:56.081 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:31:56.081 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 95.5480ms
2022-11-08 21:31:56.084 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:31:56.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:31:56.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:31:56.090 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:31:56.090 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 118.1188ms
2022-11-08 21:31:56.091 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:31:56.091 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 153.5325ms
2022-11-08 21:33:35.959 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:33:35.961 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:33:35.961 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.4737ms
2022-11-08 21:33:35.963 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:33:35.963 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:33:35.963 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.6678ms
2022-11-08 21:33:35.965 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:33:35.965 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:33:35.969 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:33:35.971 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:33:35.984 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:33:35.984 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:33:35.984 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:33:35.985 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:33:35.985 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:33:35.986 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:33:36.024 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:33:36.026 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:33:36.058 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:33:36.060 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 74.9842ms
2022-11-08 21:33:36.060 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:33:36.060 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 76.3016ms
2022-11-08 21:33:36.062 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:33:36.067 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:33:36.077 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:33:36.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:33:36.078 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 107.1115ms
2022-11-08 21:33:36.078 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:33:36.078 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 113.6228ms
2022-11-08 21:51:41.962 +03:00 [INF] Application is shutting down...
2022-11-08 21:51:47.653 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 21:51:47.824 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 21:51:47.825 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 21:51:47.828 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 21:51:47.828 +03:00 [INF] Hosting environment: Development
2022-11-08 21:51:47.829 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 21:51:52.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:51:52.483 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:52.489 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 42.8963ms
2022-11-08 21:51:52.492 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:51:52.496 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:52.504 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:51:52.514 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:51:52.520 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:51:52.526 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 8.1926ms
2022-11-08 21:51:52.527 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:51:52.527 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 35.4042ms
2022-11-08 21:51:52.533 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:51:52.534 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:52.534 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.8082ms
2022-11-08 21:51:52.535 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:51:52.535 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:52.535 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:51:52.549 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:51:53.554 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:51:53.765 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:51:53.778 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:51:53.818 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:51:53.818 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:51:53.961 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:51:53.985 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 1435.9171ms
2022-11-08 21:51:53.985 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:51:53.997 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 1462.4775ms
2022-11-08 21:51:55.017 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:51:55.017 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:55.017 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.8244ms
2022-11-08 21:51:55.018 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:51:55.019 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:55.180 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 21:51:55.187 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 21:51:55.189 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 21:51:55.194 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 21:51:55.194 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 401 0 - 175.6576ms
2022-11-08 21:51:55.197 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 21:51:55.198 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:55.198 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3074ms
2022-11-08 21:51:55.198 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 21:51:55.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:55.199 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:51:55.201 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 21:51:55.235 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:51:55.255 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 21:51:55.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 21:51:55.446 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 21:51:55.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 21:51:55.469 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 267.9376ms
2022-11-08 21:51:55.469 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 21:51:55.470 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 271.2913ms
2022-11-08 21:51:56.277 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:51:56.277 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:51:56.306 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:51:56.309 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:51:56.330 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:51:56.372 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:51:56.413 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:51:56.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:51:56.465 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:51:56.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:51:56.467 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 157.4923ms
2022-11-08 21:51:56.467 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:51:56.468 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 191.6448ms
2022-11-08 21:52:01.197 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:01.197 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.198 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.0096ms
2022-11-08 21:52:01.198 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:01.199 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.202 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:01.203 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:01.205 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:01.216 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:01.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:01.223 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:01.226 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:01.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:01.227 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.657ms
2022-11-08 21:52:01.227 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:01.227 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 28.4665ms
2022-11-08 21:52:01.227 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:01.227 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.227 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.1713ms
2022-11-08 21:52:01.228 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:01.228 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.228 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:01.228 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:52:01.228 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:52:01.228 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.1372ms
2022-11-08 21:52:01.228 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:01.228 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6345ms
2022-11-08 21:52:01.279 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:01.280 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.280 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4551ms
2022-11-08 21:52:01.280 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:01.281 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:01.281 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:01.281 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:52:01.283 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:01.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:52:01.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:52:01.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:52:01.293 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 11.6381ms
2022-11-08 21:52:01.293 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:01.293 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 12.6275ms
2022-11-08 21:52:03.473 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:03.474 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:03.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:03.475 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:03.499 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:03.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:03.508 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:03.511 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:03.519 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:03.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:03.520 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 44.6083ms
2022-11-08 21:52:03.520 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:03.520 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 46.9081ms
2022-11-08 21:52:05.484 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:05.484 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:05.484 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.6857ms
2022-11-08 21:52:05.485 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:05.485 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:05.486 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:05.491 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:05.509 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:05.514 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:05.516 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:05.518 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:05.528 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:05.589 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:05.594 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:05.595 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 103.4813ms
2022-11-08 21:52:05.595 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:05.595 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 110.3812ms
2022-11-08 21:52:06.041 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:06.041 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:06.042 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:06.042 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:06.044 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:06.051 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:06.056 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:06.061 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:06.066 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:06.071 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:06.075 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:06.075 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 32.6463ms
2022-11-08 21:52:06.075 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:06.075 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 34.8325ms
2022-11-08 21:52:07.070 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:07.071 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:07.071 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:07.072 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:07.074 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:07.080 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:07.085 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:07.088 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:07.095 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:07.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:07.117 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 45.2395ms
2022-11-08 21:52:07.117 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:07.118 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 47.4094ms
2022-11-08 21:52:09.470 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 21:52:09.471 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:09.472 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 1.7728ms
2022-11-08 21:52:09.473 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 21:52:09.473 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:09.475 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:09.482 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:09.500 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:09.504 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:09.509 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:09.512 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:09.521 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:09.528 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 21:52:09.528 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 45.3885ms
2022-11-08 21:52:09.528 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:09.529 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 55.4723ms
2022-11-08 21:52:11.080 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:11.080 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.080 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.7183ms
2022-11-08 21:52:11.081 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:11.081 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.082 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:11.082 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:52:11.082 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:52:11.082 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.4055ms
2022-11-08 21:52:11.082 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:11.083 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5490ms
2022-11-08 21:52:11.091 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:11.091 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.091 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.4730ms
2022-11-08 21:52:11.092 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:11.092 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.092 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:11.093 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:52:11.097 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:11.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:52:11.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:52:11.106 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:52:11.107 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 14.2919ms
2022-11-08 21:52:11.107 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:11.108 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.7214ms
2022-11-08 21:52:11.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:11.665 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.665 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5505ms
2022-11-08 21:52:11.666 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:11.666 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:11.667 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:11.668 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:11.672 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:11.677 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:11.682 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:11.713 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 21:52:11.722 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:11.725 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:11.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:11.729 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 60.8802ms
2022-11-08 21:52:11.729 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:11.729 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 62.9550ms
2022-11-08 21:52:12.657 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:12.657 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:12.658 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:12.658 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:12.660 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:12.668 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:12.673 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:12.677 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:12.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:12.686 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:12.689 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:12.689 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 30.9564ms
2022-11-08 21:52:12.690 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:12.690 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 33.0997ms
2022-11-08 21:52:13.685 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:13.686 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:13.686 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:13.686 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:13.689 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:13.694 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:13.699 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:13.704 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:13.711 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:13.712 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:13.713 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.1082ms
2022-11-08 21:52:13.713 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:13.713 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.8067ms
2022-11-08 21:52:15.546 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 21:52:15.546 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:15.546 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4944ms
2022-11-08 21:52:15.547 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 21:52:15.547 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:15.548 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:15.548 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:15.550 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:15.556 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:15.561 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:15.565 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:15.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:15.574 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 21:52:15.574 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 25.9968ms
2022-11-08 21:52:15.575 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:15.575 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 27.5458ms
2022-11-08 21:52:17.182 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:17.183 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.183 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.9216ms
2022-11-08 21:52:17.184 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:17.184 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.185 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:17.185 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:52:17.185 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:52:17.185 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3072ms
2022-11-08 21:52:17.185 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:17.186 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3379ms
2022-11-08 21:52:17.192 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:17.193 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.193 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5071ms
2022-11-08 21:52:17.194 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:17.194 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.194 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:17.195 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:52:17.196 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:17.201 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:52:17.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:52:17.207 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:52:17.208 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 13.7702ms
2022-11-08 21:52:17.209 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:17.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 15.1882ms
2022-11-08 21:52:17.847 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:17.848 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.848 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.5891ms
2022-11-08 21:52:17.849 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:17.849 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:17.849 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:17.850 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:17.852 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:17.859 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:17.863 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:17.868 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 21:52:17.876 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:17.881 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:17.884 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:17.884 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.1193ms
2022-11-08 21:52:17.884 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:17.885 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 35.9095ms
2022-11-08 21:52:18.927 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:18.928 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:18.928 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:18.929 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:18.930 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:18.936 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:18.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:18.946 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:18.953 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:18.959 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:18.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:18.969 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 40.6194ms
2022-11-08 21:52:18.969 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:18.970 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 42.4547ms
2022-11-08 21:52:19.530 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:19.531 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:19.531 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:19.532 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:19.534 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:19.543 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:19.547 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:19.551 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:19.557 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:19.561 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:19.565 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:19.566 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 33.7662ms
2022-11-08 21:52:19.566 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:19.566 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 35.9777ms
2022-11-08 21:52:20.800 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:20.800 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:20.801 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:20.801 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:20.803 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:20.809 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:20.816 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:20.820 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:20.825 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:20.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:20.826 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 24.5252ms
2022-11-08 21:52:20.826 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:20.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.9917ms
2022-11-08 21:52:23.081 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 21:52:23.081 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:23.081 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4779ms
2022-11-08 21:52:23.082 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 21:52:23.082 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:23.083 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:23.083 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:23.087 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:23.093 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:23.097 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:23.102 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:23.109 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:23.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 21:52:23.113 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 29.9679ms
2022-11-08 21:52:23.113 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:23.113 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 31.5320ms
2022-11-08 21:52:24.431 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:24.432 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:24.432 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6672ms
2022-11-08 21:52:24.433 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:24.433 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:24.433 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:24.433 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:52:24.434 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:52:24.434 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3015ms
2022-11-08 21:52:24.434 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:24.434 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4977ms
2022-11-08 21:52:24.439 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:24.440 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:24.440 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.7484ms
2022-11-08 21:52:24.441 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:24.441 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:24.442 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:24.442 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:52:24.444 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:24.450 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:52:24.450 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:52:24.458 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:52:24.459 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 17.3108ms
2022-11-08 21:52:24.460 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:24.460 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 18.7398ms
2022-11-08 21:52:26.265 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:26.265 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:26.265 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4515ms
2022-11-08 21:52:26.266 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:26.266 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:26.267 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:26.267 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:26.269 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:26.277 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:26.281 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:26.286 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 21:52:26.297 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:26.304 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:26.444 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:26.444 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 177.3091ms
2022-11-08 21:52:26.444 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:26.444 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 178.6486ms
2022-11-08 21:52:26.847 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:26.847 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:26.848 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:26.849 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:26.852 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:26.864 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:26.871 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:26.875 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:26.881 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:26.887 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:26.890 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:26.890 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 41.4592ms
2022-11-08 21:52:26.890 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:26.891 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 43.3912ms
2022-11-08 21:52:27.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:27.754 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:27.755 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:27.755 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:27.756 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:27.762 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:27.766 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:27.773 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:27.779 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:27.780 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:27.781 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 26.002ms
2022-11-08 21:52:27.781 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:27.781 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 27.7452ms
2022-11-08 21:52:29.728 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 21:52:29.728 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:29.728 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4564ms
2022-11-08 21:52:29.729 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 21:52:29.730 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:29.730 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:29.731 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:29.732 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:29.737 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:29.742 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:29.745 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:29.752 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:29.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 21:52:29.756 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 25.5985ms
2022-11-08 21:52:29.756 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:29.757 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 27.2434ms
2022-11-08 21:52:31.135 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:31.135 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:31.135 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/files/getBaseStorageUrl - - - 204 - - 0.6433ms
2022-11-08 21:52:31.136 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - -
2022-11-08 21:52:31.136 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:31.137 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:31.137 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ECommerce.WebApi.Controllers.FilesController (ECommerce.WebApi).
2022-11-08 21:52:31.137 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-08 21:52:31.137 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi) in 0.3477ms
2022-11-08 21:52:31.137 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.FilesController.GetBaseStorageUrl (ECommerce.WebApi)'
2022-11-08 21:52:31.137 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/files/getBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3478ms
2022-11-08 21:52:31.143 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:31.143 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:31.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=6 - - - 204 - - 0.5712ms
2022-11-08 21:52:31.145 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - -
2022-11-08 21:52:31.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:31.145 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:31.146 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 21:52:31.148 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:31.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 21:52:31.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 21:52:31.160 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 21:52:31.161 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 15.2162ms
2022-11-08 21:52:31.161 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 21:52:31.161 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=6 - - - 200 - application/json;+charset=utf-8 16.5355ms
2022-11-08 21:52:32.230 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 21:52:32.231 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:32.231 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4543ms
2022-11-08 21:52:32.231 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:32.232 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:32.232 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:32.232 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:32.235 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:32.244 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:32.249 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:32.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 21:52:32.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:32.266 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:32.269 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:32.270 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 37.2232ms
2022-11-08 21:52:32.270 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:32.270 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 38.5442ms
2022-11-08 21:52:32.714 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65
2022-11-08 21:52:32.715 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:32.715 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:32.715 +03:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:32.717 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:32.728 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:32.732 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:32.735 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:32.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2022-11-08 21:52:32.746 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:32.750 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2022-11-08 21:52:32.750 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi) in 34.9245ms
2022-11-08 21:52:32.751 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.AddItemToBasket (ECommerce.WebApi)'
2022-11-08 21:52:32.751 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 36.5865ms
2022-11-08 21:52:33.347 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 21:52:33.347 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:33.348 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:33.348 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 21:52:33.350 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:33.356 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:33.361 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:33.370 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:33.376 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 21:52:33.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 21:52:33.377 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 29.1784ms
2022-11-08 21:52:33.377 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 21:52:33.378 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 30.8003ms
2022-11-08 21:52:35.745 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders - -
2022-11-08 21:52:35.745 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:35.746 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders - - - 204 - - 0.4474ms
2022-11-08 21:52:35.746 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/orders application/json 57
2022-11-08 21:52:35.746 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:35.747 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:35.747 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:35.750 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:35.757 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 21:52:35.760 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:35.766 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 21:52:35.773 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2022-11-08 21:52:35.779 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2022-11-08 21:52:35.779 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi) in 31.7454ms
2022-11-08 21:52:35.779 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.CreateOrder (ECommerce.WebApi)'
2022-11-08 21:52:35.780 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/orders application/json 57 - 200 - application/json;+charset=utf-8 33.3308ms
2022-11-08 21:52:36.569 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:52:36.569 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 21:52:36.569 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.569 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4959ms
2022-11-08 21:52:36.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3804ms
2022-11-08 21:52:36.596 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:52:36.596 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.597 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 21:52:36.607 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 21:52:36.607 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 11.2013ms
2022-11-08 21:52:36.607 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 21:52:36.607 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.608 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 21:52:36.608 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 21:52:36.608 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.8051ms
2022-11-08 21:52:36.634 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=a3Locz8kpx68u-o4ToliAA - -
2022-11-08 21:52:36.634 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.634 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 21:52:36.682 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=Ca3w0Dm6ODD8vnhEYSBBwQ - -
2022-11-08 21:52:36.682 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:36.682 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 21:52:37.484 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:52:37.484 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:37.484 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4042ms
2022-11-08 21:52:37.485 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:52:37.485 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:37.486 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:37.491 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:37.502 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:37.518 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 21:52:37.538 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:52:37.538 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:52:37.554 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:52:37.556 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:52:37.559 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 67.9932ms
2022-11-08 21:52:37.559 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:37.560 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 74.4044ms
2022-11-08 21:52:39.795 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=1&size=5 - -
2022-11-08 21:52:39.796 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:39.796 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=1&size=5 - - - 204 - - 0.7108ms
2022-11-08 21:52:39.797 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=1&size=5 - -
2022-11-08 21:52:39.797 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:39.797 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:39.798 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:39.799 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:39.803 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 21:52:39.806 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:52:39.806 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 21:52:39.819 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_0 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:52:39.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:52:39.821 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 22.7412ms
2022-11-08 21:52:39.821 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:39.821 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=1&size=5 - - - 200 - application/json;+charset=utf-8 24.2726ms
2022-11-08 21:52:41.096 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 21:52:41.096 +03:00 [INF] CORS policy execution successful.
2022-11-08 21:52:41.097 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:41.097 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 21:52:41.099 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 21:52:41.107 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 21:52:41.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 21:52:41.111 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 21:52:41.112 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 14.6052ms
2022-11-08 21:52:41.112 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 21:52:41.113 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 16.5482ms
2022-11-08 21:56:07.612 +03:00 [INF] Application is shutting down...
2022-11-08 21:56:07.632 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 21:56:07.632 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 21:56:07.632 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=a3Locz8kpx68u-o4ToliAA - - - 101 - - 211008.2734ms
2022-11-08 21:56:07.632 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=Ca3w0Dm6ODD8vnhEYSBBwQ - - - 101 - - 210960.5765ms
2022-11-08 22:57:43.205 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 22:57:43.824 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 22:57:43.825 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 22:57:43.828 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 22:57:43.828 +03:00 [INF] Hosting environment: Development
2022-11-08 22:57:43.828 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 23:00:25.751 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:00:25.806 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:25.814 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 65.9423ms
2022-11-08 23:00:25.819 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:00:25.826 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:25.988 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 23:00:26.005 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 23:00:26.007 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 23:00:26.013 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 23:00:26.014 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 195.4060ms
2022-11-08 23:00:26.026 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 23:00:26.027 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:26.027 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.1765ms
2022-11-08 23:00:26.031 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 23:00:26.032 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:26.035 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:00:26.060 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:00:27.217 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:00:27.511 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 23:00:27.596 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 1531.2677ms
2022-11-08 23:00:27.598 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:00:27.603 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerce.Application.Exceptions.NotFoundUserException: Kullanıcı adı veya şifre hatalı
   at ECommerce.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Infrastructure/ECommerce.Persistence/Services/AuthService.cs:line 148
   at ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandHandler.Handle(RefreshTokenCommandRequest request, CancellationToken cancellationToken) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Core/ECommerce.Application/Features/Commands/User/RefreshTokenLogin/RefreshTokenCommandHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at ECommerce.WebApi.Controllers.AuthController.RefreshToken(RefreshTokenCommandRequest refreshTokenCommandRequest) in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Controllers/AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_4>d.MoveNext() in /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-11-08 23:00:27.616 +03:00 [ERR] Kullanıcı adı veya şifre hatalı
2022-11-08 23:00:27.633 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 500 - application/json 1601.6889ms
2022-11-08 23:00:29.442 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 23:00:29.442 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:29.443 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 0.9876ms
2022-11-08 23:00:29.443 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 23:00:29.444 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:29.446 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 23:00:29.454 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:00:29.762 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:00:29.774 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 23:00:29.809 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 23:00:29.817 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 23:00:29.820 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 23:00:29.823 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 23:00:29.858 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 23:00:29.955 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 23:00:29.979 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 23:00:29.986 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 531.2494ms
2022-11-08 23:00:29.986 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 23:00:29.986 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 542.5412ms
2022-11-08 23:00:30.678 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:00:30.678 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.678 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6481ms
2022-11-08 23:00:30.681 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:00:30.682 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.682 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.5662ms
2022-11-08 23:00:30.731 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:00:30.732 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:00:30.732 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.732 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.734 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 23:00:30.734 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 23:00:30.755 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 23:00:30.755 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 23:00:30.756 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 23.8800ms
2022-11-08 23:00:30.756 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 24.2690ms
2022-11-08 23:00:30.784 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=sV7pTLmIryDIgE4AHeB1pA - -
2022-11-08 23:00:30.785 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.785 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 23:00:30.833 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=hkG3pnjMwm2geimJvOIN9w - -
2022-11-08 23:00:30.833 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:30.834 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 23:00:32.014 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:00:32.014 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:32.014 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5337ms
2022-11-08 23:00:32.016 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:00:32.016 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:00:32.043 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:00:32.047 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:00:32.069 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:00:32.147 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:00:32.180 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:00:32.180 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:00:32.221 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:00:32.224 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:00:32.228 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 180.8868ms
2022-11-08 23:00:32.228 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:00:32.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 213.6972ms
2022-11-08 23:01:13.766 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 23:01:13.766 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 23:01:13.767 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=sV7pTLmIryDIgE4AHeB1pA - - - 101 - - 42983.9304ms
2022-11-08 23:01:13.767 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=hkG3pnjMwm2geimJvOIN9w - - - 101 - - 42935.1046ms
2022-11-08 23:01:13.946 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:01:13.948 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:01:13.949 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.3528ms
2022-11-08 23:01:13.951 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:01:13.952 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:01:13.957 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 23:01:13.963 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 23:01:13.964 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 23:01:13.964 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 23:01:13.964 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 13.0819ms
2022-11-08 23:01:13.993 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 23:01:13.993 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:01:13.994 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.5017ms
2022-11-08 23:01:13.995 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 23:01:13.995 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:01:13.995 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:01:13.997 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:01:14.012 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:01:14.038 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 23:01:14.049 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 23:01:14.057 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 23:01:14.065 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 23:01:14.066 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 61.7267ms
2022-11-08 23:01:14.066 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:01:14.067 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 71.8206ms
2022-11-08 23:09:03.438 +03:00 [INF] Application is shutting down...
2022-11-08 23:09:09.650 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 23:09:09.823 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 23:09:09.824 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 23:09:09.825 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 23:09:09.825 +03:00 [INF] Hosting environment: Development
2022-11-08 23:09:09.826 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 23:10:08.384 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:10:08.482 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:08.495 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 114.5851ms
2022-11-08 23:10:08.504 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:10:08.518 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:09.169 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:10:09.240 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:10:11.063 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:10:11.672 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:10:11.832 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:10:12.041 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2022-11-08 23:10:12.105 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:10:12.124 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:10:12.139 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 2890.5274ms
2022-11-08 23:10:12.141 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:10:12.167 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 3662.8532ms
2022-11-08 23:10:43.861 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:10:44.033 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:44.069 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 201.3577ms
2022-11-08 23:10:44.073 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:10:44.101 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:44.171 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:10:44.173 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:10:44.462 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:10:44.590 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:10:44.616 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:10:44.635 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:10:44.671 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:10:44.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:10:44.693 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 519.334ms
2022-11-08 23:10:44.693 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:10:44.695 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 621.8881ms
2022-11-08 23:10:47.594 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - -
2022-11-08 23:10:47.596 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:47.597 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/google-login - - - 204 - - 3.3072ms
2022-11-08 23:10:47.599 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464
2022-11-08 23:10:47.620 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:47.622 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 23:10:47.631 +03:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:10:48.020 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:10:48.062 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 23:10:48.082 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 23:10:48.091 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__loginProvider_0='?', @__providerKey_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."LoginProvider", a."ProviderKey", a."ProviderDisplayName", a."UserId"
FROM "AspNetUserLogins" AS a
WHERE (a."LoginProvider" = @__loginProvider_0) AND (a."ProviderKey" = @__providerKey_1)
LIMIT 2
2022-11-08 23:10:48.095 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__userId_0
LIMIT 2
2022-11-08 23:10:48.096 +03:00 [WRN] AddLogin for user failed because it was already associated with another user.
2022-11-08 23:10:48.130 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 23:10:48.157 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 23:10:48.165 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.GoogleLogin.GoogleLoginCommandResponse'.
2022-11-08 23:10:48.175 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi) in 543.6167ms
2022-11-08 23:10:48.175 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.GoogleLogin (ECommerce.WebApi)'
2022-11-08 23:10:48.175 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/google-login application/json 1464 - 200 - application/json;+charset=utf-8 576.4089ms
2022-11-08 23:10:48.723 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:10:48.724 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.724 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.6719ms
2022-11-08 23:10:48.727 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:10:48.727 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.727 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.4810ms
2022-11-08 23:10:48.752 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:10:48.752 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.753 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 23:10:48.771 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 23:10:48.771 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 19.8185ms
2022-11-08 23:10:48.775 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:10:48.775 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.775 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 23:10:48.776 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 23:10:48.776 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.5526ms
2022-11-08 23:10:48.815 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=W_nLM8-8Y7RbClax-eLoMg - -
2022-11-08 23:10:48.816 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.816 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 23:10:48.865 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=oYgyDuyGlxucKlKVRT0wsg - -
2022-11-08 23:10:48.866 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:48.866 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 23:10:49.797 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 23:10:49.798 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:49.798 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5808ms
2022-11-08 23:10:49.799 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 23:10:49.799 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:49.800 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 23:10:49.806 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 23:10:49.826 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:10:49.854 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 23:10:49.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 23:10:49.875 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:10:49.876 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:10:49.907 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 23:10:49.925 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 117.8502ms
2022-11-08 23:10:49.925 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 23:10:49.925 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 126.1225ms
2022-11-08 23:10:50.488 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:10:50.488 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:50.488 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4528ms
2022-11-08 23:10:50.489 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:10:50.489 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:10:50.491 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:10:50.495 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:10:50.505 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:10:50.521 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:10:50.540 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:10:50.541 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:10:50.559 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:10:50.561 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:10:50.565 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 70.6164ms
2022-11-08 23:10:50.566 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:10:50.566 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 76.5153ms
2022-11-08 23:12:38.159 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 23:12:38.159 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 23:12:38.160 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=W_nLM8-8Y7RbClax-eLoMg - - - 101 - - 109347.7695ms
2022-11-08 23:12:38.160 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=oYgyDuyGlxucKlKVRT0wsg - - - 101 - - 109297.7930ms
2022-11-08 23:12:38.487 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:12:38.488 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:38.488 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.1849ms
2022-11-08 23:12:38.489 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:12:38.490 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:38.494 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 23:12:38.522 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 23:12:38.523 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 23:12:38.532 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 23:12:38.533 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 43.6138ms
2022-11-08 23:12:38.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 23:12:38.545 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:38.545 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3463ms
2022-11-08 23:12:38.548 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 23:12:38.548 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:38.549 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:12:38.552 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:12:38.572 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:12:38.597 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 23:12:38.613 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 23:12:38.619 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 23:12:38.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 23:12:38.627 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 74.959ms
2022-11-08 23:12:38.628 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:12:38.628 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 79.9489ms
2022-11-08 23:12:48.049 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:12:48.062 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:48.063 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 13.6422ms
2022-11-08 23:12:48.064 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:12:48.064 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:48.067 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:12:48.068 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:12:48.093 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:12:48.131 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:12:48.142 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:12:48.151 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:12:48.168 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:12:48.173 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:12:48.174 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 105.9577ms
2022-11-08 23:12:48.175 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:12:48.177 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 113.3563ms
2022-11-08 23:12:55.718 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:12:55.720 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:55.721 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.5750ms
2022-11-08 23:12:55.722 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:12:55.723 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:55.727 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:12:55.728 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:12:55.734 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:12:55.762 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:12:55.769 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:12:55.773 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:12:55.779 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:12:55.780 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:12:55.781 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 52.4741ms
2022-11-08 23:12:55.782 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:12:55.782 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 60.3167ms
2022-11-08 23:12:58.785 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:12:58.785 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.785 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7772ms
2022-11-08 23:12:58.786 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:12:58.786 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:12:58.786 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.786 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.786 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.3128ms
2022-11-08 23:12:58.787 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 23:12:58.787 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 23:12:58.788 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 1.3849ms
2022-11-08 23:12:58.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:12:58.789 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.789 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 23:12:58.789 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 23:12:58.789 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 0.7976ms
2022-11-08 23:12:58.848 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=NCmwfevVzWgs_JUeWCf7QQ - -
2022-11-08 23:12:58.849 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.849 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 23:12:58.886 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=QOj8VN7q_zLIxZBGrhsggw - -
2022-11-08 23:12:58.887 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:58.887 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 23:12:59.983 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 23:12:59.983 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:59.983 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/products?page=0&size=5 - - - 204 - - 0.5146ms
2022-11-08 23:12:59.984 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - -
2022-11-08 23:12:59.984 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:12:59.984 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 23:12:59.985 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerce.WebApi.Controllers.ProductsController (ECommerce.WebApi).
2022-11-08 23:12:59.988 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:12:59.999 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2022-11-08 23:13:00.000 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2022-11-08 23:13:00.016 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2022-11-08 23:13:00.017 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi) in 32.495ms
2022-11-08 23:13:00.017 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.ProductsController.Get (ECommerce.WebApi)'
2022-11-08 23:13:00.018 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 33.5841ms
2022-11-08 23:13:01.136 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:13:01.137 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:01.137 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5470ms
2022-11-08 23:13:01.138 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:13:01.138 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:01.139 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:13:01.139 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:13:01.141 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:13:01.145 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:13:01.151 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:13:01.152 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:13:01.152 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.491ms
2022-11-08 23:13:01.152 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:13:01.152 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 14.6402ms
2022-11-08 23:13:14.821 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 23:13:14.822 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=QOj8VN7q_zLIxZBGrhsggw - - - 101 - - 15936.0640ms
2022-11-08 23:13:14.821 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 23:13:14.823 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=NCmwfevVzWgs_JUeWCf7QQ - - - 101 - - 15974.9980ms
2022-11-08 23:13:15.092 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:13:15.093 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:15.093 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.7277ms
2022-11-08 23:13:15.094 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:13:15.094 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:15.096 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:13:15.096 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:13:15.101 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:13:15.130 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:13:15.135 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:13:15.138 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:13:15.140 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:13:15.141 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:15.141 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3153ms
2022-11-08 23:13:15.142 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:13:15.142 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:13:15.142 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:13:15.143 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:13:15.143 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:13:15.143 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 46.35ms
2022-11-08 23:13:15.143 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:13:15.143 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:13:15.143 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 49.4892ms
2022-11-08 23:13:15.146 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:13:15.150 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:13:15.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:13:15.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:13:15.155 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 11.6912ms
2022-11-08 23:13:15.155 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:13:15.155 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 12.6351ms
2022-11-08 23:14:10.712 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:14:10.714 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:14:10.715 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.4241ms
2022-11-08 23:14:10.715 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:14:10.716 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:14:10.718 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:14:10.719 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:14:10.740 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:14:10.763 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:14:10.763 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:14:10.763 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3015ms
2022-11-08 23:14:10.767 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:14:10.767 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:14:10.767 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:14:10.767 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:14:10.769 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:14:10.813 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:14:10.817 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:14:10.823 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:14:10.823 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:14:10.824 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:14:10.827 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 59.6717ms
2022-11-08 23:14:10.831 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:14:10.837 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:14:10.837 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 70.1974ms
2022-11-08 23:14:10.840 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:14:10.840 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:14:10.841 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 121.481ms
2022-11-08 23:14:10.841 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:14:10.841 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 125.5762ms
2022-11-08 23:17:02.872 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:17:02.874 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:17:02.874 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.2280ms
2022-11-08 23:17:02.875 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:17:02.876 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:17:02.878 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:17:02.878 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:17:02.884 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:17:02.909 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:17:02.914 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:17:02.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:17:02.923 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:17:02.924 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:17:02.924 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 45.6327ms
2022-11-08 23:17:02.924 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:17:02.925 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 49.2521ms
2022-11-08 23:17:02.925 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:17:02.925 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:17:02.925 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.2715ms
2022-11-08 23:17:02.926 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:17:02.926 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:17:02.926 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:17:02.927 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:17:02.930 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:17:02.940 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:17:02.945 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:17:02.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:17:02.946 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 19.3879ms
2022-11-08 23:17:02.946 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:17:02.947 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 20.8039ms
2022-11-08 23:19:50.761 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:19:50.762 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:19:50.763 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6949ms
2022-11-08 23:19:50.764 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:19:50.764 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:19:50.766 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:19:50.767 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:19:50.772 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:19:50.842 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:19:50.853 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:19:50.867 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:19:50.867 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:19:50.867 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4150ms
2022-11-08 23:19:50.867 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:19:50.869 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:19:50.870 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:19:50.870 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:19:50.871 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:19:50.873 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:19:50.878 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:19:50.879 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:19:50.879 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 112.6219ms
2022-11-08 23:19:50.880 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:19:50.880 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 115.8483ms
2022-11-08 23:19:50.912 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:19:50.916 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:19:50.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:19:50.917 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 46.5493ms
2022-11-08 23:19:50.918 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:19:50.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 48.4357ms
2022-11-08 23:20:32.243 +03:00 [INF] Application is shutting down...
2022-11-08 23:36:32.641 +03:00 [INF] User profile is available. Using '/Users/cenkerkumlucali/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2022-11-08 23:36:32.912 +03:00 [INF] Now listening on: https://localhost:7129
2022-11-08 23:36:32.912 +03:00 [INF] Now listening on: http://localhost:5097
2022-11-08 23:36:32.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-08 23:36:32.917 +03:00 [INF] Hosting environment: Development
2022-11-08 23:36:32.917 +03:00 [INF] Content root path: /Users/cenkerkumlucali/codes/e-commerce/ECommerceBackend/src/Presentation/ECommerce.WebApi/
2022-11-08 23:41:39.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:41:39.474 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:41:39.490 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 140.5485ms
2022-11-08 23:41:39.499 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:41:39.510 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:41:39.788 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-08 23:41:39.826 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-08 23:41:39.830 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-08 23:41:39.840 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-08 23:41:39.842 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 401 0 - 342.5282ms
2022-11-08 23:41:39.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-08 23:41:39.859 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:41:39.859 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 1.4990ms
2022-11-08 23:41:39.860 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-08 23:41:39.861 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:41:39.866 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:41:39.905 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-08 23:41:41.606 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:41:42.106 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-08 23:41:42.259 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-08 23:41:42.423 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-08 23:41:42.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-08 23:41:42.486 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 2573.8726ms
2022-11-08 23:41:42.488 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-08 23:41:42.511 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 2651.5178ms
2022-11-08 23:46:09.364 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:46:09.366 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:46:09.367 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.5283ms
2022-11-08 23:46:09.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:46:09.374 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:46:09.415 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:46:09.428 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:46:09.511 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:46:10.133 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:46:10.786 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:46:10.925 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:46:11.061 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:46:11.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:46:11.068 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 1640.3758ms
2022-11-08 23:46:11.069 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:46:11.072 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 1698.7902ms
2022-11-08 23:46:56.679 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:46:56.693 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:46:56.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 16.3466ms
2022-11-08 23:46:56.696 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:46:56.697 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:46:56.706 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:46:56.708 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:46:56.728 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:46:56.789 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:46:56.794 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:46:56.797 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:46:56.802 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:46:56.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:46:56.803 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 94.7787ms
2022-11-08 23:46:56.803 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:46:56.803 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 107.8767ms
2022-11-08 23:47:01.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:47:01.542 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.543 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/products-hub/negotiate?negotiateVersion=1 - - - 204 - - 6.2289ms
2022-11-08 23:47:01.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - -
2022-11-08 23:47:01.545 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.546 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 - - - 204 - - 0.7172ms
2022-11-08 23:47:01.604 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:47:01.604 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0
2022-11-08 23:47:01.604 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.604 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.607 +03:00 [INF] Executing endpoint '/orders-hub/negotiate'
2022-11-08 23:47:01.607 +03:00 [INF] Executing endpoint '/products-hub/negotiate'
2022-11-08 23:47:01.624 +03:00 [INF] Executed endpoint '/orders-hub/negotiate'
2022-11-08 23:47:01.624 +03:00 [INF] Executed endpoint '/products-hub/negotiate'
2022-11-08 23:47:01.624 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/orders-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 20.1185ms
2022-11-08 23:47:01.624 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/products-hub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 - 200 316 application/json 20.3680ms
2022-11-08 23:47:01.653 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/products-hub?id=PzmuWB3kRw_KcdAFSVbX8A - -
2022-11-08 23:47:01.654 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.654 +03:00 [INF] Executing endpoint '/products-hub'
2022-11-08 23:47:01.705 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/orders-hub?id=cqqNjMl3KYjtZuT_9IfKBQ - -
2022-11-08 23:47:01.706 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:01.706 +03:00 [INF] Executing endpoint '/orders-hub'
2022-11-08 23:47:03.145 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:03.145 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:03.145 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.7781ms
2022-11-08 23:47:03.147 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:03.147 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:03.149 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:03.159 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:03.180 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:03.247 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:47:03.273 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:47:03.273 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:47:03.295 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:47:03.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:47:03.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 155.2006ms
2022-11-08 23:47:03.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:03.315 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 167.6485ms
2022-11-08 23:47:04.842 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:47:04.842 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:04.842 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.5664ms
2022-11-08 23:47:04.844 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:47:04.844 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:04.844 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:04.849 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:04.860 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:04.884 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:47:04.935 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:47:04.945 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 96.3193ms
2022-11-08 23:47:04.946 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:04.946 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 102.1105ms
2022-11-08 23:47:22.015 +03:00 [INF] Executed endpoint '/products-hub'
2022-11-08 23:47:22.015 +03:00 [INF] Executed endpoint '/orders-hub'
2022-11-08 23:47:22.016 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/orders-hub?id=cqqNjMl3KYjtZuT_9IfKBQ - - - 101 - - 20311.8191ms
2022-11-08 23:47:22.016 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/products-hub?id=PzmuWB3kRw_KcdAFSVbX8A - - - 101 - - 20363.8181ms
2022-11-08 23:47:22.460 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:47:22.461 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:22.461 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.1612ms
2022-11-08 23:47:22.465 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:47:22.465 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:22.468 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:22.468 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:47:22.499 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:22.520 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:47:22.526 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:22.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:22.536 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:47:22.537 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:47:22.539 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 70.5832ms
2022-11-08 23:47:22.539 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:22.539 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 74.8852ms
2022-11-08 23:47:22.575 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:22.575 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:22.575 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.5144ms
2022-11-08 23:47:22.576 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:22.577 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:22.577 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:22.577 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:22.580 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:22.583 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:47:22.590 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:47:22.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:47:22.591 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 13.2156ms
2022-11-08 23:47:22.591 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:22.591 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 14.7071ms
2022-11-08 23:47:24.984 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:47:24.989 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:24.994 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:24.996 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:47:24.999 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:24.999 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:25.000 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:25.000 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:25.008 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:25.009 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:25.029 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:47:25.034 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:25.038 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:25.045 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:47:25.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:47:25.047 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 51.3404ms
2022-11-08 23:47:25.047 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:25.048 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 63.6397ms
2022-11-08 23:47:25.062 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:47:25.066 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:47:25.066 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:47:25.067 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 66.1797ms
2022-11-08 23:47:25.067 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:25.067 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 68.1765ms
2022-11-08 23:47:45.660 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:47:45.662 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:45.663 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 3.0940ms
2022-11-08 23:47:45.664 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:47:45.664 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:45.667 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:45.667 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:47:45.673 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:45.685 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:47:45.695 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:45.695 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:45.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4352ms
2022-11-08 23:47:45.697 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:47:45.697 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:45.698 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:45.699 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:45.700 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:45.700 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:45.703 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:47:45.704 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:47:45.710 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:47:45.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:47:45.711 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 42.8509ms
2022-11-08 23:47:45.711 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:47:45.711 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 46.8582ms
2022-11-08 23:47:45.716 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:47:45.717 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:47:45.717 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 18.765ms
2022-11-08 23:47:45.718 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:45.718 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 21.1011ms
2022-11-08 23:47:46.567 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:47:46.567 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:46.568 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.4620ms
2022-11-08 23:47:46.568 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:47:46.569 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:47:46.569 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:46.570 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:47:46.572 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:47:46.577 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:47:46.579 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:47:46.579 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 9.214ms
2022-11-08 23:47:46.579 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:47:46.579 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 10.9514ms
2022-11-08 23:48:05.845 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:48:05.847 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:05.847 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.1860ms
2022-11-08 23:48:05.849 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:48:05.849 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:05.851 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:48:05.852 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:48:05.857 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:05.882 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:48:05.883 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:05.883 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.6264ms
2022-11-08 23:48:05.884 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:48:05.885 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:05.886 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:05.886 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:05.886 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:48:05.889 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:05.894 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:48:05.895 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:48:05.900 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:48:05.903 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:48:05.904 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:48:05.906 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 19.3382ms
2022-11-08 23:48:05.907 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:05.907 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 22.4380ms
2022-11-08 23:48:05.908 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:48:05.909 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:48:05.909 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 56.5961ms
2022-11-08 23:48:05.909 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:48:05.909 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 60.3396ms
2022-11-08 23:48:07.503 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-08 23:48:07.504 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:07.504 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 204 - - 0.5339ms
2022-11-08 23:48:07.505 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-08 23:48:07.506 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:07.506 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:07.506 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:07.537 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:07.545 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:07.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:07.547 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.3339ms
2022-11-08 23:48:07.547 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:07.547 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 200 - application/json;+charset=utf-8 41.4650ms
2022-11-08 23:48:35.079 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-08 23:48:35.084 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:35.088 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 8.6562ms
2022-11-08 23:48:35.093 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-08 23:48:35.095 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:35.104 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:48:35.178 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-08 23:48:35.184 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:35.188 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:48:35.188 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:35.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4629ms
2022-11-08 23:48:35.191 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:48:35.191 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:35.192 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:35.192 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:35.195 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:35.221 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-08 23:48:35.224 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:48:35.227 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:48:35.231 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-08 23:48:35.231 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:48:35.231 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:48:35.232 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 39.243ms
2022-11-08 23:48:35.232 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:35.232 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 41.4740ms
2022-11-08 23:48:35.236 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-08 23:48:35.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-08 23:48:35.237 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 58.9144ms
2022-11-08 23:48:35.237 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-08 23:48:35.237 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 144.8212ms
2022-11-08 23:48:36.271 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - -
2022-11-08 23:48:36.271 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:36.271 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - - - 204 - - 0.6208ms
2022-11-08 23:48:36.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - -
2022-11-08 23:48:36.272 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:36.273 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:36.273 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:36.275 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:36.284 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:36.285 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:36.286 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.6172ms
2022-11-08 23:48:36.286 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:36.286 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - - - 200 - application/json;+charset=utf-8 14.0857ms
2022-11-08 23:48:39.586 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:48:39.586 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:39.587 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.4729ms
2022-11-08 23:48:39.588 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:48:39.589 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:39.589 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:39.589 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:39.591 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:39.597 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:39.598 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:39.598 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.789ms
2022-11-08 23:48:39.598 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:39.599 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 11.0487ms
2022-11-08 23:48:41.995 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-08 23:48:41.995 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:41.995 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 204 - - 0.4679ms
2022-11-08 23:48:41.996 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-08 23:48:41.996 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:41.997 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:41.997 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:41.999 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:42.004 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:42.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:42.006 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.5003ms
2022-11-08 23:48:42.006 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:42.006 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 200 - application/json;+charset=utf-8 9.8319ms
2022-11-08 23:48:44.229 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-08 23:48:44.229 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:44.229 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 204 - - 0.6995ms
2022-11-08 23:48:44.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-08 23:48:44.230 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:44.231 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:44.231 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:44.232 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:44.238 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:44.239 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:44.240 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.4646ms
2022-11-08 23:48:44.240 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:44.240 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 200 - application/json;+charset=utf-8 9.7795ms
2022-11-08 23:48:45.695 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/7515fdd7-6673-4530-b437-b29a4f0feff2 - -
2022-11-08 23:48:45.695 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:45.695 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/7515fdd7-6673-4530-b437-b29a4f0feff2 - - - 204 - - 0.4457ms
2022-11-08 23:48:45.696 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/7515fdd7-6673-4530-b437-b29a4f0feff2 - -
2022-11-08 23:48:45.696 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:45.697 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:45.697 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:45.699 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:45.707 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:45.708 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:45.709 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 11.3315ms
2022-11-08 23:48:45.709 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:45.709 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/7515fdd7-6673-4530-b437-b29a4f0feff2 - - - 200 - application/json;+charset=utf-8 12.6285ms
2022-11-08 23:48:47.302 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - -
2022-11-08 23:48:47.303 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:47.303 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - - - 204 - - 0.4405ms
2022-11-08 23:48:47.304 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - -
2022-11-08 23:48:47.304 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:47.304 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:47.305 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:47.306 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:47.313 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:47.314 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:47.314 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 9.5217ms
2022-11-08 23:48:47.314 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:47.314 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/ba2db819-cd4c-40ac-b16b-f8f78b39883b - - - 200 - application/json;+charset=utf-8 10.9282ms
2022-11-08 23:48:48.824 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:48:48.824 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:48.825 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.7404ms
2022-11-08 23:48:48.825 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-08 23:48:48.826 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:48:48.826 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:48.826 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:48:48.828 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:48:48.833 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:48:48.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:48:48.835 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.2857ms
2022-11-08 23:48:48.835 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:48:48.835 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 9.6530ms
2022-11-08 23:49:10.849 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=1&size=5 - -
2022-11-08 23:49:10.851 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:10.852 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=1&size=5 - - - 204 - - 2.7942ms
2022-11-08 23:49:10.853 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=1&size=5 - -
2022-11-08 23:49:10.854 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:10.856 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:10.861 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:49:10.883 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:49:10.900 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:49:10.909 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:49:10.909 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-11-08 23:49:10.942 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_0 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:49:10.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:49:10.944 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 82.7745ms
2022-11-08 23:49:10.944 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:10.944 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=1&size=5 - - - 200 - application/json;+charset=utf-8 91.4117ms
2022-11-08 23:49:12.158 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/507eb647-a42c-4442-8cb3-b04eeac38c4f - -
2022-11-08 23:49:12.159 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:12.159 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/507eb647-a42c-4442-8cb3-b04eeac38c4f - - - 204 - - 0.8878ms
2022-11-08 23:49:12.160 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/507eb647-a42c-4442-8cb3-b04eeac38c4f - -
2022-11-08 23:49:12.160 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:12.160 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:12.161 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:49:12.162 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:49:12.170 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-08 23:49:12.190 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-08 23:49:12.191 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 30.0505ms
2022-11-08 23:49:12.191 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:12.191 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/507eb647-a42c-4442-8cb3-b04eeac38c4f - - - 200 - application/json;+charset=utf-8 31.5449ms
2022-11-08 23:49:13.430 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:49:13.431 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:13.431 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4981ms
2022-11-08 23:49:13.432 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-08 23:49:13.433 +03:00 [INF] CORS policy execution successful.
2022-11-08 23:49:13.434 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:13.434 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-08 23:49:13.436 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-08 23:49:13.440 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-08 23:49:13.445 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-08 23:49:13.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-08 23:49:13.445 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 11.6213ms
2022-11-08 23:49:13.446 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-08 23:49:13.446 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 13.9870ms
2022-11-09 00:00:16.667 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:16.669 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:16.669 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 204 - - 2.9864ms
2022-11-09 00:00:16.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:16.671 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:16.676 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-11-09 00:00:16.682 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2022-11-09 00:00:16.683 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-11-09 00:00:16.685 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2022-11-09 00:00:16.685 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 401 0 - 14.2872ms
2022-11-09 00:00:16.704 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - -
2022-11-09 00:00:16.704 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:16.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/auth/refreshtoken - - - 204 - - 0.3146ms
2022-11-09 00:00:16.705 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63
2022-11-09 00:00:16.705 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:16.705 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-09 00:00:16.706 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandRequest) on controller ECommerce.WebApi.Controllers.AuthController (ECommerce.WebApi).
2022-11-09 00:00:16.713 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:16.755 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2022-11-09 00:00:16.759 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2022-11-09 00:00:16.764 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2022-11-09 00:00:16.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Commands.User.RefreshTokenLogin.RefreshTokenCommandResponse'.
2022-11-09 00:00:16.767 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi) in 61.3407ms
2022-11-09 00:00:16.767 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.AuthController.RefreshToken (ECommerce.WebApi)'
2022-11-09 00:00:16.767 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7129/api/auth/refreshtoken application/json 63 - 200 - application/json;+charset=utf-8 62.5285ms
2022-11-09 00:00:19.265 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:00:19.266 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:19.266 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 0.4465ms
2022-11-09 00:00:19.266 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:00:19.266 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:19.267 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:00:19.267 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:00:19.269 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:19.276 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:00:19.280 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:00:19.283 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:00:19.290 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:00:19.291 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:00:19.291 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 23.8135ms
2022-11-09 00:00:19.291 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:00:19.291 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 25.2647ms
2022-11-09 00:00:19.309 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:00:19.310 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:19.310 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3854ms
2022-11-09 00:00:19.310 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:00:19.310 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:19.311 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:19.311 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:00:19.313 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:19.317 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:00:19.323 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:00:19.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:00:19.324 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.6719ms
2022-11-09 00:00:19.324 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:19.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 14.0425ms
2022-11-09 00:00:20.701 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:20.701 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:20.702 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:20.702 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:00:20.704 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:20.710 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:00:20.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:00:20.712 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 9.2522ms
2022-11-09 00:00:20.712 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:20.712 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 200 - application/json;+charset=utf-8 11.1959ms
2022-11-09 00:00:23.414 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:23.414 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:23.414 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 204 - - 0.4763ms
2022-11-09 00:00:23.415 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:23.415 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:23.416 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:23.416 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:00:23.418 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:23.425 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:00:23.426 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:00:23.427 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 11.0207ms
2022-11-09 00:00:23.427 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:23.427 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 200 - application/json;+charset=utf-8 12.4791ms
2022-11-09 00:00:26.350 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - -
2022-11-09 00:00:26.351 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:00:26.351 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:26.351 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:00:26.353 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:00:26.359 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:00:26.360 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:00:26.361 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 9.3844ms
2022-11-09 00:00:26.361 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:00:26.361 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/de8ee6e1-1136-4c15-aa50-97a0a7d6c5ef - - - 200 - application/json;+charset=utf-8 10.7965ms
2022-11-09 00:01:07.758 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:01:07.760 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:07.760 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.7070ms
2022-11-09 00:01:07.761 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:01:07.762 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:07.763 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:01:07.764 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:01:07.770 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:07.788 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:01:07.793 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:01:07.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:01:07.802 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:01:07.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:01:07.803 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 38.2598ms
2022-11-09 00:01:07.803 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:01:07.803 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 41.6997ms
2022-11-09 00:01:07.805 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:01:07.805 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:07.805 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.2738ms
2022-11-09 00:01:07.807 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:01:07.807 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:07.807 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:07.807 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:01:07.809 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:07.812 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:01:07.820 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:01:07.821 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:01:07.822 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 14.1946ms
2022-11-09 00:01:07.822 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:07.822 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 15.3802ms
2022-11-09 00:01:09.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:01:09.647 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:09.647 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.6079ms
2022-11-09 00:01:09.648 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:01:09.648 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:09.649 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:09.649 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:01:09.650 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:09.656 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:01:09.657 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:01:09.657 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.3374ms
2022-11-09 00:01:09.657 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:09.658 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 9.5373ms
2022-11-09 00:01:15.422 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-09 00:01:15.423 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:15.423 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 204 - - 0.6922ms
2022-11-09 00:01:15.424 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-09 00:01:15.424 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:15.424 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:15.425 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:01:15.426 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:15.431 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:01:15.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:01:15.432 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 7.5767ms
2022-11-09 00:01:15.432 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:15.433 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 200 - application/json;+charset=utf-8 9.0959ms
2022-11-09 00:01:21.216 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:01:21.217 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:21.218 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.2570ms
2022-11-09 00:01:21.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:01:21.219 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:21.219 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:01:21.219 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:01:21.221 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:21.227 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:01:21.230 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:01:21.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:01:21.237 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:01:21.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:01:21.237 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 17.6378ms
2022-11-09 00:01:21.237 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:01:21.238 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 19.0805ms
2022-11-09 00:01:21.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:01:21.241 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:21.241 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3763ms
2022-11-09 00:01:21.242 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:01:21.242 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:21.242 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:21.242 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:01:21.244 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:21.247 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:01:21.252 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:01:21.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:01:21.253 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 10.6184ms
2022-11-09 00:01:21.253 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:21.254 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 11.8605ms
2022-11-09 00:01:23.210 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-09 00:01:23.210 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:23.210 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 204 - - 0.4845ms
2022-11-09 00:01:23.212 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - -
2022-11-09 00:01:23.212 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:01:23.212 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:23.212 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:01:23.214 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:01:23.219 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:01:23.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:01:23.220 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 7.1708ms
2022-11-09 00:01:23.220 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:01:23.220 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/27547580-3715-4850-9415-8c6bbc6c9c1c - - - 200 - application/json;+charset=utf-8 8.4627ms
2022-11-09 00:03:17.003 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:03:17.005 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:17.005 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.3012ms
2022-11-09 00:03:17.007 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:03:17.008 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:17.010 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:03:17.011 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:03:17.015 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:03:17.072 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:03:17.081 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:03:17.084 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:03:17.091 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:03:17.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:03:17.092 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 80.7795ms
2022-11-09 00:03:17.092 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:03:17.092 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 84.6267ms
2022-11-09 00:03:17.093 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:03:17.093 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:17.094 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.2598ms
2022-11-09 00:03:17.095 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:03:17.095 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:17.095 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:03:17.096 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:03:17.097 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:03:17.102 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:03:17.109 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:03:17.109 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:03:17.110 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 13.8133ms
2022-11-09 00:03:17.110 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:03:17.110 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 15.1957ms
2022-11-09 00:03:18.451 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:03:18.452 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:18.452 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.5375ms
2022-11-09 00:03:18.453 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:03:18.453 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:03:18.454 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:03:18.454 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:03:18.455 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:03:18.461 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:03:18.462 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:03:18.462 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 8.3765ms
2022-11-09 00:03:18.463 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:03:18.463 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 9.7907ms
2022-11-09 00:07:23.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:07:23.649 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:23.649 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.7822ms
2022-11-09 00:07:23.651 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:07:23.651 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:23.653 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:07:23.653 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:07:23.657 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:07:23.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:07:23.704 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:23.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.2865ms
2022-11-09 00:07:23.705 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:07:23.705 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:23.705 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:07:23.706 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:07:23.707 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:07:23.720 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:07:23.725 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:07:23.730 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:07:23.742 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:07:23.743 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:07:23.755 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:07:23.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:07:23.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:07:23.755 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 102.3492ms
2022-11-09 00:07:23.756 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:07:23.756 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 49.8381ms
2022-11-09 00:07:23.756 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:07:23.756 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 51.8005ms
2022-11-09 00:07:23.757 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 105.6365ms
2022-11-09 00:07:25.658 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:07:25.658 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:25.658 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.4626ms
2022-11-09 00:07:25.659 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:07:25.660 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:07:25.660 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:07:25.660 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:07:25.662 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:07:25.667 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:07:25.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:07:25.668 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 7.9424ms
2022-11-09 00:07:25.668 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:07:25.669 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 9.2196ms
2022-11-09 00:08:22.728 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:08:22.730 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:22.730 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 2.5130ms
2022-11-09 00:08:22.733 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:08:22.733 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:22.735 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:08:22.735 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:08:22.740 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:22.762 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:08:22.762 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:08:22.763 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:22.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 1.6771ms
2022-11-09 00:08:22.765 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:08:22.765 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:22.766 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:22.766 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:08:22.773 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:22.778 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:08:22.780 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:08:22.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:08:22.792 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:08:22.792 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:08:22.792 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:08:22.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:08:22.793 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 25.0694ms
2022-11-09 00:08:22.793 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 57.6763ms
2022-11-09 00:08:22.795 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:22.795 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:08:22.795 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 30.7942ms
2022-11-09 00:08:22.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 63.0148ms
2022-11-09 00:08:24.076 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:08:24.076 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:24.076 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 1.3245ms
2022-11-09 00:08:24.077 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:08:24.078 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:24.078 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:24.078 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:08:24.080 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:24.090 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:08:24.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:08:24.091 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.8845ms
2022-11-09 00:08:24.091 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:24.091 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 14.0444ms
2022-11-09 00:08:50.009 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:08:50.009 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:50.010 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.0195ms
2022-11-09 00:08:50.011 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:08:50.011 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:50.012 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:08:50.023 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:08:50.032 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:50.052 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:08:50.062 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:08:50.066 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:08:50.079 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:08:50.081 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:08:50.082 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 58.5515ms
2022-11-09 00:08:50.083 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:08:50.083 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 71.9193ms
2022-11-09 00:08:50.106 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:08:50.106 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:50.106 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.3864ms
2022-11-09 00:08:50.107 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:08:50.107 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:50.108 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:50.108 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:08:50.110 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:50.115 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:08:50.119 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:08:50.120 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:08:50.120 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.2276ms
2022-11-09 00:08:50.121 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:50.121 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 13.9055ms
2022-11-09 00:08:51.606 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:08:51.607 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:51.607 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 0.6483ms
2022-11-09 00:08:51.608 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:08:51.608 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:08:51.609 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:51.609 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:08:51.611 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:08:51.617 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:08:51.621 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:08:51.621 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 12.1282ms
2022-11-09 00:08:51.621 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:08:51.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 13.7071ms
2022-11-09 00:12:14.151 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:12:14.152 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:12:14.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6186ms
2022-11-09 00:12:14.153 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:12:14.154 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:12:14.155 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:12:14.156 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:12:14.161 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:12:14.194 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:12:14.202 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:12:14.206 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:12:14.223 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:12:14.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:12:14.226 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 69.8103ms
2022-11-09 00:12:14.226 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:12:14.227 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 73.1039ms
2022-11-09 00:12:14.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:12:14.241 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:12:14.242 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4538ms
2022-11-09 00:12:14.243 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:12:14.243 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:12:14.244 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:12:14.244 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:12:14.246 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:12:14.250 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:12:14.268 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:12:14.268 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:12:14.269 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 24.8318ms
2022-11-09 00:12:14.269 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:12:14.269 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 26.4267ms
2022-11-09 00:14:27.847 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - -
2022-11-09 00:14:27.848 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:27.848 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/baskets - - - 204 - - 1.6014ms
2022-11-09 00:14:27.849 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/baskets - -
2022-11-09 00:14:27.849 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:27.851 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:14:27.855 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ECommerce.WebApi.Controllers.BasketsController (ECommerce.WebApi).
2022-11-09 00:14:27.864 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:14:27.901 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:14:27.901 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:27.901 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders?page=0&size=5 - - - 204 - - 0.4315ms
2022-11-09 00:14:27.902 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - -
2022-11-09 00:14:27.902 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:27.903 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:14:27.903 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:14:27.906 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:14:27.943 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2022-11-09 00:14:27.944 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2022-11-09 00:14:27.947 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:14:27.950 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2022-11-09 00:14:27.950 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
LEFT JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2022-11-09 00:14:27.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2022-11-09 00:14:27.953 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 48.2986ms
2022-11-09 00:14:27.953 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:14:27.953 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 51.0083ms
2022-11-09 00:14:27.953 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2022-11-09 00:14:27.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ECommerce.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ECommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-09 00:14:27.954 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi) in 98.5172ms
2022-11-09 00:14:27.954 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.BasketsController.GetBasketItems (ECommerce.WebApi)'
2022-11-09 00:14:27.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/baskets - - - 200 - application/json;+charset=utf-8 104.8961ms
2022-11-09 00:14:33.605 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:14:33.606 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:33.606 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 204 - - 1.5388ms
2022-11-09 00:14:33.607 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - -
2022-11-09 00:14:33.607 +03:00 [INF] CORS policy execution successful.
2022-11-09 00:14:33.609 +03:00 [INF] Executing endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:14:33.609 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrders(ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryRequest) on controller ECommerce.WebApi.Controllers.OrdersController (ECommerce.WebApi).
2022-11-09 00:14:33.612 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ECommerceDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.7+5b98e4b74de93b590b44aef8dd7967c03acc433c' with options: None
2022-11-09 00:14:33.629 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Address", t."CreatedDate", t."Description", t."OrderCode", t."UpdatedDate", t."Id0", t."CreatedDate0", t."UpdatedDate0", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate", b."Id" AS "Id0", b."CreatedDate" AS "CreatedDate0", b."UpdatedDate" AS "UpdatedDate0", b."UserId"
    FROM "Orders" AS o
    INNER JOIN "Baskets" AS b ON o."Id" = b."Id"
    WHERE o."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id0" = t0."BasketId"
ORDER BY t."Id", t."Id0", t0."Id"
2022-11-09 00:14:33.636 +03:00 [INF] Executing OkObjectResult, writing value of type 'ECommerce.Application.Features.Queries.Order.GetByIdOrder.GetByIdOrderQueryResponse'.
2022-11-09 00:14:33.640 +03:00 [INF] Executed action ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi) in 30.554ms
2022-11-09 00:14:33.641 +03:00 [INF] Executed endpoint 'ECommerce.WebApi.Controllers.OrdersController.GetAllOrders (ECommerce.WebApi)'
2022-11-09 00:14:33.642 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7129/api/orders/96816f30-e3e4-4137-91be-0d42bf4d9b89 - - - 200 - application/json;+charset=utf-8 35.1743ms
